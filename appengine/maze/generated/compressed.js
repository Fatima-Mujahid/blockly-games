// Automatically generated file.  Do not edit!
var g;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function ba(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}var ca="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
function da(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var ea=da(this);function fa(a,b){if(b)a:{var c=ea;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ca(c,a,{configurable:!0,writable:!0,value:b})}}
fa("Symbol",function(a){function b(f){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new c(d+(f||"")+"_"+e++,f)}function c(f,h){this.On=f;ca(this,"description",{configurable:!0,writable:!0,value:h})}if(a)return a;c.prototype.toString=function(){return this.On};var d="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",e=0;return b});
fa("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=ea[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&ca(d.prototype,a,{configurable:!0,writable:!0,value:function(){return ha(aa(this))}})}return a});function ha(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}
function ia(a,b){a instanceof String&&(a+="");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e}fa("Array.prototype.keys",function(a){return a?a:function(){return ia(this,function(b){return b})}});fa("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});
fa("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}});
fa("String.prototype.includes",function(a){return a?a:function(b,c){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==(this+"").indexOf(b,c||0)}});function ja(a,b){return Object.prototype.hasOwnProperty.call(a,b)}
fa("WeakMap",function(a){function b(l){this.Pd=(k+=Math.random()+1).toString();if(l){l=ba(l);for(var m;!(m=l.next()).done;)m=m.value,this.set(m[0],m[1])}}function c(){}function d(l){var m=typeof l;return"object"===m&&null!==l||"function"===m}function e(l){if(!ja(l,h)){var m=new c;ca(l,h,{value:m})}}function f(l){var m=Object[l];m&&(Object[l]=function(n){if(n instanceof c)return n;Object.isExtensible(n)&&e(n);return m(n)})}if(function(){if(!a||!Object.seal)return!1;try{var l=Object.seal({}),m=Object.seal({}),
n=new a([[l,2],[m,3]]);if(2!=n.get(l)||3!=n.get(m))return!1;n.delete(l);n.set(m,4);return!n.has(l)&&4==n.get(m)}catch(x){return!1}}())return a;var h="$jscomp_hidden_"+Math.random();f("freeze");f("preventExtensions");f("seal");var k=0;b.prototype.set=function(l,m){if(!d(l))throw Error("Invalid WeakMap key");e(l);if(!ja(l,h))throw Error("WeakMap key fail: "+l);l[h][this.Pd]=m;return this};b.prototype.get=function(l){return d(l)&&ja(l,h)?l[h][this.Pd]:void 0};b.prototype.has=function(l){return d(l)&&
ja(l,h)&&ja(l[h],this.Pd)};b.prototype.delete=function(l){return d(l)&&ja(l,h)&&ja(l[h],this.Pd)?delete l[h][this.Pd]:!1};return b});
fa("Map",function(a){function b(){var k={};return k.Nc=k.next=k.head=k}function c(k,l){var m=k.Ic;return ha(function(){if(m){for(;m.head!=k.Ic;)m=m.Nc;for(;m.next!=m.head;)return m=m.next,{done:!1,value:l(m)};m=null}return{done:!0,value:void 0}})}function d(k,l){var m=l&&typeof l;"object"==m||"function"==m?f.has(l)?m=f.get(l):(m=""+ ++h,f.set(l,m)):m="p_"+l;var n=k.Mf[m];if(n&&ja(k.Mf,m))for(k=0;k<n.length;k++){var x=n[k];if(l!==l&&x.key!==x.key||l===x.key)return{id:m,list:n,index:k,fb:x}}return{id:m,
list:n,index:-1,fb:void 0}}function e(k){this.Mf={};this.Ic=b();this.size=0;if(k){k=ba(k);for(var l;!(l=k.next()).done;)l=l.value,this.set(l[0],l[1])}}if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var k=Object.seal({x:4}),l=new a(ba([[k,"s"]]));if("s"!=l.get(k)||1!=l.size||l.get({x:4})||l.set({x:4},"t")!=l||2!=l.size)return!1;var m=l.entries(),n=m.next();if(n.done||n.value[0]!=k||"s"!=n.value[1])return!1;n=m.next();return n.done||4!=n.value[0].x||
"t"!=n.value[1]||!m.next().done?!1:!0}catch(x){return!1}}())return a;var f=new WeakMap;e.prototype.set=function(k,l){k=0===k?0:k;var m=d(this,k);m.list||(m.list=this.Mf[m.id]=[]);m.fb?m.fb.value=l:(m.fb={next:this.Ic,Nc:this.Ic.Nc,head:this.Ic,key:k,value:l},m.list.push(m.fb),this.Ic.Nc.next=m.fb,this.Ic.Nc=m.fb,this.size++);return this};e.prototype.delete=function(k){k=d(this,k);return k.fb&&k.list?(k.list.splice(k.index,1),k.list.length||delete this.Mf[k.id],k.fb.Nc.next=k.fb.next,k.fb.next.Nc=
k.fb.Nc,k.fb.head=null,this.size--,!0):!1};e.prototype.clear=function(){this.Mf={};this.Ic=this.Ic.Nc=b();this.size=0};e.prototype.has=function(k){return!!d(this,k).fb};e.prototype.get=function(k){return(k=d(this,k).fb)&&k.value};e.prototype.entries=function(){return c(this,function(k){return[k.key,k.value]})};e.prototype.keys=function(){return c(this,function(k){return k.key})};e.prototype.values=function(){return c(this,function(k){return k.value})};e.prototype.forEach=function(k,l){for(var m=this.entries(),
n;!(n=m.next()).done;)n=n.value,k.call(l,n[1],n[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var h=0;return e});
var ka={},la;
var ma=28,na=ma,oa=[,2,1,4,3];
var p=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof global?global:this}();
var q={};p.Blockly||(p.Blockly={});p.Blockly.Msg||(p.Blockly.Msg=q);function pa(a){a=String(a).toLowerCase().trim();var b=qa[a];if(b)return b;b="0x"==a.substring(0,2)?"#"+a.substring(2):a;b="#"==b[0]?b:"#"+b;if(/^#[0-9a-f]{6}$/.test(b))return b;if(/^#[0-9a-f]{3}$/.test(b))return["#",b[1],b[1],b[2],b[2],b[3],b[3]].join("");var c=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return c&&(a=Number(c[1]),b=Number(c[2]),c=Number(c[3]),0<=a&&256>a&&0<=b&&256>b&&0<=c&&256>c)?ra(a,b,c):null}
function ra(a,b,c){b=a<<16|b<<8|c;return 16>a?"#"+(16777216|b).toString(16).substr(1):"#"+b.toString(16)}function sa(a){a=pa(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]}function ta(a,b,c){a=pa(a);if(!a)return null;b=pa(b);if(!b)return null;a=sa(a);b=sa(b);return ra(Math.round(b[0]+c*(a[0]-b[0])),Math.round(b[1]+c*(a[1]-b[1])),Math.round(b[2]+c*(a[2]-b[2])))}
var qa={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};function r(a,b){this.x=a;this.y=b}function ua(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1}function va(a,b){var c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)}function wa(a,b){return new r(a.x-b.x,a.y-b.y)}function xa(a,b){return new r(a.x+b.x,a.y+b.y)}r.prototype.clone=function(){return new r(this.x,this.y)};r.prototype.scale=function(a){this.x*=a;this.y*=a;return this};r.prototype.translate=function(a,b){this.x+=a;this.y+=b;return this};function ya(a,b,c,d){this.top=a;this.bottom=b;this.left=c;this.right=d}ya.prototype.contains=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};function za(a){return a.length?a.reduce(function(b,c){return b.length<c.length?b:c}).length:0}function Aa(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var c=0;b=b||za(a);for(var d=0;d<b;d++){for(var e=a[0][d],f=1;f<a.length;f++)if(e!=a[f][d])return c;" "==e&&(c=d+1)}for(f=1;f<a.length;f++)if((e=a[f][d])&&" "!=e)return c;return b}
function Ca(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var c=0;b=b||za(a);for(var d=0;d<b;d++){for(var e=a[0].substr(-d-1,1),f=1;f<a.length;f++)if(e!=a[f].substr(-d-1,1))return c;" "==e&&(c=d+1)}for(f=1;f<a.length;f++)if((e=a[f].charAt(a[f].length-d-1))&&" "!=e)return c;return b}
function Da(a,b){a=a.split("\n");for(var c=0;c<a.length;c++){var d=c;var e=a[c],f=b;if(e.length<=f)var h=e;else{for(var k=e.trim().split(/\s+/),l=0;l<k.length;l++)k[l].length>f&&(f=k[l].length);l=-Infinity;var m=1;do{var n=l;h=e;e=[];var x=k.length/m,y=1;for(l=0;l<k.length-1;l++)y<(l+1.5)/x?(y++,e[l]=!0):e[l]=!1;e=Ea(k,e,f);l=Fa(k,e,f);x=k;y=[];for(var F=0;F<x.length;F++)y.push(x[F]),void 0!==e[F]&&y.push(e[F]?"\n":" ");e=y.join("");m++}while(l>n)}a[d]=h}return a.join("\n")}
function Fa(a,b,c){for(var d=[0],e=[],f=0;f<a.length;f++)d[d.length-1]+=a[f].length,!0===b[f]?(d.push(0),e.push(a[f].charAt(a[f].length-1))):!1===b[f]&&d[d.length-1]++;a=Math.max.apply(Math,d);for(f=b=0;f<d.length;f++)b-=2*Math.pow(Math.abs(c-d[f]),1.5),b-=Math.pow(a-d[f],1.5),-1!=".?!".indexOf(e[f])?b+=c/3:-1!=",;)]}".indexOf(e[f])&&(b+=c/4);1<d.length&&d[d.length-1]<=d[d.length-2]&&(b+=.5);return b}
function Ea(a,b,c){for(var d=Fa(a,b,c),e,f=0;f<b.length-1;f++)if(b[f]!=b[f+1]){var h=[].concat(b);h[f]=!h[f];h[f+1]=!h[f+1];var k=Fa(a,h,c);k>d&&(d=k,e=h)}return e?Ea(a,e,c):b};function Ga(a,b){this.width=a;this.height=b};function Ha(a){var b;(b=Ia(a,"display"))||(b=a.currentStyle?a.currentStyle.display:null);if("none"!=(b||a.style&&a.style.display))return new Ga(a.offsetWidth,a.offsetHeight);b=a.style;var c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";var f=a.offsetWidth;a=a.offsetHeight;b.display=c;b.position=e;b.visibility=d;return new Ga(f,a)}
function Ia(a,b){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[b]||a.getPropertyValue(b)||"":""}function Ja(a){var b=new r(0,0);a=a.getBoundingClientRect();var c=document.documentElement;c=new r(window.pageXOffset||c.scrollLeft,window.pageYOffset||c.scrollTop);b.x=a.left+c.x;b.y=a.top+c.y;return b};var Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua;
(function(a){function b(d){return-1!=c.indexOf(d.toUpperCase())}Ua=a;var c=Ua.toUpperCase();Ka=b("Trident")||b("MSIE");La=b("Edge");b("JavaFX");!b("Chrome")&&b("CriOS");Ma=b("WebKit")&&!La;Na=b("Gecko")&&!Ma&&!Ka&&!La;Oa=b("Android");a=p.navigator&&p.navigator.maxTouchPoints;Pa=b("iPad")||b("Macintosh")&&0<a;Qa=b("iPod");Ra=b("iPhone")&&!Pa&&!Qa;Sa=b("Macintosh");Ta=Pa||Oa&&!b("Mobile")||b("Silk");!Ta&&(Qa||Ra||Oa||b("IEMobile"))})(p.navigator&&p.navigator.userAgent||"");
function Va(a){a.preventDefault();a.stopPropagation()}function Wa(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable||a.target.dataset&&"true"==a.target.dataset.Vq}
function Xa(a){var b=new r(0,0),c=a.getAttribute("x");c&&(b.x=parseInt(c,10));if(c=a.getAttribute("y"))b.y=parseInt(c,10);if(c=(c=a.getAttribute("transform"))&&c.match(Ya))b.x+=Number(c[1]),c[3]&&(b.y+=Number(c[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(Za))&&(b.x+=Number(a[1]),a[3]&&(b.y+=Number(a[3])));return b}
function $a(a){for(var b=0,c=0;a;){var d=Xa(a);b+=d.x;c+=d.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new r(b,c)}var Ya=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,Za=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;function bb(a){return a.ctrlKey&&Sa?!0:2==a.button}function cb(a,b,c){var d=b.createSVGPoint();d.x=a.clientX;d.y=a.clientY;c||(c=b.getScreenCTM().inverse());return d.matrixTransform(c)}
function db(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:40*a.deltaX,y:40*a.deltaY};case 2:return{x:125*a.deltaX,y:125*a.deltaY}}}function eb(a){if("string"!=typeof a)return a;a=fb(a,!1);return a.length?String(a[0]):""}
function fb(a,b){var c=[],d=a.split("");d.push("");var e=0;a=[];for(var f=null,h=0;h<d.length;h++){var k=d[h];0==e?"%"==k?((k=a.join(""))&&c.push(k),a.length=0,e=1):a.push(k):1==e?"%"==k?(a.push(k),e=0):b&&"0"<=k&&"9">=k?(e=2,f=k,(k=a.join(""))&&c.push(k),a.length=0):"{"==k?e=3:(a.push("%",k),e=0):2==e?"0"<=k&&"9">=k?f+=k:(c.push(parseInt(f,10)),h--,e=0):3==e&&(""==k?(a.splice(0,0,"%{"),h--,e=0):"}"!=k?a.push(k):(e=a.join(""),/[A-Z]\w*/i.test(e)?(k=e.toUpperCase(),(k=0==k.lastIndexOf("BKY_",0)?k.substring(4):
null)&&k in q?(e=q[k],"string"==typeof e?Array.prototype.push.apply(c,fb(e,b)):b?c.push(String(e)):c.push(e)):c.push("%{"+e+"}")):c.push("%{"+e+"}"),e=a.length=0))}(k=a.join(""))&&c.push(k);b=[];for(h=a.length=0;h<c.length;++h)"string"==typeof c[h]?a.push(c[h]):((k=a.join(""))&&b.push(k),a.length=0,b.push(c[h]));(k=a.join(""))&&b.push(k);a.length=0;return b}function gb(){for(var a=hb.length,b=[],c=0;20>c;c++)b[c]=hb.charAt(Math.random()*a);return b.join("")}var hb="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
function ib(){if(void 0!==jb)return jb;if(!p.getComputedStyle)return!1;var a=document.createElement("p"),b="none",c={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var d in c)if(void 0!==a.style[d]){a.style[d]="translate3d(1px,1px,1px)";b=p.getComputedStyle(a);if(!b)return document.body.removeChild(a),!1;b=b.getPropertyValue(c[d])}document.body.removeChild(a);return jb=
"none"!==b}var jb;function kb(a,b){b=a.indexOf(b);if(-1==b)return!1;a.splice(b,1);return!0}function lb(a,b){var c=Object.create(null),d=mb(a,!0);b&&(a=nb(a))&&(a=d.indexOf(a),d.splice(a,d.length-a));for(a=0;b=d[a];a++)c[b.type]?c[b.type]++:c[b.type]=1;return c}
function ob(a){var b="string"==typeof a?eb(a):a,c=Number(b);if(!isNaN(c)&&0<=c&&360>=c){var d=b=a=0,e=Math.floor(c/60),f=c/60-e,h=165.75*.55,k=165.75*(1-.45*f);f=165.75*(1-.45*(1-f));switch(e){case 1:a=k;b=165.75;d=h;break;case 2:a=h;b=165.75;d=f;break;case 3:a=h;b=k;d=165.75;break;case 4:a=f;b=h;d=165.75;break;case 5:a=165.75;b=h;d=k;break;case 6:case 0:a=165.75,b=f,d=h}a=ra(Math.floor(a),Math.floor(b),Math.floor(d));return{qp:c,cg:a}}if(c=pa(b))return{qp:null,cg:c};c='Invalid colour: "'+b+'"';a!=
b&&(c+=' (from "'+a+'")');throw Error(c);};var pb="ontouchstart"in p||!!(p.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!p.navigator||!p.navigator.maxTouchPoints&&!p.navigator.msMaxTouchPoints),qb=null,rb={};
p.PointerEvent?rb={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:pb&&(rb={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});var sb=0;
function tb(a,b){ub();a.changedTouches&&1!=a.changedTouches.length||(sb=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);b&&vb(b,a)},750))}function ub(){sb&&(clearTimeout(sb),sb=0)}function xb(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"}
function yb(a){var b=xb(a);return void 0!==qb&&null!==qb?qb==b:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(qb=b,!0):!1}function zb(a){return 0==a.type.lastIndexOf("touch",0)||0==a.type.lastIndexOf("mouse",0)||0==a.type.lastIndexOf("pointer",0)}function Ab(a){return 0==a.type.lastIndexOf("touch",0)||0==a.type.lastIndexOf("pointer",0)}
function Bb(a){var b=[];if(a.changedTouches)for(var c=0;c<a.changedTouches.length;c++)b[c]={type:a.type,changedTouches:[a.changedTouches[c]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else b.push(a);return b};function t(a,b,c,d,e,f){function h(y){var F=!e;y=Bb(y);for(var ab=0,Ba;Ba=y[ab];ab++)if(!F||!zb(Ba)||yb(Ba)){var wb=Ba;if(0==wb.type.lastIndexOf("touch",0)){var be=wb.changedTouches[0];wb.clientX=be.clientX;wb.clientY=be.clientY}c?d.call(c,Ba):d(Ba);k=!0}}var k=!1,l=[];if(p.PointerEvent&&b in rb)for(var m=0,n;n=rb[b][m];m++)a.addEventListener(n,h,!1),l.push([a,n,h]);else if(a.addEventListener(b,h,!1),l.push([a,b,h]),b in rb){var x=function(y){h(y);var F=!f;k&&F&&y.preventDefault()};for(m=0;n=rb[b][m];m++)a.addEventListener(n,
x,!1),l.push([a,n,x])}return l}function u(a,b,c,d){function e(m){c?d.call(c,m):d(m)}var f=[];if(p.PointerEvent&&b in rb)for(var h=0,k;k=rb[b][h];h++)a.addEventListener(k,e,!1),f.push([a,k,e]);else if(a.addEventListener(b,e,!1),f.push([a,b,e]),b in rb){var l=function(m){if(m.changedTouches&&1==m.changedTouches.length){var n=m.changedTouches[0];m.clientX=n.clientX;m.clientY=n.clientY}e(m);m.preventDefault()};for(h=0;k=rb[b][h];h++)a.addEventListener(k,l,!1),f.push([a,k,l])}return f}
function v(a){for(;a.length;){var b=a.pop();b[0].removeEventListener(b[1],b[2],!1)}};
function Cb(){this.Uc=Object.create(null);this.Ee=Object.create(null)}function Db(a,b){var c=b.component.id;if(a.Uc[c])throw Error('Plugin "'+c+'" with capabilities "'+a.Uc[c].Sc+'" already added.');a.Uc[c]=b;for(var d=[],e=0;e<b.Sc.length;e++){var f=String(b.Sc[e]).toLowerCase();d.push(f);void 0===a.Ee[f]?a.Ee[f]=[c]:a.Ee[f].push(c)}a.Uc[c].Sc=d}
function Eb(a,b){var c=a.Uc[b];if(c){for(var d=0;d<c.Sc.length;d++){var e=String(c.Sc[d]).toLowerCase();a.Ee[e].splice(a.Ee[e].indexOf(b),1)}delete a.Uc[b]}}function Fb(a,b){var c=Gb;c=String(c).toLowerCase();return-1!==a.Uc[b].Sc.indexOf(c)}function Hb(a,b){b=String(b).toLowerCase();b=a.Ee[b];if(!b)return[];var c=[],d=[],e=a.Uc;b.forEach(function(f){d.push(e[f])});d.sort(function(f,h){return f.weight-h.weight});d.forEach(function(f){c.push(f.component)});return c}function Ib(a){this.og=a}
Ib.prototype.toString=function(){return this.og};var Jb=new Ib("positionable"),Kb=new Ib("drag_target"),Gb=new Ib("delete_area"),Lb=new Ib("autohideable");
function w(a){this.Up=a}w.prototype.toString=function(){return this.Up};var Mb=new w("animate"),Nb=new w("circle"),Ob=new w("clipPath"),Pb=new w("defs"),Qb=new w("feComposite"),Rb=new w("feGaussianBlur"),Sb=new w("fePointLight"),Tb=new w("feSpecularLighting"),Ub=new w("filter"),Vb=new w("g"),Wb=new w("image"),Xb=new w("line"),Yb=new w("path"),Zb=new w("pattern"),$b=new w("rect"),ac=new w("svg"),bc=new w("text"),cc=new w("tspan");var dc=null,ec=0,fc=null;function z(a,b,c){a=document.createElementNS("http://www.w3.org/2000/svg",String(a));for(var d in b)a.setAttribute(d,b[d]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);c&&c.appendChild(a);return a}function A(a,b){var c=a.getAttribute("class")||"";a.setAttribute("class",c+" "+b)}
function gc(a,b){for(var c=(a.getAttribute("class")||"").split(/\s+/),d=0;d<c.length;d++)c[d]&&c[d]!=b||(c.splice(d,1),d--);c.length?a.setAttribute("class",c.join(" ")):a.removeAttribute("class")}function hc(a,b){return-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" "+b+" ")}function ic(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function jc(a,b){var c=b.nextSibling;b=b.parentNode;if(!b)throw Error("Reference node has no parent.");c?b.insertBefore(a,c):b.appendChild(a)}
function kc(a,b){a.style.transform=b;a.style["-webkit-transform"]=b}function lc(){ec++;dc||(dc=Object.create(null))}function mc(){ec--;ec||(dc=null)}function nc(a,b,c,d){var e=a.textContent;a=e+"\n"+a.className.baseVal;var f;if(dc&&(f=dc[a]))return f;fc||(f=document.createElement("canvas"),f.className="blocklyComputeCanvas",document.body.appendChild(f),fc=f.getContext("2d"));fc.font=c+" "+b+" "+d;f=fc.measureText(e).width;dc&&(dc[a]=f);return f};function oc(a,b,c){if(c<a){var d=c;c=a;a=d}return Math.max(a,Math.min(b,c))};

var pc,qc,rc,sc=null,tc=null,uc=null,vc=null,wc="",xc="";
function yc(){if(!pc){var a=document.createElement("div");a.className="blocklyDropDownDiv";(zc||document.body).appendChild(a);pc=a;var b=document.createElement("div");b.className="blocklyDropDownContent";a.appendChild(b);qc=b;b=document.createElement("div");b.className="blocklyDropDownArrow";a.appendChild(b);rc=b;pc.style.opacity=0;pc.style.transition="transform 0.25s, opacity 0.25s";a.addEventListener("focusin",function(){A(a,"blocklyFocused")});a.addEventListener("focusout",function(){gc(a,"blocklyFocused")})}}
function Ac(a,b,c,d){a=Bc(a,c.left,c.right,d.width);return{Oj:a.Me,Pj:b,yj:a.Me,zj:b+16,Ce:a.Ce,Vi:-9,Ti:!0,Ui:!0}}function Cc(a,b,c,d){a=Bc(a,c.left,c.right,d.width);return{Oj:a.Me,Pj:b-d.height,yj:a.Me,zj:b-d.height-16,Ce:a.Ce,Vi:d.height-2-8,Ti:!1,Ui:!0}}function Bc(a,b,c,d){var e=a;a=oc(b,a-d/2,c-d);b=oc(12,e-8-a,d-12-16);return{Ce:b,Me:a}}function Dc(){var a=pc;a.style.transform="translate(0, 0)";a.style.opacity=0;uc=setTimeout(function(){Ec()},250);vc&&(vc(),vc=null)}
function Ec(){if(tc){uc&&clearTimeout(uc);var a=pc;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";a.style.backgroundColor="";a.style.borderColor="";vc&&(vc(),vc=null);qc.textContent="";qc.style.width="";tc=null;wc&&(gc(a,wc),wc="");xc&&(gc(a,xc),xc="");Fc(Gc)}};var Hc=Object.create(null);function Ic(a){this.og=a}Ic.prototype.toString=function(){return this.og};var Jc=new Ic("connectionChecker"),Kc=new Ic("cursor"),Lc=new Ic("event"),Mc=new Ic("field"),Nc=new Ic("renderer"),Oc=new Ic("toolbox"),Pc=new Ic("theme"),Qc=new Ic("flyoutsVerticalToolbox"),Rc=new Ic("metricsManager"),Sc=new Ic("blockDragger");
function B(a,b,c){if(!(a instanceof Ic)&&"string"!=typeof a||""==String(a).trim())throw Error('Invalid type "'+a+'". The type must be a non-empty string or a Blockly.registry.Type.');a=String(a).toLowerCase();if("string"!=typeof b||""==b.trim())throw Error('Invalid name "'+b+'". The name must be a non-empty string.');b=b.toLowerCase();if(!c)throw Error("Can not register a null value");var d=Hc[a];d||(d=Hc[a]=Object.create(null));switch(a){case String(Mc):if("function"!=typeof c.M)throw Error('Type "'+
a+'" must have a fromJson function');}if(d[b])throw Error('Name "'+b+'" with type "'+a+'" already registered.');d[b]=c}function Tc(a,b,c){a=String(a).toLowerCase();b=b.toLowerCase();var d=Hc[a];if(!d||!d[b]){b="Unable to find ["+b+"]["+a+"] in the registry.";if(c)throw Error(b+" You must require or register a "+a+" plugin.");console.warn(b);return null}return d[b]}function Uc(a,b,c){b=b.plugins[a.toString()]||"default";return"function"==typeof b?b:Tc(a,b,c)};var Vc="",Wc=!0,C=0,Xc=["create","move"],Yc=[];function D(a){0==C&&(Yc.length||setTimeout(Zc,0),Yc.push(a))}function Zc(){for(var a=$c(Yc,!0),b=Yc.length=0,c;c=a[b];b++)if(c.jb){var d=ad[c.jb]||null;if(d){var e=c;if(e.Va)for(d.ne.push(e),d.vg.length=0;d.ne.length>d.zl&&0<=d.zl;)d.ne.shift();for(var f=0;c=d.Ga[f];f++)c(e)}}}
function $c(a,b){a=a.slice();b||a.reverse();for(var c=[],d=Object.create(null),e=0,f;f=a[e];e++)if(!f.Uh()){var h=[f.Uj?"ui":f.type,f.la,f.jb].join(" "),k=d[h],l=k?k.event:null;if(!k)d[h]={event:f,index:e},c.push(f);else if("move"==f.type&&k.index==e-1)l.ae=f.ae,l.$d=f.$d,l.jd=f.jd,k.index=e;else if("change"==f.type&&f.element==l.element&&f.name==l.name)l.newValue=f.newValue;else if("viewport_change"==f.type)l.Ub=f.Ub,l.Tb=f.Tb,l.scale=f.scale,l.pg=f.pg;else if("click"!=f.type||"bubble_open"!=l.type)d[h]=
{event:f,index:e},c.push(f)}a=c.filter(function(m){return!m.Uh()});b||a.reverse();for(e=1;f=a[e];e++)"change"==f.type&&"mutation"==f.element&&a.unshift(a.splice(e,1)[0]);return a}function E(a){Vc="boolean"==typeof a?a?gb():"":a}function bd(a){var b=[];a=mb(a,!1);for(var c=0,d;d=a[c];c++)b[c]=d.id;return b}function G(a){return Tc(Lc,a)};
function cd(){this.vc=null;this.jb=void 0;this.group=Vc;this.Va=Wc}g=cd.prototype;g.Uj=!1;g.R=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};g.M=function(a){this.vc=!1;this.group=a.group};g.Uh=function(){return!1};g.run=function(){};function dd(a){if(a.jb)var b=ad[a.jb]||null;if(!b)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return b};function H(a,b){a.i=b.prototype;a.prototype=Object.create(b.prototype);a.prototype.constructor=a}function ed(a,b){for(var c in b)a[c]=b[c]}function fd(a){return Object.values?Object.values(a):Object.keys(a).map(function(b){return a[b]})};function I(a){return document.createElementNS("https://developers.google.com/blockly/xml",a)};function gd(a){for(var b=J,c=I("xml"),d=hd(b),e=I("variables"),f=0,h;h=d[f];f++){var k=I("variable");k.appendChild(document.createTextNode(h.name));h.type&&k.setAttribute("type",h.type);k.id=h.Ra();e.appendChild(k)}e.hasChildNodes()&&c.appendChild(e);e=[].concat(b.Ei);1<e.length&&(b.zc.offset=Math.sin(3*Math.PI/180),b.u&&(b.zc.offset*=-1),e.sort(b.zc));for(d=0;f=e[d];d++)c.appendChild(f.gr(a));b=b.ta(!0);for(d=0;e=b[d];d++)c.appendChild(id(e,a));return c}
function id(a,b){if(a.Ab()&&(a=jd(a,!1)[0],!a))return new DocumentFragment;var c;a.j.u&&(c=a.j.$f());b=kd(a,b);var d=a.ga();b.setAttribute("x",Math.round(a.j.u?c-d.x:d.x));b.setAttribute("y",Math.round(d.y));return b}
function kd(a,b){if(a.Ab())return(a=jd(a,!1)[0])?kd(a):new DocumentFragment;var c=I(a.T?"shadow":"block");c.setAttribute("type",a.type);b||c.setAttribute("id",a.id);if(a.gd){var d=a.gd();d&&(d.hasChildNodes()||d.hasAttributes())&&c.appendChild(d)}d=0;for(var e;e=a.A[d];d++)for(var f=0,h;h=e.aa[f];f++){var k=!1;h.name&&(h.Hl?k=!0:h.sf&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),
k=!0));k?(k=I("field"),k.setAttribute("name",h.name||""),k.textContent=h.sb,h=k):h=null;h&&c.appendChild(h)}if(d=a.Xb.text)e=a.Xb.size,f=a.Xb.ln,h=I("comment"),h.appendChild(document.createTextNode(d)),h.setAttribute("pinned",f),h.setAttribute("h",e.height),h.setAttribute("w",e.width),c.appendChild(h);a.data&&(d=I("data"),d.appendChild(document.createTextNode(a.data)),c.appendChild(d));for(d=0;e=a.A[d];d++){var l;f=!0;5!=e.type&&(k=e.connection.H(),1==e.type?l=I("value"):3==e.type&&(l=I("statement")),
h=e.connection.Pe(),!h||k&&k.T||l.appendChild(ld(h,b)),k&&(h=kd(k,b),1==h.nodeType&&(l.appendChild(h),f=!1)),l.setAttribute("name",e.name),f||c.appendChild(l))}void 0!=a.Jc&&a.Jc!=a.up&&c.setAttribute("inline",a.Jc);a.isCollapsed()&&c.setAttribute("collapsed",!0);a.isEnabled()||c.setAttribute("disabled",!0);md(a)||a.T||c.setAttribute("deletable",!1);a.Sa()||a.T||c.setAttribute("movable",!1);a.Mb()||c.setAttribute("editable",!1);if(d=nb(a))h=kd(d,b),1==h.nodeType&&(l=I("next"),l.appendChild(h),c.appendChild(l));
h=a.C&&a.C.Pe();!h||d&&d.T||l.appendChild(ld(h,b));return c}function ld(a,b){for(var c=a=a.cloneNode(!0),d;c;)if(b&&"shadow"==c.nodeName&&c.removeAttribute("id"),c.firstChild)c=c.firstChild;else{for(;c&&!c.nextSibling;)d=c,c=c.parentNode,3==d.nodeType&&""==d.data.trim()&&c.firstChild!=d&&ic(d);c&&(d=c,c=c.nextSibling,3==d.nodeType&&""==d.data.trim()&&ic(d))}return a}function nd(a){return(new XMLSerializer).serializeToString(a).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")}
function od(a){var b=(new DOMParser).parseFromString(a,"text/xml");if(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return b.documentElement}
function pd(a,b){var c;b.u&&(c=b.$f());var d=[];lc();var e=Vc;e||E(!0);b.Wa&&b.Wa(!1);var f=!0;try{for(var h=0,k;k=a.childNodes[h];h++){var l=k.nodeName.toLowerCase(),m=k;if("block"==l||"shadow"==l&&!Wc){var n=qd(m,b);d.push(n.id);var x=m.hasAttribute("x")?parseInt(m.getAttribute("x"),10):10,y=m.hasAttribute("y")?parseInt(m.getAttribute("y"),10):10;isNaN(x)||isNaN(y)||n.moveBy(b.u?c-x:x,y);f=!1}else{if("shadow"==l)throw TypeError("Shadow block cannot be a top-level block.");if("variables"==l){if(f)for(var F=
void 0,ab=b,Ba=0;F=m.childNodes[Ba];Ba++){if(1==F.nodeType){var wb=F.getAttribute("type"),be=F.getAttribute("id");ab.Xc(F.textContent,wb,be)}}else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");f=!1}}}}finally{e||E(!1),mc()}b.Wa&&b.Wa(!0);D(new (G("finished_loading"))(b))}
function qd(a,b){if(a instanceof rd){var c=a;a=b;b=c;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}C++;c=b.Ne();try{var d=sd(a,b),e=mb(d,!1);if(b.K){td(d,!1);for(var f=e.length-1;0<=f;f--)e[f].dg();for(f=e.length-1;0<=f;f--)e[f].W(!1);setTimeout(function(){d.Yc||td(d,!0)},1);ud(d);vd(b)}else for(f=e.length-1;0<=f;f--);}finally{C--}if(0==C){a=wd(b,c);for(f=0;f<a.length;f++)b=a[f],D(new (G("var_create"))(b));D(new (G("create"))(d))}return d}
function xd(a,b){for(var c=0,d;d=a[c];c++){var e=d.textContent,f="true"==d.getAttribute("pinned"),h=parseInt(d.getAttribute("w"),10);d=parseInt(d.getAttribute("h"),10);b.ff(e);b.Xb.ln=f;isNaN(h)||isNaN(d)||(b.Xb.size=new Ga(h,d));f&&b.cp&&!b.zb&&setTimeout(function(){b.Wb.Aa(!0)},1)}}function yd(a){for(var b={Cf:null,Df:null},c=0,d;d=a.childNodes[c];c++)1==d.nodeType&&("block"==d.nodeName.toLowerCase()?b.Cf=d:"shadow"==d.nodeName.toLowerCase()&&(b.Df=d));return b}
function sd(a,b,c,d){var e=a.getAttribute("type");if(!e)throw TypeError("Block type unspecified: "+a.outerHTML);var f=a.getAttribute("id");f=b.kk(e,f);for(var h=[],k=[],l=[],m=[],n=[],x=[],y=0,F;F=a.childNodes[y];y++)if(3!=F.nodeType)switch(F.nodeName.toLowerCase()){case "mutation":h.push(F);break;case "comment":if(!ka.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}k.push(F);break;case "data":l.push(F);break;case "title":case "field":m.push(F);break;case "value":case "statement":n.push(F);
break;case "next":x.push(F);break;default:console.warn("Ignoring unknown tag: "+F.nodeName)}y=!1;F=0;for(var ab;ab=h[F];F++)f.Gd&&(f.Gd(ab),f.dg&&(y=!0));h=y;xd(k,f);for(k=0;y=l[k];k++)f.data=y.textContent;if(c)if(d)if(f.F)c.connect(f.F);else throw TypeError("Next block does not have previous statement.");else if(f.v)c.connect(f.v);else if(f.F)c.connect(f.F);else throw TypeError("Child block does not have output or previous statement.");for(c=0;k=m[c];c++)l=k.getAttribute("name"),d=f,(y=zd(d,l))?
y.Bj(k):console.warn("Ignoring non-existent field "+l+" in block "+d.type);for(m=0;d=n[m];m++){l=d.getAttribute("name");c=Ad(f,l);if(!c){console.warn("Ignoring non-existent input "+l+" in block "+e);break}d=yd(d);if(d.Cf){if(!c.connection)throw TypeError("Input connection does not exist.");sd(d.Cf,b,c.connection,!1)}d.Df&&c.connection.Bg(d.Df)}for(e=0;n=x[e];e++){n=yd(n);if(n.Cf){if(!f.C)throw TypeError("Next statement does not exist.");if(f.C.isConnected())throw TypeError("Next statement is already connected.");
sd(n.Cf,b,f.C,!0)}n.Df&&f.C&&f.C.Bg(n.Df)}h&&f.dg();(b=a.getAttribute("inline"))&&f.je("true"==b);(b=a.getAttribute("disabled"))&&f.rd("true"!=b&&"disabled"!=b);if(b=a.getAttribute("deletable"))f.dm="true"==b;(b=a.getAttribute("movable"))&&f.Tk("true"==b);(b=a.getAttribute("editable"))&&f.Sk("true"==b);(b=a.getAttribute("collapsed"))&&f.fe("true"==b);if("shadow"==a.nodeName.toLowerCase()){a=jd(f,!1);for(b=0;x=a[b];b++)if(!x.T)throw TypeError("Shadow block not allowed non-shadow child.");if(Bd(f).length)throw TypeError("Shadow blocks cannot have variable references.");
f.Yk(!0)}return f};function Cd(a){Cd.i.constructor.call(this);this.la=(this.vc="undefined"==typeof a)?"":a.id;this.jb=this.vc?"":a.j.id}H(Cd,cd);Cd.prototype.R=function(){var a=Cd.i.R.call(this);a.blockId=this.la;return a};Cd.prototype.M=function(a){Cd.i.M.call(this,a);this.la=a.blockId};function Dd(a,b,c,d,e){Dd.i.constructor.call(this,a);a&&(this.element="undefined"==typeof b?"":b,this.name="undefined"==typeof c?"":c,this.oldValue="undefined"==typeof d?"":d,this.newValue="undefined"==typeof e?"":e)}H(Dd,Cd);g=Dd.prototype;
g.type="change";g.R=function(){var a=Dd.i.R.call(this);a.element=this.element;this.name&&(a.name=this.name);a.oldValue=this.oldValue;a.newValue=this.newValue;return a};g.M=function(a){Dd.i.M.call(this,a);this.element=a.element;this.name=a.name;this.oldValue=a.oldValue;this.newValue=a.newValue};g.Uh=function(){return this.oldValue==this.newValue};
g.run=function(a){var b=dd(this).Kb(this.la);if(b)switch(b.Zd&&b.Zd.Aa(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(b=zd(b,this.name))?Ed(b,a):console.warn("Can't set non-existent field: "+this.name);break;case "comment":b.ff(a||null);break;case "collapsed":b.fe(!!a);break;case "disabled":b.rd(!a);break;case "inline":b.je(!!a);break;case "mutation":var c="";b.gd&&(c=(c=b.gd())&&nd(c));if(b.Gd){var d=od(a||"<mutation/>");b.Gd(d)}D(new Dd(b,"mutation",null,c,a));break;default:console.warn("Unknown change type: "+
this.element)}else console.warn("Can't change non-existent block: "+this.la)};function Fd(a){Fd.i.constructor.call(this,a);a&&(a.T&&(this.Va=!1),this.xml=a.j.K?id(a):kd(a),this.Qd=bd(a))}H(Fd,Cd);Fd.prototype.type="create";Fd.prototype.R=function(){var a=Fd.i.R.call(this);a.xml=nd(this.xml);a.ids=this.Qd;this.Va||(a.recordUndo=this.Va);return a};Fd.prototype.M=function(a){Fd.i.M.call(this,a);this.xml=od(a.xml);this.Qd=a.ids;void 0!==a.recordUndo&&(this.Va=a.recordUndo)};
Fd.prototype.run=function(a){var b=dd(this);if(a)a=I("xml"),a.appendChild(this.xml),pd(a,b);else{a=0;for(var c;c=this.Qd[a];a++){var d=b.Kb(c);d?d.m(!1):c==this.la&&console.warn("Can't uncreate non-existent block: "+c)}}};function Gd(a){Gd.i.constructor.call(this,a);if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");a.T&&(this.Va=!1);this.af=a.j.K?id(a):kd(a);this.Qd=bd(a)}}H(Gd,Cd);Gd.prototype.type="delete";
Gd.prototype.R=function(){var a=Gd.i.R.call(this);a.oldXml=nd(this.af);a.ids=this.Qd;this.Va||(a.recordUndo=this.Va);return a};Gd.prototype.M=function(a){Gd.i.M.call(this,a);this.af=od(a.oldXml);this.Qd=a.ids;void 0!==a.recordUndo&&(this.Va=a.recordUndo)};Gd.prototype.run=function(a){var b=dd(this);if(a){a=0;for(var c;c=this.Qd[a];a++){var d=b.Kb(c);d?d.m(!1):c==this.la&&console.warn("Can't delete non-existent block: "+c)}}else a=I("xml"),a.appendChild(this.af),pd(a,b)};
function Hd(a){Hd.i.constructor.call(this,a);a&&(a.T&&(this.Va=!1),a=Id(this),this.$m=a.gn,this.Xm=a.Em,this.nk=a.Zl)}H(Hd,Cd);g=Hd.prototype;g.type="move";g.R=function(){var a=Hd.i.R.call(this);this.ae&&(a.newParentId=this.ae);this.$d&&(a.newInputName=this.$d);this.jd&&(a.newCoordinate=Math.round(this.jd.x)+","+Math.round(this.jd.y));this.Va||(a.recordUndo=this.Va);return a};
g.M=function(a){Hd.i.M.call(this,a);this.ae=a.newParentId;this.$d=a.newInputName;if(a.newCoordinate){var b=a.newCoordinate.split(",");this.jd=new r(Number(b[0]),Number(b[1]))}void 0!==a.recordUndo&&(this.Va=a.recordUndo)};function Jd(a){var b=Id(a);a.ae=b.gn;a.$d=b.Em;a.jd=b.Zl}function Id(a){var b=dd(a).Kb(a.la);a={};var c=b.getParent();if(c){if(a.gn=c.id,b=Kd(c,b))a.Em=b.name}else a.Zl=b.ga();return a}g.Uh=function(){return this.$m==this.ae&&this.Xm==this.$d&&ua(this.nk,this.jd)};
g.run=function(a){var b=dd(this),c=b.Kb(this.la);if(c){var d=a?this.ae:this.$m,e=a?this.$d:this.Xm,f=a?this.jd:this.nk;a=null;if(d&&(a=b.Kb(d),!a)){console.warn("Can't connect to non-existent block: "+d);return}c.getParent()&&Ld(c);if(f)e=c.ga(),c.moveBy(f.x-e.x,f.y-e.y);else{c=c.v||c.F;b=c.type;if(e){if(a=Ad(a,e))var h=a.connection}else 4==b&&(h=a.C);h?c.connect(h):console.warn("Can't connect to non-existent input: "+e)}}else console.warn("Can't move non-existent block: "+this.la)};
B(Lc,"create",Fd);B(Lc,"delete",Gd);B(Lc,"change",Dd);B(Lc,"move",Hd);function Md(a){this.vc="undefined"==typeof a;this.jb=a?a.id:"";this.group=Vc;this.Va=!1}H(Md,cd);Md.prototype.type="finished_loading";Md.prototype.R=function(){var a={type:this.type};this.group&&(a.group=this.group);this.jb&&(a.workspaceId=this.jb);return a};Md.prototype.M=function(a){this.vc=!1;this.jb=a.workspaceId;this.group=a.group};B(Lc,"finished_loading",Md);function Nd(a){Nd.i.constructor.call(this);this.vc="undefined"==typeof a;this.jb=a?a:"";this.Va=!1}H(Nd,cd);Nd.prototype.Uj=!0;function Od(a,b,c,d){Od.i.constructor.call(this,a?a.j.id:void 0);this.la=a?a.id:null;this.element="undefined"==typeof b?"":b;this.oldValue="undefined"==typeof c?"":c;this.newValue="undefined"==typeof d?"":d}H(Od,Nd);Od.prototype.type="ui";
Od.prototype.R=function(){var a=Od.i.R.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.la&&(a.blockId=this.la);return a};Od.prototype.M=function(a){Od.i.M.call(this,a);this.element=a.element;this.newValue=a.newValue;this.la=a.blockId};B(Lc,"ui",Od);function Pd(a){Pd.i.constructor.call(this);this.yd=(this.vc="undefined"==typeof a)?"":a.Ra();this.jb=this.vc?"":a.j.id}H(Pd,cd);Pd.prototype.R=function(){var a=Pd.i.R.call(this);a.varId=this.yd;return a};Pd.prototype.M=function(a){Pd.i.R.call(this);this.yd=a.varId};function Qd(a){Qd.i.constructor.call(this,a);a&&(this.pe=a.type,this.oe=a.name)}H(Qd,Pd);Qd.prototype.type="var_create";Qd.prototype.R=function(){var a=Qd.i.R.call(this);a.varType=this.pe;a.varName=this.oe;return a};
Qd.prototype.M=function(a){Qd.i.M.call(this,a);this.pe=a.varType;this.oe=a.varName};Qd.prototype.run=function(a){var b=dd(this);a?b.Xc(this.oe,this.pe,this.yd):b.Le(this.yd)};function Rd(a){Rd.i.constructor.call(this,a);a&&(this.pe=a.type,this.oe=a.name)}H(Rd,Pd);Rd.prototype.type="var_delete";Rd.prototype.R=function(){var a=Rd.i.R.call(this);a.varType=this.pe;a.varName=this.oe;return a};Rd.prototype.M=function(a){Rd.i.M.call(this,a);this.pe=a.varType;this.oe=a.varName};
Rd.prototype.run=function(a){var b=dd(this);a?b.Le(this.yd):b.Xc(this.oe,this.pe,this.yd)};function Sd(a,b){Sd.i.constructor.call(this,a);a&&(this.pk=a.name,this.lk="undefined"==typeof b?"":b)}H(Sd,Pd);Sd.prototype.type="var_rename";Sd.prototype.R=function(){var a=Sd.i.R.call(this);a.oldName=this.pk;a.newName=this.lk;return a};Sd.prototype.M=function(a){Sd.i.M.call(this,a);this.pk=a.oldName;this.lk=a.newName};Sd.prototype.run=function(a){var b=dd(this);a?b.cf(this.yd,this.lk):b.cf(this.yd,this.pk)};
B(Lc,"var_create",Qd);B(Lc,"var_delete",Rd);B(Lc,"var_rename",Sd);function Td(a){this.If=a;this.xa()}g=Td.prototype;g.ea=null;g.pc=null;g.If=null;g.qd=1;g.Ig=null;g.Wl=new r(0,0);g.xa=function(){this.ea||(this.ea=z(ac,{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyBlockDragSurface"},this.If),this.pc=z(Vb,{},this.ea))};
function Ud(a,b){if(a.pc.childNodes.length)throw Error("Already dragging a block.");a.pc.appendChild(b);a.ea.style.display="block";a.Ig=new r(0,0)}g.nf=function(a,b){this.Ig=new r(a*this.qd,b*this.qd);a=this.Ig.x;b=this.Ig.y;a=a.toFixed(0);b=b.toFixed(0);this.ea.style.display="block";kc(this.ea,"translate3d("+a+"px, "+b+"px, 0px)")};g.Fj=function(){var a=Xa(this.ea);return new r(a.x/this.qd,a.y/this.qd)};g.J=function(){return this.ea};
g.ph=function(a){a?a.appendChild(this.pc.firstChild):this.pc.removeChild(this.pc.firstChild);this.ea.style.display="none";if(this.pc.childNodes.length)throw Error("Drag group was not cleared.");this.Ig=null};var Vd=!1,Wd=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;",
"left: 0;","}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {",
"max-height: 300px;","overflow: auto;","overflow-x: hidden;","position: relative;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;",
"border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;",
"}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;",
"}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;",
"}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",
".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {",
"margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;",
"}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",
".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",
".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;","}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {",
"box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .blocklyMenu {","background: inherit;","border: inherit;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","position: relative;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {",
"background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;","width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"];function Xd(a,b){this.Re=a;this.al=b.spacing;this.Mm=b.length;this.vp=(this.Yj=a.firstChild)&&this.Yj.nextSibling;this.Op=b.snap}Xd.prototype.qd=1;Xd.prototype.m=function(){this.Re=null};Xd.prototype.update=function(a){this.qd=a;var b=this.al*a||100;this.Re.setAttribute("width",b);this.Re.setAttribute("height",b);b=Math.floor(this.al/2)+.5;var c=b-this.Mm/2,d=b+this.Mm/2;b*=a;c*=a;d*=a;Yd(this.Yj,a,c,d,b,b);Yd(this.vp,a,b,b,c,d)};
function Yd(a,b,c,d,e,f){a&&(a.setAttribute("stroke-width",b),a.setAttribute("x1",c),a.setAttribute("y1",e),a.setAttribute("x2",d),a.setAttribute("y2",f))}Xd.prototype.moveTo=function(a,b){this.Re.setAttribute("x",a);this.Re.setAttribute("y",b);(Ka||La)&&this.update(this.qd)};function Zd(){this.name="classic";B(Pc,"classic",this)}Zd.prototype.$b=function(){return this.name+"-theme"};var $d={};$d=new Zd;function ae(a){if(!a)return null;if(a instanceof Element||"string"==typeof a){if(a){if("string"!=typeof a&&(Ka&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=od(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;var b={contents:ce(a)};a instanceof Node&&de(a,b);a=b}b=a.kind;var c=a.contents;if(b&&"flyoutToolbox"!=b&&"categoryToolbox"!=b)throw Error("Invalid toolbox kind "+b+". Please supply either flyoutToolbox or categoryToolbox");
if(!c)throw Error("Toolbox must have a contents attribute.");return a}function ee(a){return a?a.contents?a.contents:Array.isArray(a)&&0<a.length&&!a[0].nodeType?a:ce(a):[]}function fe(a){if(!a)return!1;var b=a.kind;return b?"categoryToolbox"==b:!!a.contents.filter(function(c){return"CATEGORY"==c.kind.toUpperCase()}).length}
function ce(a){var b=[],c=a.childNodes;c||(c=a);a=0;for(var d;d=c[a];a++)if(d.tagName){var e={},f=d.tagName.toUpperCase();e.kind=f;"BLOCK"==f?e.blockxml=d:d.childNodes&&0<d.childNodes.length&&(e.contents=ce(d));de(d,e);b.push(e)}return b}function de(a,b){for(var c=0;c<a.attributes.length;c++){var d=a.attributes[c];-1<d.nodeName.indexOf("css-")?(b.cssconfig=b.cssconfig||{},b.cssconfig[d.nodeName.replace("css-","")]=d.value):b[d.nodeName]=d.value}};function ge(a){var b=!!a.readOnly;if(b)var c=null,d=!1,e=!1,f=!1,h=!1,k=!1,l=!1;else{c=ae(a.toolbox);d=fe(c);e=a.trashcan;void 0===e&&(e=d);var m=a.maxTrashcanContents;e?void 0===m&&(m=32):m=0;f=a.collapse;void 0===f&&(f=d);h=a.comments;void 0===h&&(h=d);k=a.disable;void 0===k&&(k=d);l=a.sounds;void 0===l&&(l=!0)}var n=!!a.rtl;var x="end"!==a.toolboxPosition==n?3:2;var y=a.css;void 0===y&&(y=!0);var F="https://blockly-demo.appspot.com/static/media/";a.media?F=a.media:a.path&&(F=a.path+"media/");var ab=
void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,Ba=a.renderer||"geras",wb=a.plugins||{};this.u=n;this.ji=ab;this.collapse=f;this.Po=h;this.disable=k;this.readOnly=b;this.hk=a.maxBlocks||Infinity;this.$h=a.maxInstances;this.li=F;this.um=d;b=a.move||{};f={};void 0===b.scrollbars&&void 0===a.scrollbars?f.scrollbars=d:"object"==typeof b.scrollbars?(f.scrollbars={},f.scrollbars.Nj=!!b.scrollbars.horizontal,f.scrollbars.vertical=!!b.scrollbars.vertical,f.scrollbars.Nj&&f.scrollbars.vertical?f.scrollbars=
!0:f.scrollbars.Nj||f.scrollbars.vertical||(f.scrollbars=!1)):f.scrollbars=!!b.scrollbars||!!a.scrollbars;f.qf=f.scrollbars&&void 0!==b.wheel?!!b.wheel:"object"==typeof f.scrollbars;f.Gc=f.scrollbars?void 0===b.drag?!0:!!b.drag:!1;this.Ua=f;this.xm=e;this.ai=m;this.pp=l;this.np=y;this.Ud=c;c=a.grid||{};d={};d.spacing=Number(c.spacing)||0;d.bj=c.colour||"#888";d.length=void 0===c.length?1:Number(c.length);d.cr=0<d.spacing&&!!c.snap;this.tm=d;c=a.zoom||{};d={};d.controls=void 0===c.controls?!1:!!c.controls;
d.qf=void 0===c.wheel?!1:!!c.wheel;d.Rp=void 0===c.startScale?1:Number(c.startScale);d.mg=void 0===c.maxScale?3:Number(c.maxScale);d.ng=void 0===c.minScale?.3:Number(c.minScale);d.Lp=void 0===c.scaleSpeed?1.2:Number(c.scaleSpeed);d.jn=void 0===c.pinch?d.qf||d.controls:!!c.pinch;this.sa=d;this.Eb=x;this.Nk=Ba;this.Ok=a.rendererOverrides;this.Ij=null;this.rb=a.parentWorkspace;this.plugins=wb};
function he(a,b,c,d,e){this.g=a;b=void 0===b?!0:b;c=void 0===c?!0:c;var f=b&&c;b&&(this.ka=new ie(a,!0,f,d,e));c&&(this.Y=new ie(a,!1,f,d,e));f&&(this.Jf=z($b,{height:je,width:je,"class":"blocklyScrollbarBackground"},null),jc(this.Jf,a.vd));this.Z=null}g=he.prototype;g.m=function(){ic(this.Jf);this.Z=this.g=this.Jf=null;this.ka&&(this.ka.m(),this.ka=null);this.Y&&(this.Y.m(),this.Y=null)};
g.resize=function(){var a=this.g.bc();if(a){var b=!1,c=!1;this.Z&&this.Z.Za==a.Za&&this.Z.ib==a.ib&&this.Z.kb==a.kb&&this.Z.ab==a.ab?(this.Z&&this.Z.scrollWidth==a.scrollWidth&&this.Z.Tb==a.Tb&&this.Z.scrollLeft==a.scrollLeft||(b=!0),this.Z&&this.Z.scrollHeight==a.scrollHeight&&this.Z.Ub==a.Ub&&this.Z.scrollTop==a.scrollTop||(c=!0)):c=b=!0;if(b||c){try{C++,this.ka&&b&&this.ka.resize(a),this.Y&&c&&this.Y.resize(a)}finally{C--}ke(this.g)}this.ka&&this.Y&&(this.Z&&this.Z.Za==a.Za&&this.Z.ab==a.ab||this.Jf.setAttribute("x",
this.Y.position.x),this.Z&&this.Z.ib==a.ib&&this.Z.kb==a.kb||this.Jf.setAttribute("y",this.ka.position.y));this.Z=a}};g.ui=function(a,b){this.ka&&this.ka.ui(a,b);this.Y&&this.Y.ui(a,b)};g.set=function(a,b,c){this.ka&&this.ka.set(a,!1);this.Y&&this.Y.set(b,!1);if(c||void 0===c)a={},this.ka&&(a.x=le(this.ka)),this.Y&&(a.y=le(this.Y)),this.g.zg(a)};g.ge=function(a){this.ka&&this.ka.ge(a);this.Y&&this.Y.ge(a)};
g.isVisible=function(){var a=!1;this.ka&&(a=this.ka.isVisible());this.Y&&(a=a||this.Y.isVisible());return a};
function ie(a,b,c,d,e){this.g=a;this.md=c||!1;this.Od=b;this.Vd=void 0!==e?e:.5;this.ratio=this.Z=null;a="blocklyScrollbar"+(this.Od?"Horizontal":"Vertical");d&&(a+=" "+d);this.xc=z(ac,{"class":a},null);this.s=z(Vb,{},this.xc);this.Na=z($b,{"class":"blocklyScrollbarBackground"},this.s);d=Math.floor((je-5)/2);this.Db=z($b,{"class":"blocklyScrollbarHandle",rx:d,ry:d},this.s);this.g.Pa.subscribe(this.Db,"scrollbarColour","fill");this.g.Pa.subscribe(this.Db,"scrollbarOpacity","fill-opacity");jc(this.xc,
K(this.g));this.position=new r(0,0);d=je;b?(this.Na.setAttribute("height",d),this.xc.setAttribute("height",d),this.Db.setAttribute("height",d-5),this.Db.setAttribute("y",2.5),this.Xh="width",this.mn="x"):(this.Na.setAttribute("width",d),this.xc.setAttribute("width",d),this.Db.setAttribute("width",d-5),this.Db.setAttribute("x",2.5),this.Xh="height",this.mn="y");this.dn=t(this.Na,"mousedown",this,this.Cp);this.fn=t(this.Db,"mousedown",this,this.Dp)}var me,ne;g=ie.prototype;g.zk=new r(0,0);g.xn=0;
g.Qb=0;g.Zc=0;g.ag=0;g.Kc=!0;g.Fd=!0;var je=15;pb&&(je=25);g=ie.prototype;g.m=function(){oe();v(this.dn);this.dn=null;v(this.fn);this.fn=null;ic(this.xc);this.Na=this.s=this.xc=null;this.Db&&(this.g.Pa.unsubscribe(this.Db),this.Db=null);this.g=null};function pe(a,b){return b=0>=b||isNaN(b)?0:Math.min(b,a.Qb)}function qe(a,b){a.Zc=b;a.Db.setAttribute(a.Xh,a.Zc)}function re(a,b){return b=0>=b||isNaN(b)?0:Math.min(b,a.Qb-a.Zc)}function se(a,b){a.ag=b;a.Db.setAttribute(a.mn,a.ag)}
function te(a,b){a.Qb=b;a.xc.setAttribute(a.Xh,a.Qb);a.Na.setAttribute(a.Xh,a.Qb)}g.setPosition=function(a,b){this.position.x=a;this.position.y=b;kc(this.xc,"translate("+(this.position.x+this.zk.x)+"px,"+(this.position.y+this.zk.y)+"px)")};
g.resize=function(a){if(!a&&(a=this.g.bc(),!a))return;var b;(b=!this.Z)||(b=this.Z,b=!(a.Za==b.Za&&a.ib==b.ib&&a.Tb==b.Tb&&a.Ub==b.Ub&&a.kb==b.kb&&a.ab==b.ab&&a.scrollWidth==b.scrollWidth&&a.scrollHeight==b.scrollHeight&&a.scrollLeft==b.scrollLeft&&a.scrollTop==b.scrollTop));b&&(this.Od?(b=a,ue(this,b)?ve(this,b):we(this,b)):(b=a,ue(this,b)?xe(this,b):ye(this,b)),this.Z=a,ze(this))};function ue(a,b){return a.Z?a.Z.Za!==b.Za||a.Z.ib!==b.ib||a.Z.ab!==b.ab||a.Z.kb!==b.kb:!0}
function ve(a,b){var c=b.Za-2*a.Vd;a.md&&(c-=je);te(a,Math.max(0,c));c=b.ab+a.Vd;a.md&&a.g.u&&(c+=je);a.setPosition(c,b.kb+b.ib-je-a.Vd);we(a,b)}function we(a,b){if(b.Za>=b.scrollWidth)qe(a,a.Qb),se(a,0),a.md||a.Aa(!1);else{a.md||a.Aa(!0);var c=a.Qb*b.Za/b.scrollWidth;c=pe(a,c);qe(a,c);c=b.scrollWidth-b.Za;var d=a.Qb-a.Zc;b=(b.Tb-b.scrollLeft)/c*d;b=re(a,b);se(a,b);a.ratio=d/c}}
function xe(a,b){var c=b.ib-2*a.Vd;a.md&&(c-=je);te(a,Math.max(0,c));a.setPosition(a.g.u?b.ab+a.Vd:b.ab+b.Za-je-a.Vd,b.kb+a.Vd);ye(a,b)}function ye(a,b){if(b.ib>=b.scrollHeight)qe(a,a.Qb),se(a,0),a.md||a.Aa(!1);else{a.md||a.Aa(!0);var c=a.Qb*b.ib/b.scrollHeight;c=pe(a,c);qe(a,c);c=b.scrollHeight-b.ib;var d=a.Qb-a.Zc;b=(b.Ub-b.scrollTop)/c*d;b=re(a,b);se(a,b);a.ratio=d/c}}g.isVisible=function(){return this.Kc};g.ge=function(a){var b=a!=this.Fd;this.Fd=a;b&&this.Pg()};
g.Aa=function(a){var b=a!=this.isVisible();if(this.md)throw Error("Unable to toggle visibility of paired scrollbars.");this.Kc=a;b&&this.Pg()};g.Pg=function(){this.Fd&&this.isVisible()?this.xc.setAttribute("display","block"):this.xc.setAttribute("display","none")};
g.Cp=function(a){Fc(this.g);qb=null;oe();if(bb(a))a.stopPropagation();else{var b=cb(a,K(this.g),Ae(this.g));b=this.Od?b.x:b.y;var c=$a(this.Db);c=this.Od?c.x:c.y;var d=this.ag,e=.95*this.Zc;b<=c?d-=e:b>=c+this.Zc&&(d+=e);se(this,re(this,d));ze(this);a.stopPropagation();a.preventDefault()}};
g.Dp=function(a){Fc(this.g);oe();bb(a)?a.stopPropagation():(this.Pp=this.ag,Be(this.g),this.xn=this.Od?a.clientX:a.clientY,me=t(document,"mouseup",this,this.Fp),ne=t(document,"mousemove",this,this.Ep),a.stopPropagation(),a.preventDefault())};g.Ep=function(a){se(this,re(this,this.Pp+((this.Od?a.clientX:a.clientY)-this.xn)));ze(this)};g.Fp=function(){Ce(this.g);qb=null;oe()};function oe(){De(!0);me&&(v(me),me=null);ne&&(v(ne),ne=null)}function le(a){a=a.ag/(a.Qb-a.Zc);isNaN(a)&&(a=0);return a}
function ze(a){var b=le(a),c={};a.Od?c.x=b:c.y=b;a.g.zg(c)}g.set=function(a,b){se(this,re(this,a*this.ratio));(b||void 0===b)&&ze(this)};g.ui=function(a,b){this.zk=new r(a,b)};var Ee=!1,Fe=!1,Ge=0,He=0,Ie=0,Je=0,Ke=null,Le=null,Me=null;function Ne(a){for(;a&&a.Sb;){if("string"==typeof a.Sb||"function"==typeof a.Sb)return a;a=a.Sb}return null}function Oe(a){a.yp=u(a,"mouseover",null,Pe);a.wp=u(a,"mouseout",null,Qe);a.addEventListener("mousemove",Re,!1)}function Se(a){a&&(v(a.yp),v(a.wp),a.removeEventListener("mousemove",Re))}function Pe(a){Fe||(a=Ne(a.currentTarget),Ke!=a&&(Te(),Le=null,Ke=a),clearTimeout(Ge))}
function Qe(){Fe||(Ge=setTimeout(function(){Le=Ke=null;Te()},1),clearTimeout(He))}function Re(a){if(Ke&&Ke.Sb&&!Fe)if(Ee){var b=Ie-a.pageX;a=Je-a.pageY;10<Math.sqrt(b*b+a*a)&&Te()}else Le!=Ke&&(clearTimeout(He),Ie=a.pageX,Je=a.pageY,He=setTimeout(Ue,750))}function Te(){Ee&&(Ee=!1,Me&&(Me.style.display="none"));He&&clearTimeout(He)}
function Ue(){if(!Fe&&(Le=Ke,Me)){Me.textContent="";var a;if(a=Ne(Ke)){for(a=a.Sb;"function"==typeof a;)a=a();if("string"!=typeof a)throw Error("Tooltip function must return a string.");}else a="";a=Da(a,50);a=a.split("\n");for(var b=0;b<a.length;b++){var c=document.createElement("div");c.appendChild(document.createTextNode(a[b]));Me.appendChild(c)}a=Ke.u;b=document.documentElement.clientWidth;c=document.documentElement.clientHeight;Me.style.direction=a?"rtl":"ltr";Me.style.display="block";Ee=!0;
var d=Ie;d=a?d-(0+Me.offsetWidth):d+0;var e=Je+10;e+Me.offsetHeight>c+window.scrollY&&(e-=Me.offsetHeight+20);a?d=Math.max(5-window.scrollX,d):d+Me.offsetWidth>b+window.scrollX-10&&(d=b-Me.offsetWidth-10);Me.style.top=e+"px";Me.style.left=d+"px"}};function Ve(a,b,c){Array.isArray(c)&&(c=c.join(" "));a.setAttribute("aria-"+b,c)};function We(a,b){this.o=a;this.type=b}g=We.prototype;g.L=null;g.Yc=!1;g.Ge=null;g.xi=null;g.x=0;g.y=0;g.rh=function(a){var b=this.B(),c=a.B();a.isConnected()&&a.disconnect();if(this.isConnected()){var d=this.Pe(!0);this.xi=null;var e=this.H();if(e.T)e.m(!1);else{this.disconnect();var f=e}this.xi=d}var h;0==C&&(h=new (G("move"))(c));if(!this||!a)throw Error("Cannot connect null connections.");this.L=a;a.L=this;c.wi(b);h&&(Jd(h),D(h));f&&(a=1===this.type?f.v:f.F,(c=Xe(c,a))?a.connect(c):a.wk(this))};
g.m=function(){if(this.isConnected()){this.Bg(null);var a=this.H();a&&Ld(a)}this.Yc=!0};g.B=function(){return this.o};function Ye(a){return 1==a.type||3==a.type}g.isConnected=function(){return!!this.L};g.wk=function(){};g.connect=function(a){if(this.L!=a&&0==Ze(this,a,!1)){var b=Vc;b||E(!0);Ye(this)?this.rh(a):a.rh(this);b||E(!1)}};function $e(a,b){var c=null;b=b.v;for(var d=0,e;e=a.A[d];d++)if((e=e.connection)&&0==Ze(b,e,!1)){if(c)return null;c=e}return c}
function Xe(a,b){if(2===b.type){a:{b=b.B();for(var c;c=$e(a,b);)if(a=c.H(),!a||a.T){b=c;break a}b=null}return b}return(a=a.Vh(!0))&&0==Ze(b,a,!1)?a:null}g.disconnect=function(){var a=this.L;if(!a)throw Error("Source connection not connected.");if(a.L!=this)throw Error("Target connection not connected to source connection.");if(Ye(this)){var b=this.o;var c=a.B();a=this}else b=a.B(),c=this.o;var d=Vc;d||E(!0);this.lj(b,c);c.T||a.xg();d||E(!1)};
g.lj=function(a,b){var c;0==C&&(c=new (G("move"))(b));this.L=this.L.L=null;b.wi(null);c&&(Jd(c),D(c))};g.xg=function(){var a=this.B(),b=this.Pe();if(a.j&&b)if(a=qd(b,a.j),a.v)this.connect(a.v);else if(a.F)this.connect(a.F);else throw Error("Child block does not have output or previous statement.");};g.H=function(){return this.isConnected()?this.L.B():null};g.cn=function(){!this.isConnected()||this.L&&0==Ze(this,this.L,!1)||Ld(Ye(this)?this.H():this.o)};
g.ef=function(a){a?(Array.isArray(a)||(a=[a]),this.Ge=a,this.cn()):this.Ge=null};g.Bg=function(a){this.xi=a;a=this.H();a?a.T&&(a.m(!1),this.xg()):this.xg()};g.Pe=function(a){return a&&this.H().T?kd(this.H()):this.xi};g.Tm=function(){return[]};g.rc=function(){for(var a=null,b=this.o.A,c=0;c<b.length;c++)if(b[c].connection===this){a=b[c];break}return a};function Ze(a,b,c,d){if(a&&b){if(Ye(a)){var e=a.B();var f=b.B()}else f=a.B(),e=b.B();e=e==f?1:b.type!=oa[a.type]?2:e.j!==f.j?5:e.T&&!f.T?6:0}else e=3;if(0!=e)a=e;else{a:if(e=a.Ge,f=b.Ge,e&&f){for(var h=0;h<e.length;h++)if(-1!=f.indexOf(e[h])){e=!0;break a}e=!1}else e=!0;a=e?c&&!af(a,b,d||0)?7:0:4}return a}
function af(a,b,c){if(bf(a,b)>c||b.B().Ab())return!1;switch(b.type){case 4:return a.L||-1!=cf.indexOf(b)?a=!1:b.L?(a=b.H(),a=a.Ab()?!(a.F&&a.F.H()):!1):a=!0,a;case 2:if(b.isConnected()&&!b.H().Ab()||a.isConnected())return!1;break;case 1:if(b.isConnected()&&!b.H().Sa()&&!b.H().T)return!1;break;case 3:if(b.isConnected()&&!a.B().C&&!b.H().T&&b.H().C)return!1;break;default:return!1}return-1!=cf.indexOf(b)?!1:!0}B(Jc,"default",function(){});function df(a){this.$=Object.create(null);this.j=a}g=df.prototype;g.clear=function(){this.$=Object.create(null)};g.cf=function(a,b){var c=this.Qe(a);if(!c)throw Error("Tried to rename a variable that didn't exist. ID: "+a);var d=this.Ih(b,c.type);a=ef(this.j);E(!0);try{if(d&&d.Ra()!=c.Ra()){var e=c.type;b!=d.name&&ff(d,b,a);for(b=0;b<a.length;b++){var f,h=a[b];for(d=0;f=h.A[d];d++)for(var k=0;f.aa[k];k++);}D(new (G("var_delete"))(c));this.$[e].splice(this.Jh(e).indexOf(c),1)}else ff(c,b,a)}finally{E(!1)}};
function ff(a,b,c){D(new (G("var_rename"))(a,b));a.name=b;for(a=0;a<c.length;a++)for(var d=c[a],e=0;b=d.A[e];e++)for(var f=0;b.aa[f];f++);}g.Xc=function(a,b,c){var d=this.Ih(a,b);if(d){if(c&&d.Ra()!=c)throw Error('Variable "'+a+'" is already in use and its id is "'+d.Ra()+'" which conflicts with the passed in id, "'+c+'".');return d}if(c&&this.Qe(c))throw Error('Variable id, "'+c+'", is already in use.');b=b||"";d=new gf(this.j,a,b,c||gb());a=this.$[b]||[];a.push(d);delete this.$[b];this.$[b]=a;return d};
g.Le=function(a){var b=this.Qe(a);if(b){var c=b.name,d=this.Hj(a);a=0;for(var e;e=d[a];a++)if("procedures_defnoreturn"==e.type||"procedures_defreturn"==e.type){a=hf(e,"NAME");c=q.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",c).replace("%2",a);jf(c);return}var f=this;1<d.length?(c=q.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(d.length)).replace("%2",c),kf(c,function(h){h&&b&&lf(f,b,d)})):lf(f,b,d)}else console.warn("Can't delete non-existent variable: "+a)};
function lf(a,b,c){var d=Vc;d||E(!0);try{for(var e=0;e<c.length;e++)c[e].m(!0);var f=a.$[b.type];a=0;for(var h;h=f[a];a++)if(h.Ra()==b.Ra()){f.splice(a,1);D(new (G("var_delete"))(b));break}}finally{d||E(!1)}}g.Ih=function(a,b){if(b=this.$[b||""])for(var c=0,d;d=b[c];c++)if(d.name.toLowerCase()==a.toLowerCase())return d;return null};g.Qe=function(a){for(var b=Object.keys(this.$),c=0;c<b.length;c++)for(var d=b[c],e=0,f;f=this.$[d][e];e++)if(f.Ra()==a)return f;return null};
g.Jh=function(a){return(a=this.$[a||""])?a.slice():[]};g.Ne=function(){var a=[],b;for(b in this.$)a=a.concat(this.$[b]);return a};g.Hj=function(a){for(var b=[],c=ef(this.j),d=0;d<c.length;d++){var e=Bd(c[d]);if(e)for(var f=0;f<e.length;f++)e[f].Ra()==a&&b.push(c[d])}return b};function rd(a){this.id=gb();ad[this.id]=this;this.options=a||new ge({});this.u=!!this.options.u;this.Eb=this.options.Eb;new (Uc(Jc,this.options,!0))(this);this.Lg=[];this.Ei=[];Object.create(null);this.Ga=[];this.ne=[];this.vg=[];this.Wi=Object.create(null);this.Qc=Object.create(null);this.$=new df(this);this.mi=null}g=rd.prototype;g.K=!1;g.Sj=!1;g.zl=1024;g.uh=null;g.m=function(){this.Ga.length=0;this.clear();delete ad[this.id]};
g.zc=function(a,b){a=a.ga();b=b.ga();return a.y+rd.prototype.zc.offset*a.x-(b.y+rd.prototype.zc.offset*b.x)};g.kh=function(a){this.Lg.push(a)};g.pi=function(a){if(!kb(this.Lg,a))throw Error("Block not present in workspace's list of top-most blocks.");};g.ta=function(a){var b=[].concat(this.Lg);a&&1<b.length&&(this.zc.offset=Math.sin(3*Math.PI/180),this.u&&(this.zc.offset*=-1),b.sort(this.zc));return b};function mf(a,b){return a.Qc[b]?a.Qc[b].slice(0):[]}
function ef(a){var b=a.ta(!1);for(a=0;a<b.length;a++)b.push.apply(b,jd(b[a],!1));return b.filter(function(c){return!c.Ab()})}g.clear=function(){this.Sj=!0;try{var a=Vc;for(a||E(!0);this.Lg.length;)this.Lg[0].m(!1);for(;this.Ei.length;)this.Ei[this.Ei.length-1].m(!1);a||E(!1);this.$.clear();this.mi&&this.mi.clear()}finally{this.Sj=!1}};g.cf=function(a,b){this.$.cf(a,b)};g.Xc=function(a,b,c){return this.$.Xc(a,b,c)};g.Hj=function(a){return this.$.Hj(a)};g.Le=function(a){this.$.Le(a)};
g.Ih=function(a,b){return this.$.Ih(a,b)};g.Qe=function(a){return this.$.Qe(a)};g.Jh=function(a){return this.$.Jh(a)};g.Ne=function(){return this.$.Ne()};g.$f=function(){return 0};g.kk=function(a,b){return new nf(this,a,b)};function of(a){return isNaN(a.options.hk)?Infinity:a.options.hk-ef(a).length}function pf(a,b){if(!qf(a))return!0;var c=0,d;for(d in b){if(b[d]>(a.options.$h?(void 0!==a.options.$h[d]?a.options.$h[d]:Infinity)-mf(a,d).length:Infinity))return!1;c+=b[d]}return c>of(a)?!1:!0}
function qf(a){return Infinity!=a.options.hk||!!a.options.$h}function rf(a,b){var c=b?a.vg:a.ne;a=b?a.ne:a.vg;var d=c.pop();if(d){for(var e=[d];c.length&&d.group&&d.group==c[c.length-1].group;)e.push(c.pop());for(c=0;d=e[c];c++)a.push(d);e=$c(e,b);Wc=!1;try{for(c=0;d=e[c];c++)d.run(b)}finally{Wc=!0}}}function sf(a,b){a.Ga.push(b)}g.Kb=function(a){return this.Wi[a]||null};g.Zk=function(a){this.$=a};var ad=Object.create(null);function tf(){var a=[],b;for(b in ad)a.push(ad[b]);return a};function uf(a){this.If=a;this.xa()}g=uf.prototype;g.ea=null;g.If=null;g.xa=function(){this.ea||(this.ea=z(ac,{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.If.appendChild(this.ea))};g.nf=function(a,b){a=a.toFixed(0);b=b.toFixed(0);this.ea.style.display="block";kc(this.ea,"translate3d("+a+"px, "+b+"px, 0px)")};g.Fj=function(){return Xa(this.ea)};
g.ph=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var b=this.ea.childNodes[0],c=this.ea.childNodes[1];if(!(b&&c&&hc(b,"blocklyBlockCanvas")&&hc(c,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.Hk?jc(b,this.Hk):a.insertBefore(b,a.firstChild);jc(c,b);this.ea.style.display="none";if(this.ea.childNodes.length)throw Error("Drag surface was not cleared.");kc(this.ea,"");this.Hk=null};function vf(a,b,c){if(!b)throw Error("Cannot create a node without a location.");this.Og=a;this.O=b;this.Mn=null;(a=c||null)&&a.Ln&&(this.Mn=a.Ln)}var wf=!1;function xf(a){return a?new vf("field",a):null}function yf(a){if(!a)return null;var b=a.type;return 1==b||3==b&&a.rc()?zf(a.rc()):3==b?new vf("next",a):2==b?new vf("output",a):4==b?new vf("previous",a):null}function zf(a){return a&&a.connection?new vf("input",a.connection):null}function Af(a){return a?new vf("block",a):null}
function Bf(a){return a?new vf("stack",a):null}g=vf.prototype;g.getType=function(){return this.Og};function Cf(a,b){a=a.O;a instanceof nf||(a=a.B());if(!a||!a.j)return null;var c=a.cc();a=c.j.ta(!0);for(var d=0,e;e=a[d];d++)if(c.id==e.id)return b=d+(b?1:-1),-1==b||b==a.length?null:Bf(a[b]);throw Error("Couldn't find "+(b?"next":"previous")+" stack?!");}function Df(a){if(!a)return null;do var b=a.F&&a.F.H();while(b&&nb(b)==a&&(a=b));return(b=a.F||a.v)&&b.L&&b.L.rc()?zf(b.L.rc()):Bf(a)}
g.B=function(){return"block"===this.getType()?this.O:"stack"===this.getType()?this.O:"workspace"===this.getType()?null:this.O.B()};
g.next=function(){switch(this.Og){case "stack":return Cf(this,!0);case "output":var a=this.O;return Af(a.B());case "field":a:{var b=this.O,c=b.rc();a=b.B();b=c.aa.indexOf(b)+1;c=a.A.indexOf(c);for(var d;d=a.A[c];c++){for(var e=d.aa;b<e.length;){if(Ef(e[b])||wf){a=xf(e[b]);break a}b++}b=0;if(d.connection){a=zf(d);break a}}a=null}return a;case "input":a:{b=this.O.rc();a=b.B();for(b=a.A.indexOf(b)+1;c=a.A[b];b++){d=c.aa;e=0;for(var f;f=d[e];e++)if(Ef(f)||wf){a=xf(f);break a}if(c.connection){a=zf(c);
break a}}a=null}return a;case "block":return yf(this.O.C);case "previous":return a=this.O,Af(a.B());case "next":return a=this.O,yf(a.L)}return null};g.ad=function(){switch(this.Og){case "workspace":var a=this.O.ta(!0);if(0<a.length)return Bf(a[0]);break;case "stack":a=this.O;var b=a.F||a.v;return b?yf(b):Af(a);case "block":a=this.O;a:{a=a.A;b=0;for(var c;c=a[b];b++){for(var d=c.aa,e=0,f;f=d[e];e++)if(Ef(f)||wf){a=xf(f);break a}if(c.connection){a=zf(c);break a}}a=null}return a;case "input":return yf(this.O.L)}return null};
g.od=function(){switch(this.Og){case "stack":return Cf(this,!1);case "field":a:{var a=this.O;var b=a.rc();var c=a.B();a=b.aa.indexOf(a)-1;for(var d=c.A.indexOf(b),e;e=c.A[d];d--){if(e.connection&&e!==b){b=zf(e);break a}for(e=e.aa;-1<a;){if(Ef(e[a])||wf){b=xf(e[a]);break a}a--}0<=d-1&&(a=c.A[d-1].aa.length-1)}b=null}return b;case "input":a:{b=this.O.rc();c=b.B();for(a=c.A.indexOf(b);d=c.A[a];a--){if(d.connection&&d!==b){b=zf(d);break a}d=d.aa;e=d.length-1;for(var f;f=d[e];e--)if(Ef(f)||wf){b=xf(f);
break a}}b=null}return b;case "block":return b=this.O,yf(b.F||b.v);case "previous":b=this.O;if((b=b.L)&&!b.rc())return yf(b);break;case "next":return b=this.O,Af(b.B())}return null};
g.ld=function(){switch(this.Og){case "stack":var a=this.O,b=a.ga();a=a.j;return(b=new r(b.x,b.y+-20),a)?new vf("workspace",a,{Ln:b}):null;case "output":return b=this.O,(a=b.L)?yf(a):Bf(b.B());case "field":return Af(this.O.B());case "input":return b=this.O,Af(b.B());case "block":return a=this.O,Df(a);case "previous":return b=this.O,Df(b.B());case "next":return b=this.O,Df(b.B())}return null};var Ff=Object.create(null);var Gf=Object.create(null);function Hf(a,b){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(Gf[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof b)throw Error('Error: Extension "'+a+'" must be a function');Gf[a]=b}
function If(a,b,c){var d=Gf[a];if("function"!=typeof d)throw Error('Error: Extension "'+a+'" not found.');if(c){if(Jf(b).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+b.id);}else var e=Jf(b);d.apply(b);if(c){a='Error after applying mutator "'+a+'": ';if("function"!=typeof b.Gd)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof b.gd)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');
c=void 0!==b.dj;d=void 0!==b.hj;if(c&&d){if("function"!=typeof b.dj)throw Error(a+"compose must be a function.");if("function"!=typeof b.hj)throw Error(a+"decompose must be a function.");}else if(c||d)throw Error(a+'Must have both or neither of "compose" and "decompose"');}else{a:if(c=e,b=Jf(b),b.length!=c.length)b=!1;else{for(d=0;d<b.length;d++)if(c[d]!=b[d]){b=!1;break a}b=!0}if(!b)throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');
}}function Jf(a){var b=[];void 0!==a.Gd&&b.push(a.Gd);void 0!==a.gd&&b.push(a.gd);void 0!==a.dj&&b.push(a.dj);void 0!==a.hj&&b.push(a.hj);return b}Hf("parent_tooltip_when_inline",function(){this.Wp=this.Sb;this.Dg(function(){var a=this.getParent();return a&&Kf(a)&&a.Sb||this.Wp}.bind(this))});function Lf(a){var b=Tc(Mc,a.type);return b?b.M(a):(console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)};var Mf=0,Nf=null;function Of(a,b,c,d){var e=(new Date-c)/150;1<e?ic(a):(a.setAttribute("transform","translate("+(a.Yp+(b?-1:1)*a.Sl.width*d/2*e)+","+(a.Zp+a.Sl.height*d*e)+") scale("+(1-e)*d+")"),setTimeout(Of,10,a,b,c,d))}function Pf(a,b,c){var d=(new Date-b)/150;1<d?ic(a):(a.setAttribute("r",25*d*c),a.style.opacity=1-d,Mf=setTimeout(Pf,10,a,b,c))}
function Qf(a,b,c){var d=(new Date-c)/200;1<d?a.Fg="":(a.Fg="skewX("+Math.round(Math.sin(d*Math.PI*3)*(1-d)*b)+")",Nf=a,Mf=setTimeout(Qf,10,a,b,c));a.setAttribute("transform",a.Ng+a.Fg)}function Rf(){if(Nf){clearTimeout(Mf);var a=Nf;a.Fg="";a.setAttribute("transform",a.Ng);Nf=null}};function Sf(a,b,c){Sf.i.constructor.call(this,a?a.j.id:void 0);this.la=a?a.id:null;this.Im=b;this.Ul=c}H(Sf,Nd);Sf.prototype.type="drag";Sf.prototype.R=function(){var a=Sf.i.R.call(this);a.isStart=this.Im;a.blockId=this.la;a.blocks=this.Ul;return a};Sf.prototype.M=function(a){Sf.i.M.call(this,a);this.Im=a.isStart;this.la=a.blockId;this.Ul=a.blocks};B(Lc,"drag",Sf);function Tf(a){this.xd=L=a;this.g=a.j;this.dd=this.Vj=null;this.Tf=Uf(this,this.xd);this.Ta=this.va=null;this.kc=!1;this.Sf=this.Mj=this.Wd=null;this.mh=Vf(this)}Tf.prototype.m=function(){this.mh.length=0;C++;try{this.Tf&&this.Tf.m(),this.dd&&this.dd.m()}finally{C--}};
Tf.prototype.update=function(a,b){var c=this.va&&this.Ta?na:ma;for(var d=null,e=null,f=0;f<this.mh.length;f++){var h=this.mh[f],k=h.closest(c,a);k.connection&&(d=k.connection,e=h,c=k.ni)}c={closest:d,local:e,ni:c};if((this.kc=this.$k(c,b))||Wf(this,c,a)){C++;c.closest?(a=this.va!=c.closest,b=this.Ta!=c.local,this.va&&this.Ta&&(a||b||this.kc)&&Xf(this)):Xf(this);this.Ta=this.va=this.Wd=null;if(!this.kc&&(a=c.closest,b=c.local,a))if(a==this.va||a.B().Ab())console.log("Trying to connect to an insertion marker");
else{this.va=a;this.Ta=b;a=this.va;b=this.Ta;c=this.xd;2==b.type||4==b.type?((d=!a.isConnected())||(d=a.H(),d=!!Xe(c,2===b.type?d.v:d.F)),b=d?0:2):b=0;switch(b){case 1:this.Mj=this.va.B();break;case 0:d=this.Ta;b=this.va;c=this.Vj&&d==this.Vj?this.dd:this.Tf;d=c.Ej(d.B(),d);if(d==this.Wd)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");c.W();c.K=!0;c.J().setAttribute("visibility","visible");d&&b&&(3!=d.type&&1!=d.type||c.moveBy(b.x-d.x,b.y-d.y));b&&d.connect(b);
this.Wd=d;break;case 2:this.Sf=this.va.H(),Yf(this.Sf.ua,"blocklyReplaceable",!0)}a&&(c=a.o.j.ra.D(),b=Zf(c,a),1==a.type||2==a.type?(c=c.ze,b=M(0,-c)+N("v",c)+b.Ob+N("v",c)):(c=c.wf-c.oa,b=M(-c,0)+N("h",c)+b.nd+N("h",c)),c=a.o.ga(),We.Bm=z(Yb,{"class":"blocklyHighlightedConnectionPath",d:b,transform:"translate("+(a.x-c.x)+","+(a.y-c.y)+")"+(a.o.u?" scale(-1 1)":"")},a.o.J()))}C--}};
function Uf(a,b){var c=b.type;C++;try{var d=a.g.kk(c);d.un(!0);if(b.gd){var e=b.gd();e&&d.Gd(e)}for(a=0;a<b.A.length;a++){var f=b.A[a];if("_TEMP_COLLAPSED_INPUT"!=f.name){var h=d.A[a];if(!h)throw Error("The insertion marker manager tried to create a marker but the result is missing an input. If you are using a mutator, make sure your domToMutation method is properly defined.");for(c=0;c<f.aa.length;c++){var k=f.aa[c],l=h.aa[c];if(!l)throw Error("The insertion marker manager tried to create a marker but the result is missing a field. If you are using a mutator, make sure your domToMutation method is properly defined.");
Ed(l,k.sb)}}}d.fe(b.isCollapsed());d.je(Kf(b));d.dg();d.J().setAttribute("visibility","hidden")}finally{C--}return d}function Vf(a){var b=a.xd.ac(!1),c=a.xd.Vh(!0);if(c&&c!=a.xd.C){b.push(c);a.Vj=c;if(a.dd){C++;try{a.dd.m()}finally{C--}}a.dd=Uf(a,c.B())}return b}
function Wf(a,b,c){var d=b.local,e=b.closest;b=b.ni;if(d&&e){if(a.Ta&&a.va){if(a.va==e&&a.Ta==d)return!1;d=a.Ta.x+c.x-a.va.x;a=a.Ta.y+c.y-a.va.y;a=Math.sqrt(d*d+a*a);return!(e&&b>a-8)}if(a.Ta||a.va)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.Ta||!a.va);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}Tf.prototype.$k=function(a,b){return b&&Fb(this.g.Ec,b.id)?$f(b,this.xd,a&&!!a.closest):!1};
function Xf(a){a.va&&a.va.H()&&(ic(We.Bm),delete We.Bm);if(a.Sf)Yf(a.Sf.ua,"blocklyReplaceable",!1),a.Sf=null;else if(a.Mj)a.Mj=null;else if(a.Wd)if(a.Wd){var b=a.Wd,c=b.B(),d=c.C,e=c.F,f=c.v;f=1==b.type&&!(f&&f.L);!(b!=d||e&&e.L)||f?Ld(b.H(),!1):3==b.type&&b!=d?(d=b.L,Ld(d.B(),!1),e=e?e.L:null,Ld(c,!0),e&&e.connect(d)):Ld(c,!0);if(b.L)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.Wd=null;(a=c.J())&&a.setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")}
Tf.prototype.Oe=function(){var a=[];this.Tf&&a.push(this.Tf);this.dd&&a.push(this.dd);return a};function ag(a,b){this.ma=a;this.g=b;this.qc=new Tf(this.ma);this.La=null;this.kc=!1;this.td=this.ma.ga();b=[];a=mb(a,!1);for(var c=0,d;d=a[c];c++){d=bg(d);for(var e=0;e<d.length;e++){var f={location:d[e].Sq(),icon:d[e]};b.push(f)}}this.Dh=b}g=ag.prototype;g.m=function(){this.Dh.length=0;this.qc&&this.qc.m()};
g.Ai=function(a,b){Vc||E(!0);var c=new (G("drag"))(this.ma,!0,mb(this.ma,!1));D(c);this.g.Th&&cg(this.ma);lc();this.g.Wa(!1);Rf();if(this.ma.getParent()||b&&this.ma.C&&this.ma.C.H())Ld(this.ma,b),a=this.bf(a),a=xa(this.td,a),this.ma.translate(a.x,a.y),a=this.ma,a.j.lb.play("disconnect"),1>a.j.scale||(b=dg(a).height,b=Math.atan(10/b)/Math.PI*180,a.u||(b*=-1),Qf(a.J(),b,new Date)),a=this.qc,a.mh=Vf(a);this.ma.ie(!0);a=this.ma;a.Rg&&(b=a.ga(),a.J().removeAttribute("transform"),a.j.tb.nf(b.x,b.y),(b=
a.J())&&Ud(a.j.tb,b))};g.Gc=function(a,b){b=this.bf(b);eg(this.ma,xa(this.td,b));for(var c=0;c<this.Dh.length;c++){var d=this.Dh[c];d.icon.$q(xa(d.location,b))}c=this.La;this.La=fg(this.g,a);this.qc.update(b,this.La);a=this.kc;this.kc=this.qc.kc;a!=this.kc&&Yf(this.ma.ua,"blocklyDraggingDelete",this.kc);this.La!==c&&c&&c.rk();this.La&&this.La.tk()};
g.Qf=function(a,b){this.Gc(a,b);this.Dh=[];a=new (G("drag"))(this.ma,!1,mb(this.ma,!1));D(a);mc();Rf();b=this.bf(b);a=xa(this.td,b);var c=this.ma;c.Rg&&(c.translate(a.x,a.y),c.j.tb.ph(c.j.za));this.La&&this.La.vk();this.kc?(gg(this),this.ma.m(!1,!0),cf=[],a=!0):a=!1;if(!a)if(this.ma.ie(!1),b){hg(this.ma,b.x,b.y);gg(this);if(this.qc.va){if(b=this.qc,b.va&&(C++,Xf(b),C--,b.Ta.connect(b.va),b.xd.K)){c=(Ye(b.Ta)?b.va:b.Ta).B();var d=c.j;a=d.scale;d.lb.play("click");if(!(1>a)){var e=ig(d,c.J());c.v?(e.x+=
(c.u?3:-3)*a,e.y+=13*a):c.F&&(e.x+=(c.u?-23:23)*a,e.y+=3*a);c=z(Nb,{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},K(d));Pf(c,new Date,a)}cg(b.xd.cc())}}else this.ma.W();jg(this.ma)}else kg(this.ma.j,this.g.Bb.Kd(!0),this.ma);this.g.Wa(!0);E(!1)};function gg(a){var b=new (G("move"))(a.ma);b.nk=a.td;Jd(b);D(b)}g.bf=function(a){a=new r(a.x/this.g.scale,a.y/this.g.scale);this.g.Th&&a.scale(1/this.g.options.rb.scale);return a};g.Oe=function(){return this.qc&&this.qc.Oe?this.qc.Oe():[]};
B(Sc,"default",ag);function lg(a,b){this.mb=a;this.g=b;this.La=null;this.Sg=!1;this.td=this.mb.ga();this.Hd=ib()&&b.tb?b.tb:null}lg.prototype.m=function(){this.Hd=this.g=this.mb=null};function mg(a,b,c){a.bf(c);eg(a.mb,a.Hd);c=a.La;a.La=fg(a.g,b);b=a.Sg;a.Sg=a.$k(a.La);b!=a.Sg&&Yf(a.mb.ua,"blocklyDraggingDelete",a.Sg);a.La!==c&&c&&c.rk();a.La&&a.La.tk()}lg.prototype.$k=function(a){return a&&Fb(this.g.Ec,a.id)?$f(a,this.mb,!1):!1};
function ng(a,b,c){mg(a,b,c);b=a.bf(c);b=xa(a.td,b);a.mb.moveTo(b.x,b.y);a.La&&a.La.vk();a.Sg?a.mb.m(!1,!0):(a.Hd&&a.Hd.ph(a.g.vd),a.mb.ie&&a.mb.ie(!1));a.g.Wa(!0);E(!1)}lg.prototype.bf=function(a){a=new r(a.x/this.g.scale,a.y/this.g.scale);this.g.Th&&a.scale(1/this.g.options.rb.scale);return a};function og(a,b,c){og.i.constructor.call(this,a?a.j.id:b);this.la=a?a.id:null;this.zn=c}H(og,Nd);og.prototype.type="click";og.prototype.R=function(){var a=og.i.R.call(this);a.targetType=this.zn;this.la&&(a.blockId=this.la);return a};og.prototype.M=function(a){og.i.M.call(this,a);this.zn=a.targetType;this.la=a.blockId};B(Lc,"click",og);function pg(a){this.g=a;this.Cm=qg(this.g);this.In=rg(this.g);this.Sp=new r(a.scrollX,a.scrollY)}pg.prototype.m=function(){this.g=null};pg.prototype.Ai=function(){L&&sg(L);Be(this.g)};pg.prototype.Qf=function(a){this.Gc(a);Ce(this.g)};pg.prototype.Gc=function(a){a=xa(this.Sp,a);if(this.Cm&&this.In)this.g.scroll(a.x,a.y);else if(this.Cm)this.g.scroll(a.x,this.g.scrollY);else if(this.In)this.g.scroll(this.g.scrollX,a.y);else throw new TypeError("Invalid state.");};function tg(a,b){this.Rm=null;this.cb=new r(0,0);this.Ba=this.Oa=this.jf=this.kf=this.ic=null;this.gj=b;this.fg=this.Sd=this.gg=this.Ld=!1;this.fc=a;this.N=this.re=this.mc=this.Rc=this.ii=this.gi=null;this.ym=this.Ph=this.Ue=this.Vl=!1}g=tg.prototype;g.m=function(){qb=null;Fe=!1;this.gj.Qa=null;this.gi&&v(this.gi);this.ii&&v(this.ii);this.mc&&this.mc.m();this.re&&this.re.m();this.Rc&&this.Rc.m()};
function ug(a,b){a.cb=wa(new r(b.clientX,b.clientY),a.Rm);if(a.Ld)var c=!1;else c=a.cb,a.Ld=Math.sqrt(c.x*c.x+c.y*c.y)>(a.N?10:5),c=a.Ld;if(c){if(a.Vl)throw Error("updateIsDragging_ should only be called once per gesture.");a.Vl=!0;a.ic?(a.fg=!0,a.Rc=new lg(a.ic,a.Ba),c=a.Rc,Vc||E(!0),c.g.Wa(!1),c.mb.Zq(!1),c.Hd&&(c.mb.moveTo(0,0),c.Hd.nf(c.td.x,c.td.y),Ud(c.Hd,c.mb.J())),c.mb.ie&&c.mb.ie(!0),mg(a.Rc,a.fc,a.cb),c=!0):c=!1;if(!c){if(a.Oa){if(a.N){if(a.Oa&&a.Oa.isEnabled()){if(!(c=!vg(a.N))){c=a.cb;
c=Math.atan2(c.y,c.x)/Math.PI*180;var d=a.N.Xo;c=c<d&&c>-d||c<-180+d||c>180-d?!0:!1}c?(a.Ba=a.N.P,wg(a.Ba),Vc||E(!0),a.jf=null,a.Oa=xg(a.N,a.Oa),a.Oa.select(),c=!0):c=!1}else c=!1;a.Sd=c}else a.Oa.Sa()&&(a.Sd=!0);a.Sd?(a.mc=new (Uc(Sc,a.gj.options,!0))(a.Oa,a.Ba),a.mc.Ai(a.cb,a.ym),a.mc.Gc(a.fc,a.cb),c=!0):c=!1}else c=!1;if(c=!c)if(a.N)c=vg(a.N);else if(c=a.Ba)c=a.Ba,c=c.options.Ua&&c.options.Ua.Gc;c&&(a.re=new pg(a.Ba),a.gg=!0,a.re.Ai())}ub()}a.fc=b}
g.mj=function(a){Wa(a)?this.cancel():(this.Ue=!0,Rf(),wg(this.Ba),this.Ba.Th&&this.Ba.resize(),De(!!this.N),Fc(this.Ba),this.fc=a,Te(),Fe=!0,this.Oa&&this.Oa.select(),bb(a)?vb(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||tb(a,this),this.Rm=new r(a.clientX,a.clientY),this.ym=a.altKey||a.ctrlKey||a.metaKey,this.Tl(a)))};
g.Tl=function(a){this.gi=t(document,"mousemove",null,this.Se.bind(this));this.ii=t(document,"mouseup",null,this.Kh.bind(this));a.preventDefault();a.stopPropagation()};g.Se=function(a){ug(this,a);this.gg?this.re.Gc(this.cb):this.Sd?this.mc.Gc(this.fc,this.cb):this.fg&&mg(this.Rc,this.fc,this.cb);a.preventDefault();a.stopPropagation()};
g.Kh=function(a){ug(this,a);ub();if(this.Ph)console.log("Trying to end a gesture recursively.");else{this.Ph=!0;if(this.fg)ng(this.Rc,a,this.cb);else if(this.Sd)this.mc.Qf(a,this.cb);else if(this.gg)this.re.Qf(this.cb);else if(this.ic&&!this.Ld)this.ic.Mp&&this.ic.Mp(),this.ic.select&&this.ic.select();else if(yg(this)){var b=this.kf,c=this.fc;Ef(b)&&b.zi(c);zg(this)}else!this.jf||this.Ld||yg(this)?this.jf||this.ic||this.kf||this.Ld||(b=this.gj,L&&sg(L),b=this.Ba||b,D(new (G("click"))(null,b.id,"workspace"))):
(this.N&&this.N.Cd?this.Oa.isEnabled()&&(Vc||E(!0),jg(xg(this.N,this.Oa))):(b=new (G("click"))(this.jf,this.Ba.id,"block"),D(b)),zg(this),E(!1));a.preventDefault();a.stopPropagation();this.m()}};g.cancel=function(){this.Ph||(ub(),this.fg?ng(this.Rc,this.fc,this.cb):this.Sd?this.mc.Qf(this.fc,this.cb):this.gg&&this.re.Qf(this.cb),this.m())};function vb(a,b){a.Oa?(zg(a),De(!!a.N),a.Oa.yi(b)):a.ic?a.ic.yi(b):a.Ba&&!a.N&&(De(),a.Ba.yi(b));b.preventDefault();b.stopPropagation();a.m()}
function Ag(a,b,c){if(a.Ue)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.Ba||(a.Ba=c);a.fc=b;a.mj(b)}function Bg(a,b,c){if(a.Ue)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.N||(a.N=c);Ag(a,b,c.g)}function zg(a){a.Oa&&!a.N&&cg(a.Oa)}function Cg(a,b){a.jf||a.ic||(a.jf=b,b.zb&&b!=b.cc()?Dg(a,b.cc()):Dg(a,b))}function Dg(a,b){b.T?Dg(a,b.getParent()):a.Oa=b}
function yg(a){return(a.kf?Ef(a.kf):!1)&&!a.Ld&&(!a.N||!a.N.Cd)}g.yb=function(){return this.gg||this.Sd||this.fg};g.Oe=function(){return this.mc?this.mc.Oe():[]};function Eg(){for(var a=tf(),b=0,c;c=a[b];b++)if(c.Qa)return!0;return!1};function Fg(){this.Ib=this.Yb=this.bj=null;this.type="marker"}function Gg(a,b){var c=a.Yb;a.Yb=b;a.Ib&&a.Ib.Zb(c,a.Yb)}Fg.prototype.Zb=function(){this.Ib&&this.Ib.Zb(this.Yb,this.Yb)};Fg.prototype.pb=function(){this.Ib&&this.Ib.pb()};Fg.prototype.m=function(){this.Ib&&this.Ib.m()};function Hg(){Hg.i.constructor.call(this);this.type="cursor"}H(Hg,Fg);Hg.prototype.next=function(){var a=this.Yb;if(!a)return null;for(a=a.next();a&&a.next()&&("next"==a.getType()||"block"==a.getType());)a=a.next();a&&Gg(this,a);return a};Hg.prototype.ad=function(){var a=this.Yb;if(!a)return null;if("previous"==a.getType()||"output"==a.getType())a=a.next();(a=a.ad())&&Gg(this,a);return a};
Hg.prototype.od=function(){var a=this.Yb;if(!a)return null;for(a=a.od();a&&a.od()&&("next"==a.getType()||"block"==a.getType());)a=a.od();a&&Gg(this,a);return a};Hg.prototype.ld=function(){var a=this.Yb;if(!a)return null;(a=a.ld())&&"block"==a.getType()&&(a=a.od()||a);a&&Gg(this,a);return a};B(Kc,"default",Hg);function Ig(a){this.Fc=this.Hb=null;this.lg=Object.create(null);this.g=a}g=Ig.prototype;g.Wf=function(){return this.Hb};g.Yf=function(a){return this.lg[a]||null};g.Oc=function(a){a?(this.g.za.appendChild(a),this.Fc=a):this.Fc=null};g.sd=function(a){a?this.g.za&&(this.Fc?this.g.za.insertBefore(a,this.Fc):this.g.za.appendChild(a)):this.Mc=null};
g.m=function(){for(var a=Object.keys(this.lg),b=0,c;c=a[b];b++){var d=this.lg[c];if(d)d.m(),delete this.lg[c];else throw Error("Marker with ID "+c+" does not exist. Can only unregister markers that exist.");}this.lg=null;this.Hb&&(this.Hb.m(),this.Hb=null)};var Jg,Kg=null,Lg=null,Mg="",Ng="";function Og(a){var b=O,c=O.m;Pg();Kg=b;Lg=c;b=Jg;b.style.direction=a?"rtl":"ltr";b.style.display="block";a=Gc;Mg=a.ra.$b();Ng=a.Hc().$b();A(b,Mg);A(b,Ng)}function Pg(){if(Kg){Kg=null;var a=Jg;a.style.display="none";a.style.left="";a.style.top="";Lg&&Lg();Lg=null;a.textContent="";Mg&&(gc(a,Mg),Mg="");Ng&&(gc(a,Ng),Ng="");Fc(Gc)}}function Qg(a,b,c){Jg.style.left=a+"px";Jg.style.top=b+"px";Jg.style.height=c+"px"};function Rg(a,b,c){this.sb=this.Ji;this.Bn=this.Gn=null;this.Xa=new Ga(0,0);this.h=this.jk=this.me=this.Ya=this.Ca=this.ob=this.Mc=this.Fc=null;c&&this.Ef(c);Ed(this,a);b&&(this.Gn=b)}g=Rg.prototype;g.Ji=null;g.name=void 0;g.Yc=!1;g.Qm=50;g.o=null;g.bd=!0;g.zd=!0;g.Xl=null;g.sf=!0;g.Hl=!1;g.Ef=function(a){var b=a.tooltip;"string"==typeof b&&(b=eb(a.tooltip));b&&this.Dg(b)};g.D=function(){!this.h&&this.o&&this.o.j&&this.o.j.K&&(this.h=this.o.j.ra.D());return this.h};g.B=function(){return this.o};
g.ba=function(){this.ob||(this.ob=z(Vb,{},null),this.isVisible()||(this.ob.style.display="none"),this.o.J().appendChild(this.ob),this.Mh(),Sg(this),this.Dg(this.Bn),Oe(Tg(this)),this.jk=t(Tg(this),"mousedown",this,this.kd))};g.Mh=function(){Ug(this);Vg(this)};function Ug(a){a.Ca=z($b,{rx:a.D().Xg,ry:a.D().Xg,x:0,y:0,height:a.Xa.height,width:a.Xa.width,"class":"blocklyFieldRect"},a.ob)}
function Vg(a){a.Ya=z(bc,{"class":"blocklyText"},a.ob);a.D().Ki&&a.Ya.setAttribute("dominant-baseline","central");a.me=document.createTextNode("");a.Ya.appendChild(a.me)}g.Bj=function(a){Ed(this,a.textContent)};g.m=function(){tc===this&&Dc();Kg==this&&Pg();Se(Tg(this));this.jk&&v(this.jk);ic(this.ob);this.Yc=!0};
function Sg(a){var b=a.ob;a.sf&&b&&(a.o.Mb()?(A(b,"blocklyEditableText"),gc(b,"blocklyNonEditableText"),b.style.cursor=a.Tn):(A(b,"blocklyNonEditableText"),gc(b,"blocklyEditableText"),b.style.cursor=""))}function Ef(a){return!!a.o&&a.o.Mb()&&!!a.zi&&"function"===typeof a.zi}g.isVisible=function(){return this.zd};g.Aa=function(a){if(this.zd!=a){this.zd=a;var b=this.J();b&&(b.style.display=a?"block":"none")}};g.J=function(){return this.ob};g.Ka=function(){};
g.Mk=function(){this.me&&(this.me.nodeValue=Wg(this));this.En()};g.En=function(){var a=this.D(),b=this.Ca?this.D().tf:0,c=2*b,d=a.Yg,e=0;this.Ya&&(e=nc(this.Ya,a.vf+"pt",a.te,a.se),c+=e);this.Ca&&(d=Math.max(d,a.ql));this.Xa.height=d;this.Xa.width=c;Xg(this,b,e);Yg(this)};function Xg(a,b,c){if(a.Ya){var d=a.D(),e=a.Xa.height/2;a.Ya.setAttribute("x",a.o.u?a.Xa.width-c-b:b);a.Ya.setAttribute("y",d.Ki?e:e-d.Yg/2+d.ul)}}
function Yg(a){a.Ca&&(a.Ca.setAttribute("width",a.Xa.width),a.Ca.setAttribute("height",a.Xa.height),a.Ca.setAttribute("rx",a.D().Xg),a.Ca.setAttribute("ry",a.D().Xg))}g.Zf=function(){if(!this.isVisible())return new Ga(0,0);this.bd?(this.Mk(),this.bd=!1):this.zd&&0==this.Xa.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.Mk());return this.Xa};
function Wg(a){var b=Zg(a);if(!b)return"\u00a0";b.length>a.Qm&&(b=b.substring(0,a.Qm-2)+"\u2026");b=b.replace(/\s/g,"\u00a0");a.o&&a.o.u&&(b+="\u200f");return b}function Zg(a){if(a.Gj){var b=a.Gj.call(a);if(null!==b)return String(b)}return String(a.sb)}g.kg=function(){this.bd=!0;this.h=null};function $g(a){a.bd=!0;a.o&&a.o.K&&(a.o.W(),a.o.ub(),a.jl())}
function Ed(a,b){if(null!==b){var c=a.Ch(b);b=ah(a,b,c);if(!(b instanceof Error)){if(c=a.Gn)if(c=c.call(a,b),b=ah(a,b,c),b instanceof Error)return;c=a.o;if(!c||!c.Yc){var d=a.sb;d===b?a.Of(b):(c&&0==C&&D(new (G("change"))(c,"field",a.name||null,d,b)),a.Of(b),a.bd&&$g(a))}}}}function ah(a,b,c){if(null===c)return a.bd&&$g(a),Error();void 0!==c&&(b=c);return b}g.Ch=function(a){return null===a||void 0===a?null:a};g.Of=function(a){this.sb=a;this.bd=!0};
g.kd=function(a){if(this.o&&this.o.j&&(a=this.o.j.Id(a))){if(a.Ue)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.kf||(a.kf=this)}};g.Dg=function(a){a||""===a||(a=this.o);var b=Tg(this);b?b.Sb=a:this.Bn=a};function Tg(a){return a.Xl||a.J()}g.rc=function(){for(var a=null,b=this.o,c=b.A,d=0;d<b.A.length;d++)for(var e=c[d],f=e.aa,h=0;h<f.length;h++)if(f[h]===this){a=e;break}return a};g.rm=function(){return!1};
g.Oc=function(a){a?(this.ob.appendChild(a),this.Fc=a):this.Fc=null};g.sd=function(a){a?(this.ob.appendChild(a),this.Mc=a):this.Mc=null};g.jl=function(){var a=this.o.j;a.hg&&this.Fc&&a.Wf().Zb();a.hg&&this.Mc&&a.Yf("local_marker_1").Zb()};function bh(a,b,c){this.oh=null;bh.i.constructor.call(this,a,null,c);c||(this.oh=b||null)}H(bh,Rg);bh.prototype.Ji="";bh.M=function(a){var b=eb(a.text);return new bh(b,void 0,a)};bh.prototype.sf=!1;bh.prototype.Ef=function(a){bh.i.Ef.call(this,a);this.oh=a["class"]};bh.prototype.Mh=function(){Vg(this);this.oh&&A(this.Ya,this.oh)};bh.prototype.Ch=function(a){return null===a||void 0===a?null:String(a)};B(Mc,"field_label",bh);function ch(a,b,c,d){if(5!=a&&!b)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=b;this.o=c;this.connection=d;this.aa=[]}g=ch.prototype;g.align=-1;g.zd=!0;g.B=function(){return this.o};
function dh(a,b,c,d){if(0>b||b>a.aa.length)throw Error("index "+b+" out of bounds.");if(!(c||""==c&&d))return b;"string"==typeof c&&(c=Lf({type:"field_label",text:c}));if(c.o)throw Error("Field already bound to a block.");c.o=a.o;a.o.K&&(c.ba(),c.Ka());c.name=d;c.Aa(a.isVisible());c.Gk&&(b=dh(a,b,c.Gk));a.aa.splice(b,0,c);++b;c.bl&&(b=dh(a,b,c.bl));a.o.K&&(a.o=a.o,a.o.W(),a.o.ub());return b}g.isVisible=function(){return this.zd};
g.Aa=function(a){if(this.zd!=a){this.zd=a;for(var b=0,c;c=this.aa[b];b++)c.Aa(a);if(this.connection){this.connection=this.connection;if(a)eh(this.connection);else if(b=this.connection,fh(b,!1),b.L)for(b=mb(b.H(),!1),c=0;c<b.length;c++){for(var d=b[c],e=d.ac(!0),f=0;f<e.length;f++)fh(e[f],!1);d=bg(d);for(f=0;f<d.length;f++)d[f].Aa(!1)}if(b=this.connection.H())b.J().style.display=a?"block":"none"}}};g.kg=function(){for(var a=0,b;b=this.aa[a];a++)b.kg()};
g.ef=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.ef(a)};g.Bg=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.Bg(a)};g.Pe=function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.Pe()};g.ba=function(){if(this.o.j.K)for(var a=0;a<this.aa.length;a++)this.aa[a].ba()};
g.m=function(){for(var a=0,b;b=this.aa[a];a++)b.m();this.connection&&this.connection.m();this.o=null};function nf(a,b,c){if(gh&&"undefined"!=typeof gh.prototype[b])throw Error('Block prototypeName "'+b+'" conflicts with Blockly.Generator members.');this.id=c&&!a.Kb(c)?c:gb();a.Wi[this.id]=this;this.F=this.C=this.v=null;this.A=[];this.Jc=void 0;this.disabled=!1;this.Sb="";this.contextMenu=!0;this.yc=null;this.Cc=[];this.jm=this.Sm=this.dm=!0;this.Dd=this.T=!1;this.Xb={text:null,ln:!1,size:new Ga(160,80)};this.Nn=new r(0,0);this.j=a;this.zb=a.cd;this.u=a.u;this.Ye=!1;this.tc=void 0;this.K=null;if(b){this.type=
b;c=Ff[b];if(!c||"object"!=typeof c)throw TypeError("Unknown block type: "+b);ed(this,c)}a.kh(this);a.Qc[this.type]||(a.Qc[this.type]=[]);a.Qc[this.type].push(this);(a=Vc)||E(!0);b=Wc;try{"function"==typeof this.ba&&(Wc=!1,this.ba(),Wc=b),0==C&&D(new (G("create"))(this))}finally{a||E(!1),Wc=b}this.up=this.Jc;if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=typeof a)throw Error("onchange must be a function.");this.qg&&kb(this.j.Ga,this.qg);if(this.onchange=a)this.qg=a.bind(this),
sf(this.j,this.qg)}}g=nf.prototype;g.data=null;g.Yc=!1;g.Gb="#000000";g.Gg="";
g.m=function(a){if(this.j){this.qg&&kb(this.j.Ga,this.qg);Ld(this,a);0==C&&D(new (G("delete"))(this));C++;try{if(this.j){this.j.pi(this);var b=this.j;b.Qc[this.type].splice(b.Qc[this.type].indexOf(this),1);b.Qc[this.type].length||delete b.Qc[this.type];delete this.j.Wi[this.id];this.j=null}L==this&&(L=null);for(var c=this.Cc.length-1;0<=c;c--)this.Cc[c].m(!1);c=0;for(var d;d=this.A[c];c++)d.m();this.A.length=0;var e=this.ac(!0);c=0;for(var f;f=e[c];c++)f.m()}finally{C--,this.Yc=!0}}};
function Ld(a,b){if(a.v){var c=null;a.v.isConnected()&&(c=a.v.L,a.v.disconnect());if(c&&b){a:{b=null;for(var d=0;d<a.A.length;d++){var e=a.A[d].connection;if(e&&1==e.type&&e.L){if(b){a=null;break a}b=e}}a=b}a&&a.isConnected()&&!a.H().T&&(a=a.L,a.disconnect(),0==Ze(a,c,!1)?c.connect(a):a.wk(c))}}else a.F&&(c=null,a.F.isConnected()&&(c=a.F.L,a.F.disconnect()),d=nb(a),b&&d&&!d.T&&(a=a.C.L,a.disconnect(),c&&0==Ze(c,a,!1)&&c.connect(a)))}
g.ac=function(){var a=[];this.v&&a.push(this.v);this.F&&a.push(this.F);this.C&&a.push(this.C);for(var b=0,c;c=this.A[b];b++)c.connection&&a.push(c.connection);return a};g.Vh=function(a){for(var b=this.C;b;){var c=b.H();if(!c||a&&c.T)return b;b=c.C}return null};g.ub=function(){};g.getParent=function(){return this.yc};function Kd(a,b){for(var c=0,d;d=a.A[c];c++)if(d.connection&&d.connection.H()==b)return d;return null}
function hh(a){do{var b=a;a=a.getParent();if(!a)return null}while(nb(a)==b);return a}function nb(a){return a.C&&a.C.H()}g.cc=function(){var a=this;do{var b=a;a=b.yc}while(a);return b};function jd(a,b){if(!b)return a.Cc;b=[];for(var c=0,d;d=a.A[c];c++)d.connection&&(d=d.connection.H())&&b.push(d);(a=nb(a))&&b.push(a);return b}
g.wi=function(a){if(a!=this.yc){if(this.yc){kb(this.yc.Cc,this);if(this.F&&this.F.isConnected())throw Error("Still connected to previous block.");if(this.v&&this.v.isConnected())throw Error("Still connected to parent block.");this.yc=null}else this.j.pi(this);(this.yc=a)?a.Cc.push(this):this.j.kh(this)}};function mb(a,b){var c=[a];a=jd(a,b);for(var d,e=0;d=a[e];e++)c.push.apply(c,mb(d,b));return c}function md(a){return a.dm&&!a.T&&!(a.j&&a.j.options.readOnly)}
g.Sa=function(){return this.Sm&&!this.T&&!(this.j&&this.j.options.readOnly)};g.Tk=function(a){this.Sm=a};g.Yk=function(a){this.T=a};g.Ab=function(){return this.Ye};g.un=function(a){this.Ye=a};g.Mb=function(){return this.jm&&!(this.j&&this.j.options.readOnly)};g.Sk=function(a){this.jm=a;a=0;for(var b;b=this.A[a];a++)for(var c=0,d;d=b.aa[c];c++)Sg(d)};
g.Ej=function(a,b){var c=this.ac(!0);a=a.ac(!0);if(c.length!=a.length)throw Error("Connection lists did not match in length.");for(var d=0;d<a.length;d++)if(a[d]==b)return c[d];return null};g.Dg=function(a){this.Sb=a};g.Dj=function(){return this.Gb};g.si=function(a){this.Gb=ob(a).cg};g.ke=function(a){this.Gg=a};
function zd(a,b){if("string"!==typeof b)throw TypeError("Blockly.Block.prototype.getField expects a string with the field name but received "+(void 0===b?"nothing":b+" of type "+typeof b)+" instead");for(var c=0,d;d=a.A[c];c++)for(var e=0,f;f=d.aa[e];e++)if(f.name===b)return f;return null}function Bd(a){for(var b=0,c;c=a.A[b];b++)for(var d=0;c.aa[d];d++);return[]}function hf(a,b){return(a=zd(a,b))?a.sb:null}
g.Xk=function(a,b){if(a){void 0===b&&(b=null);if(!this.F){if(this.v)throw Error("Remove output connection prior to adding previous connection.");this.F=this.jg(4)}this.F.ef(b)}else if(this.F){if(this.F.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.F.m();this.F=null}};
g.Uk=function(a,b){if(a)void 0===b&&(b=null),this.C||(this.C=this.jg(3)),this.C.ef(b);else if(this.C){if(this.C.isConnected())throw Error("Must disconnect next statement before removing connection.");this.C.m();this.C=null}};
g.Vk=function(a,b){if(a){void 0===b&&(b=null);if(!this.v){if(this.F)throw Error("Remove previous connection prior to adding output connection.");this.v=this.jg(2)}this.v.ef(b)}else if(this.v){if(this.v.isConnected())throw Error("Must disconnect output value before removing connection.");this.v.m();this.v=null}};g.je=function(a){this.Jc!=a&&(D(new (G("change"))(this,"inline",null,this.Jc,a)),this.Jc=a)};
function Kf(a){if(void 0!=a.Jc)return a.Jc;for(var b=1;b<a.A.length;b++)if(5==a.A[b-1].type&&5==a.A[b].type)return!1;for(b=1;b<a.A.length;b++)if(1==a.A[b-1].type&&5==a.A[b].type)return!0;return!1}g.isEnabled=function(){return!this.disabled};g.rd=function(a){this.isEnabled()!=a&&(D(new (G("change"))(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function ih(a){for(a=hh(a);a;){if(a.disabled)return!0;a=hh(a)}return!1}g.isCollapsed=function(){return this.Dd};
g.fe=function(a){this.Dd!=a&&(D(new (G("change"))(this,"collapsed",null,this.Dd,a)),this.Dd=a)};
g.toString=function(a,b){function c(m){var n=m.Ge;!n&&m.L&&(n=m.L.Ge);return!!n&&(-1!=n.indexOf("Boolean")||-1!=n.indexOf("Number"))}function d(){h&&h.getType()==k.getType()&&h.O==k.O&&(h=null)}var e=[];b=b||"?";var f=wf;wf=!0;for(var h=Af(this),k=h;h;){switch(h.getType()){case "input":var l=h.O;h.ad()?c(l)&&e.push("("):e.push(b);break;case "field":l=h.O,"_TEMP_COLLAPSED_FIELD"!=l.name&&e.push(Zg(l))}l=h;h=l.ad()||l.next();if(!h){h=l.ld();for(d();h&&!h.next();)h=h.ld(),d(),h&&"input"==h.getType()&&
c(h.O)&&e.push(")");h&&(h=h.next())}}wf=f;for(b=2;b<e.length;b++)"("==e[b-2]&&")"==e[b]&&(e[b-2]=e[b-1],e.splice(b-1,2));e=e.reduce(function(m,n){return m+("("==m.substr(-1)||")"==n?"":" ")+n},"");e=e.trim()||"???";a&&e.length>a&&(e=e.substring(0,a-3)+"...");return e};function jh(a,b){var c=Lf(b);return!c&&b.alt?"string"==typeof b.alt?(b=kh(b.alt))?jh(a,b):null:jh(a,b.alt):c}function lh(a){return"input_value"==a||"input_statement"==a||"input_dummy"==a}
function kh(a){return(a=a.trim())?{type:"field_label",text:a}:null}g.Be=function(a,b){var c=null;if(1==a||3==a)c=this.jg(a);a=new ch(a,b,this,c);this.A.push(a);return a};g.Kk=function(a,b){for(var c=0,d;d=this.A[c];c++)if(d.name==a)return d.m(),this.A.splice(c,1),!0;if(b)return!1;throw Error("Input not found: "+a);};function Ad(a,b){for(var c=0,d;d=a.A[c];c++)if(d.name==b)return d;return null}function mh(a,b){return(a=Ad(a,b))&&a.connection&&a.connection.H()}
g.ff=function(a){this.Xb.text!=a&&(D(new (G("change"))(this,"comment",null,this.Xb.text,a)),this.Xb.text=a)};g.ga=function(){return this.Nn};g.moveBy=function(a,b){if(this.yc)throw Error("Block has parent.");var c=new (G("move"))(this);this.Nn.translate(a,b);Jd(c);D(c)};g.jg=function(a){return new We(this,a)};function nh(){this.ec=[];this.ee=this.Ma=this.ei=this.ci=this.bi=this.Dc=this.di=this.Nd=this.yk=null}g=nh.prototype;
g.W=function(a){var b=document.createElement("div");b.className="blocklyMenu goog-menu blocklyNonSelectable";b.tabIndex=0;this.ee&&b.setAttribute("role",this.ee);this.Ma=b;for(var c=0,d;d=this.ec[c];c++)b.appendChild(d.xa());this.di=t(b,"mouseover",this,this.lp,!0);this.Dc=t(b,"click",this,this.gp,!0);this.bi=t(b,"mouseenter",this,this.jp,!0);this.ci=t(b,"mouseleave",this,this.kp,!0);this.ei=t(b,"keydown",this,this.hp);a.appendChild(b)};
g.focus=function(){var a=this.Ma;a&&(a.focus({preventScroll:!0}),A(a,"blocklyFocused"))};g.Ag=function(a){this.ee=a};g.m=function(){this.di&&(v(this.di),this.di=null);this.Dc&&(v(this.Dc),this.Dc=null);this.bi&&(v(this.bi),this.bi=null);this.ci&&(v(this.ci),this.ci=null);this.ei&&(v(this.ei),this.ei=null);for(var a=0,b;b=this.ec[a];a++)b.m();this.Ma=null};
function oh(a,b){for(var c=a.Ma;b&&b!=c;){if(hc(b,"blocklyMenuItem"))for(var d=0,e;e=a.ec[d];d++)if(e.Ma==b)return e;b=b.parentElement}return null}
g.hc=function(a){var b=this.Nd;b&&(b.hc(!1),this.Nd=null);if(a){a.hc(!0);this.Nd=a;b=this.Ma;var c=a.Ma,d=Ja(c),e=Ja(b);var f=Ia(b,"borderLeftWidth");Ia(b,"borderRightWidth");var h=Ia(b,"borderTopWidth");Ia(b,"borderBottomWidth");f=d.x-e.x-parseFloat(f);d=d.y-e.y-parseFloat(h);c=new Ga(c.offsetWidth,c.offsetHeight);e=b.clientHeight-c.height;h=b.scrollLeft;var k=b.scrollTop;h+=Math.min(f,Math.max(f-(b.clientWidth-c.width),0));k+=Math.min(d,Math.max(d-e,0));f=new r(h,k);b.scrollLeft=f.x;b.scrollTop=
f.y;Ve(b,"activedescendant",a.Ra())}};function ph(a,b,c){b+=c;for(var d;d=a.ec[b];){if(d.isEnabled()){a.hc(d);break}b+=c}}g.lp=function(a){(a=oh(this,a.target))&&(a.isEnabled()?this.Nd!=a&&this.hc(a):this.hc(null))};g.gp=function(a){var b=this.yk;this.yk=null;b&&"number"==typeof a.clientX&&1>va(b,new r(a.clientX,a.clientY))||(a=oh(this,a.target))&&a.isEnabled()&&a.Af&&a.Af(a)};g.jp=function(){this.focus()};g.kp=function(){if(this.Ma){var a=this.Ma;a&&(a.blur(),gc(a,"blocklyFocused"));this.hc(null)}};
g.hp=function(a){if(this.ec.length&&!(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)){var b=this.Nd;switch(a.keyCode){case 13:case 32:b&&b.isEnabled()&&b.Af&&b.Af(b);break;case 38:b=this.ec.indexOf(this.Nd);ph(this,0>b?this.ec.length:b,-1);break;case 40:ph(this,this.ec.indexOf(this.Nd),1);break;case 33:case 36:ph(this,-1,1);break;case 34:case 35:ph(this,this.ec.length,-1);break;default:return}a.preventDefault();a.stopPropagation()}};g.Zf=function(){var a=this.Ma,b=Ha(a);b.height=a.scrollHeight;return b};var qh=0;function rh(a,b){this.ej=a;this.sb=b;this.Eh=!0;this.Ma=null;this.Qk=!1;this.ee=null;this.Am=this.aj=this.$i=!1;this.Af=null}g=rh.prototype;
g.xa=function(){var a=document.createElement("div");a.id="blockly-"+(qh++).toString(36);this.Ma=a;a.className="blocklyMenuItem goog-menuitem "+(this.Eh?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.aj?"blocklyMenuItemSelected goog-option-selected ":"")+(this.Am?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.Qk?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var b=document.createElement("div");b.className="blocklyMenuItemContent goog-menuitem-content";if(this.$i){var c=document.createElement("div");
c.className="blocklyMenuItemCheckbox goog-menuitem-checkbox";b.appendChild(c)}c=this.ej;"string"==typeof this.ej&&(c=document.createTextNode(this.ej));b.appendChild(c);a.appendChild(b);this.ee&&a.setAttribute("role",this.ee);Ve(a,"selected",this.$i&&this.aj||!1);Ve(a,"disabled",!this.Eh);return a};g.m=function(){this.Ma=null};g.Ra=function(){return this.Ma.id};g.Ag=function(a){this.ee=a};
g.hc=function(a){this.Am=a;var b=this.Ma;b&&this.isEnabled()&&(a?(A(b,"blocklyMenuItemHighlight"),A(b,"goog-menuitem-highlight")):(gc(b,"blocklyMenuItemHighlight"),gc(b,"goog-menuitem-highlight")))};g.isEnabled=function(){return this.Eh};g.rd=function(a){this.Eh=a};function sh(a,b,c){a.Af=b.bind(c)};var O={wh:null,hb:null,show:function(a,b,c){Og(c);if(b.length){var d=O.Hp(b,c);O.hb=d;O.Ip(d,a,c);setTimeout(function(){d.focus()},1);O.wh=null}else O.pb()},Hp:function(a,b){var c=new nh;c.Ag("menu");for(var d=0,e;e=a[d];d++){var f=new rh(e.text);f.Qk=b;f.Ag("menuitem");c.ec.push(f);f.rd(e.enabled);e.enabled&&sh(f,function(){O.pb();this.qa(this.scope)},e)}return c},Ip:function(a,b,c){var d=document.body;var e=document.documentElement;d=new r(d.scrollLeft||e.scrollLeft,d.scrollTop||e.scrollTop);d=
new ya(d.y,document.documentElement.clientHeight+d.y,d.x,document.documentElement.clientWidth+d.x);var f=new ya(b.clientY+d.top,b.clientY+d.top,b.clientX+d.left,b.clientX+d.left);O.To(a);b=a.Zf();c&&(f.left+=b.width,f.right+=b.width,d.left+=b.width,d.right+=b.width);e=f.bottom+b.height>=d.bottom?f.top-b.height:f.bottom;c?(c=Math.max(f.right-b.width,d.left),c=Math.min(c,d.right-b.width)):(c=Math.min(f.left,d.right-b.width),c=Math.max(c,d.left));0>e?Qg(c,0,b.height+e):Qg(c,e,b.height);a.focus()},To:function(a){a.W(Jg);
var b=a.Ma;A(b,"blocklyContextMenu");t(b,"contextmenu",null,Va);a.focus()},pb:function(){Kg==O&&Pg();O.wh=null},m:function(){O.hb&&(O.hb.m(),O.hb=null)},Fq:function(a,b){return function(){C++;try{var c=qd(b,a.j),d=a.ga();d.x=a.u?d.x-ma:d.x+ma;d.y+=2*ma;c.moveBy(d.x,d.y)}finally{C--}0==C&&!c.T&&D(new (G("create"))(c));c.select()}}};function th(){uh=this;this.Pb=Object.create(null)}var uh=null;th.prototype.register=function(a){if(this.Pb[a.id])throw Error('Menu item with ID "'+a.id+'" is already registered.');this.Pb[a.id]=a};th.prototype.unregister=function(a){if(!this.Pb[a])throw Error('Menu item with ID "'+a+'" not found.');delete this.Pb[a]};th.prototype.getItem=function(a){return this.Pb[a]||null};
function vh(a,b){var c=[],d=uh.Pb;Object.keys(d).forEach(function(e){e=d[e];if(a==e.Cb){var f=e.ya(b);"hidden"!=f&&(e={text:"function"==typeof e.eb?e.eb(b):e.eb,enabled:"enabled"==f,qa:e.qa,scope:b,weight:e.weight},c.push(e))}});c.sort(function(e,f){return e.weight-f.weight});return c}new th;function wh(a,b,c){wh.i.constructor.call(this,c);this.Wm=a;this.Um=b}H(wh,Nd);wh.prototype.type="selected";wh.prototype.R=function(){var a=wh.i.R.call(this);a.oldElementId=this.Wm;a.newElementId=this.Um;return a};wh.prototype.M=function(a){wh.i.M.call(this,a);this.Wm=a.oldElementId;this.Um=a.newElementId};B(Lc,"selected",wh);function xh(a,b){xh.i.constructor.call(this,a,b);this.oc=a.j.uh[b];this.$l=a.j.uh[oa[b]];this.ce=new r(0,0);this.Pc=yh;this.L=null}H(xh,We);var yh=-1;g=xh.prototype;g.m=function(){xh.i.m.call(this);1==this.Pc&&zh(this.oc,this,this.y)};g.B=function(){return xh.i.B.call(this)};g.H=function(){return xh.i.H.call(this)};function bf(a,b){var c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)}
function Ah(a,b){if(!a.o.j.yb()){var c=a.o.cc();if(!c.zb){var d=!1;if(!c.Sa()){c=b.B().cc();if(!c.Sa())return;b=a;d=!0}var e=L==c;e||c.jh();var f=b.x+ma+Math.floor(10*Math.random())-a.x,h=b.y+ma+Math.floor(10*Math.random())-a.y;d&&(h=-h);c.u&&(f=b.x-ma-Math.floor(10*Math.random())-a.x);c.moveBy(f,h);e||c.wg()}}}
g.moveTo=function(a,b){if(this.Pc==yh){var c=this.oc;c.wa.splice(Bh(c,b),0,this);this.Pc=1}else 1==this.Pc&&(zh(this.oc,this,this.y),c=this.oc,c.wa.splice(Bh(c,b),0,this));this.x=a;this.y=b};g.moveBy=function(a,b){this.moveTo(this.x+a,this.y+b)};function Ch(a,b){a.moveTo(b.x+a.ce.x,b.y+a.ce.y)}function Dh(a,b,c){a.ce.x=b;a.ce.y=c}
function Eh(a){var b=a.L.x-a.x,c=a.L.y-a.y;if(0!=b||0!=c){a=a.H();var d=a.J();if(!d)throw Error("block is not rendered.");d=Xa(d);a.J().setAttribute("transform","translate("+(d.x-b)+","+(d.y-c)+")");hg(a,-b,-c)}}
g.closest=function(a,b){var c=this.$l;if(c.wa.length){var d=this.y,e=this.x;this.x=e+b.x;this.y=d+b.y;var f=Bh(c,this.y);b=null;for(var h=a,k,l=f-1;0<=l&&Math.abs(c.wa[l].y-this.y)<=a;)k=c.wa[l],0==Ze(this,k,!0,h)&&(b=k,h=bf(k,this)),l--;for(;f<c.wa.length&&Math.abs(c.wa[f].y-this.y)<=a;)k=c.wa[f],0==Ze(this,k,!0,h)&&(b=k,h=bf(k,this)),f++;this.x=e;this.y=d;a={connection:b,ni:h}}else a={connection:null,ni:a};return a};
function fh(a,b){b&&1==a.Pc||!b&&0==a.Pc||a.o.zb||(b?(b=a.oc,b.wa.splice(Bh(b,a.y),0,a),a.Pc=1):(1==a.Pc&&zh(a.oc,a,a.y),a.Pc=0))}function eh(a){fh(a,!0);var b=[];if(1!=a.type&&3!=a.type)return b;if(a=a.H()){if(a.isCollapsed()){var c=[];a.v&&c.push(a.v);a.C&&c.push(a.C);a.F&&c.push(a.F)}else c=a.ac(!0);for(var d=0;d<c.length;d++)b.push.apply(b,eh(c[d]));b.length||(b[0]=a)}return b}
g.wk=function(a){var b=this.B();if(Wc){var c=Vc;setTimeout(function(){b.Yc||b.getParent()||(E(c),Ah(this,a),E(!1))}.bind(this),250)}};g.lj=function(a,b){xh.i.lj.call(this,a,b);a.K&&a.W();b.K&&(ud(b),b.W(),b.J().style.display="block")};g.xg=function(){xh.i.xg.call(this);var a=this.H();a&&(a.dg(),a.W(!1),a=this.B(),a.K&&a.W())};g.Tm=function(a){return Fh(this.$l,this,a)};
g.rh=function(a){xh.i.rh.call(this,a);var b=this.B();a=a.B();var c=b.K,d=a.K;c&&ud(b);d&&ud(a);c&&d&&(3==this.type||4==this.type?a.W():b.W());if(b=Kd(b,a))b=b.isVisible(),a.J().style.display=b?"block":"none"};g.cn=function(){!this.isConnected()||this.L&&0==Ze(this,this.L,!1)||(Ld(Ye(this)?this.H():this.o),this.o.ub())};function Gh(){Gh.i.constructor.call(this)}H(Gh,Hg);g=Gh.prototype;g.next=function(){var a=this.Yb;if(!a)return null;(a=Hh(this,a,this.Fn))&&Gg(this,a);return a};g.ad=function(){return this.next()};g.od=function(){var a=this.Yb;if(!a)return null;(a=Ih(this,a,this.Fn))&&Gg(this,a);return a};g.ld=function(){return this.od()};function Hh(a,b,c){if(!b)return null;var d=b.ad()||b.next();if(c(d))return d;if(d)return Hh(a,d,c);b=Jh(a,b.ld());return c(b)?b:b?Hh(a,b,c):null}
function Ih(a,b,c){if(!b)return null;var d=b.od();d=d?Kh(a,d):b.ld();return c(d)?d:d?Ih(a,d,c):null}g.Fn=function(a){var b=!1;a=a&&a.getType();if("output"==a||"input"==a||"field"==a||"next"==a||"previous"==a||"workspace"==a)b=!0;return b};function Jh(a,b){if(!b)return null;var c=b.next();return c?c:Jh(a,b.ld())}function Kh(a,b){if(!b.ad())return b;for(b=b.ad();b.next();)b=b.next();return Kh(a,b)}B(Kc,"basicCursor",Gh);function P(a,b,c){this.s=z(Vb,{},null);this.s.Ng="";this.style=Lh(a.ra.D(),null);this.ua=a.ra.Om(this.s,this.style);this.Lk=this.K=!1;this.j=a;this.F=this.C=this.v=null;this.Rg=ib()&&!!a.tb;var d=this.ua.Ea;d.Sb=this;Oe(d);P.i.constructor.call(this,a,b,c);this.s.dataset?this.s.dataset.id=this.id:Ka&&this.s.setAttribute("data-id",this.id)}H(P,nf);g=P.prototype;g.height=0;g.width=0;g.Hi=null;
g.dg=function(){if(!this.j.K)throw TypeError("Workspace is headless.");for(var a=0,b;b=this.A[a];a++)b.ba();b=bg(this);for(a=0;a<b.length;a++)b[a].Lq();this.Ka();Yf(this.ua,"blocklyDraggable",this.Sa());a=this.J();this.j.options.readOnly||this.Zo||!a||t(a,"mousedown",this,this.kd);this.Zo=!0;a.parentNode||this.j.za.appendChild(a)};
g.select=function(){if(this.T&&this.getParent())this.getParent().select();else if(L!=this){var a=null;if(L){a=L.id;C++;try{sg(L)}finally{C--}}a=new (G("selected"))(a,this.id,this.j.id);D(a);L=this;this.jh()}};function sg(a){if(L==a){var b=new (G("selected"))(a.id,null,a.j.id);b.jb=a.j.id;D(b);L=null;a.wg()}}g.Zd=null;g.Wb=null;g.Kn=null;function bg(a){var b=[];a.Zd&&b.push(a.Zd);a.Wb&&b.push(a.Wb);a.Kn&&b.push(a.Kn);return b}
g.wi=function(a){var b=this.yc;if(a!=b){lc();P.i.wi.call(this,a);mc();var c=this.J();if(!this.j.Sj&&c){var d=this.ga();a?(a.J().appendChild(c),a=this.ga(),hg(this,a.x-d.x,a.y-d.y)):b&&(this.j.za.appendChild(c),this.translate(d.x,d.y));this.Ka()}}};g.ga=function(){var a=0,b=0,c=this.Rg?this.j.tb.pc:null,d=this.J();if(d){do{var e=Xa(d);a+=e.x;b+=e.y;this.Rg&&this.j.tb.pc.firstChild==d&&(e=this.j.tb.Fj(),a+=e.x,b+=e.y);d=d.parentNode}while(d&&d!=this.j.za&&d!=c)}return new r(a,b)};
g.moveBy=function(a,b){if(this.yc)throw Error("Block has parent.");var c=0==C;if(c)var d=new (G("move"))(this);var e=this.ga();this.translate(e.x+a,e.y+b);hg(this,a,b);c&&(Jd(d),D(d));vd(this.j)};g.translate=function(a,b){this.J().setAttribute("transform","translate("+a+","+b+")")};g.moveTo=function(a){var b=this.ga();this.moveBy(a.x-b.x,a.y-b.y)};function eg(a,b){a.Rg?a.j.tb.nf(b.x,b.y):(a.s.Ng="translate("+b.x+","+b.y+")",a.s.setAttribute("transform",a.s.Ng+a.s.Fg))}
function Mh(a){if(a.j&&!a.j.yb()&&!a.getParent()&&!a.zb){var b=a.j.Lb;if(b&&b.Op){var c=b.al,d=c/2,e=a.ga();b=Math.round((e.x-d)/c)*c+d-e.x;c=Math.round((e.y-d)/c)*c+d-e.y;b=Math.round(b);c=Math.round(c);0==b&&0==c||a.moveBy(b,c)}}}g.Vf=function(){var a=this.ga(),b=dg(this);if(this.u){var c=a.x-b.width;var d=a.x}else c=a.x,d=a.x+b.width;return new ya(a.y,a.y+b.height,c,d)};g.kg=function(){this.ua.Hf=this.j.ra.D();for(var a=0,b;b=this.A[a];a++)b.kg()};
g.fe=function(a){this.Dd!=a&&(P.i.fe.call(this,a),a?this.K&&this.W():Nh(this))};function Nh(a){for(var b=a.isCollapsed(),c=0,d;d=a.A[c];c++)"_TEMP_COLLAPSED_INPUT"!=d.name&&d.Aa(!b);if(b){d=bg(a);for(c=0;b=d[c];c++)b.Aa(!1);c=a.toString(30);(d=zd(a,"_TEMP_COLLAPSED_FIELD"))?Ed(d,c):(a=d=Ad(a,"_TEMP_COLLAPSED_INPUT")||a.Be(5,"_TEMP_COLLAPSED_INPUT"),c=new bh(c),dh(a,a.aa.length,c,"_TEMP_COLLAPSED_FIELD"))}else ud(a),a.Kk("_TEMP_COLLAPSED_INPUT")}
g.kd=function(a){var b=this.j&&this.j.Id(a);if(b){if(b.Ue)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");Cg(b,this);b.fc=a}};g.showHelp=function(){var a="function"==typeof this.Ve?this.Ve():this.Ve;a&&window.open(a)};g.yi=function(a){if(this.j.options.readOnly||!this.contextMenu)var b=null;else b=vh("block",{block:this}),this.Uo&&this.Uo(b);b&&b.length&&(O.show(a,b,this.u),O.wh=this)};
function hg(a,b,c){if(a.K){for(var d=a.ac(!1),e=0;e<d.length;e++)d[e].moveBy(b,c);d=bg(a);for(e=0;e<d.length;e++)d[e].Qo();for(e=0;e<a.Cc.length;e++)hg(a.Cc[e],b,c)}}g.ie=function(a){if(a){var b=this.J();b.Ng="";b.Fg="";cf=cf.concat(this.ac(!0));A(this.s,"blocklyDragging")}else cf=[],gc(this.s,"blocklyDragging");for(b=0;b<this.Cc.length;b++)this.Cc[b].ie(a)};g.Tk=function(a){P.i.Tk.call(this,a);Yf(this.ua,"blocklyDraggable",a)};g.Sk=function(a){P.i.Sk.call(this,a);a=bg(this);for(var b=0;b<a.length;b++)Sg(a[b])};
g.Yk=function(a){P.i.Yk.call(this,a);this.Ka()};g.un=function(a){this.Ye!=a&&(this.Ye=a)&&(this.si(this.j.ra.D().po),Yf(this.ua,"blocklyInsertionMarker",!0))};g.J=function(){return this.s};
g.m=function(a,b){if(this.j){Le=Ke=null;Te();Se(this.ua.Ea);lc();var c=this.j;L==this&&(sg(this),Oh(this.j));O.wh==this&&O.pb();if(b&&this.K){Ld(this,a);b=this.j;var d=this.J();b.lb.play("delete");var e=ig(b,d);d=d.cloneNode(!0);d.Yp=e.x;d.Zp=e.y;d.setAttribute("transform","translate("+e.x+","+e.y+")");K(b).appendChild(d);d.Sl=d.getBBox();Of(d,b.u,new Date,b.scale)}this.K=!1;if(this.Hi){for(var f in this.Hi)clearTimeout(this.Hi[f]);this.Hi=null}f=bg(this);for(b=0;b<f.length;b++)f[b].m();P.i.m.call(this,
!!a);ic(this.s);vd(c);this.s=null;mc()}};g.Ka=function(){this.ua.Ka(this);for(var a=bg(this),b=0;b<a.length;b++)a[b].Ka();for(a=0;b=this.A[a];a++)for(var c=0,d;d=b.aa[c];c++)d.Ka()};function ud(a){var b=jd(a,!1);a.Ka();if(!a.isCollapsed()){a=0;for(var c;c=b[a];a++)c.K&&ud(c)}}g.cp=function(){return this.Wb};
g.ff=function(a){if(!ka.Comment)throw Error("Missing require for Blockly.Comment");this.Xb.text!=a&&(P.i.ff.call(this,a),a=null!=a,!!this.Wb==a?this.Wb.lr():(a?this.Wb=new ka.Comment(this):(this.Wb.m(),this.Wb=null),this.K&&(this.W(),this.ub())))};g.rd=function(a){this.isEnabled()!=a&&(P.i.rd.call(this,a),this.K&&!ih(this)&&ud(this))};g.hc=function(a){this.K&&this.ua.Cn(a)};g.jh=function(){Yf(this.ua,"blocklySelected",!0)};g.wg=function(){Yf(this.ua,"blocklySelected",!1)};g.Dj=function(){return this.style.Ed};
g.si=function(a){P.i.si.call(this,a);a=Ph(this.j.ra.D(),this.Gb);this.ua.ke(a.style);this.style=a.style;this.Gg=a.name;this.Ka()};g.ke=function(a){var b=Lh(this.j.ra.D(),a);this.Gg=a;if(b)this.tc=b.tc,this.ua.ke(b),this.Gb=b.Ed,this.style=b,this.Ka();else throw Error("Invalid style name: "+a);};function cg(a){do{var b=a.J(),c=b.parentNode,d=c.childNodes;d[d.length-1]!==b&&c.appendChild(b);a=a.getParent()}while(a)}g.Xk=function(a,b){P.i.Xk.call(this,a,b);this.K&&(this.W(),this.ub())};
g.Uk=function(a,b){P.i.Uk.call(this,a,b);this.K&&(this.W(),this.ub())};g.Vk=function(a,b){P.i.Vk.call(this,a,b);this.K&&(this.W(),this.ub())};g.je=function(a){P.i.je.call(this,a);this.K&&(this.W(),this.ub())};g.Kk=function(a,b){a=P.i.Kk.call(this,a,b);this.K&&(this.W(),this.ub());return a};g.Be=function(a,b){a=P.i.Be.call(this,a,b);this.K&&(this.W(),this.ub());return a};
function td(a,b){a.F&&fh(a.F,b);a.v&&fh(a.v,b);if(a.C){fh(a.C,b);var c=a.C.H();c&&td(c,b)}if(!a.Dd)for(c=0;c<a.A.length;c++){var d=a.A[c].connection;d&&(fh(d,b),(d=d.H())&&td(d,b))}}g.ac=function(a){var b=[];if(a||this.K)if(this.v&&b.push(this.v),this.F&&b.push(this.F),this.C&&b.push(this.C),a||!this.Dd){a=0;for(var c;c=this.A[a];a++)c.connection&&b.push(c.connection)}return b};g.Vh=function(a){return P.i.Vh.call(this,a)};g.Ej=function(a,b){return P.i.Ej.call(this,a,b)};
g.jg=function(a){return new xh(this,a)};g.ub=function(){if(this.j&&!this.j.yb()){var a=this.cc();if(!a.zb)for(var b=this.ac(!1),c=0,d;d=b[c];c++){d.isConnected()&&Ye(d)&&d.H().ub();for(var e=d.Tm(ma),f=0,h;h=e[f];f++)d.isConnected()&&h.isConnected()||h.B().cc()!=a&&(Ye(d)?Ah(h,d):Ah(d,h))}}};function jg(a){var b=Vc;setTimeout(function(){E(b);Mh(a);E(!1)},125);setTimeout(function(){E(b);a.ub();E(!1)},250)}g.getParent=function(){return P.i.getParent.call(this)};g.cc=function(){return P.i.cc.call(this)};
g.W=function(a){if(!this.Lk){this.Lk=!0;try{this.K=!0;lc();this.isCollapsed()&&Nh(this);this.j.ra.W(this);var b=this.ga();this.F&&Ch(this.F,b);this.v&&Ch(this.v,b);for(var c=0;c<this.A.length;c++){var d=this.A[c].connection;d&&(Ch(d,b),d.isConnected()&&Eh(d))}this.C&&(Ch(this.C,b),this.C.isConnected()&&Eh(this.C));if(!1!==a){var e=this.getParent();e?e.W(!0):vd(this.j)}mc();this.jl()}finally{this.Lk=!1}}};g.jl=function(){this.j.hg&&this.ua.Lf&&this.j.Wf().Zb();this.j.hg&&this.ua.fk&&this.j.Yf("local_marker_1").Zb()};
g.Oc=function(a){this.ua.Oc(a)};g.sd=function(a){this.ua.sd(a)};function dg(a){var b=a.height,c=a.width,d=nb(a);d&&(d=dg(d),a=a.j.ra.D().Li,b+=d.height-a,c=Math.max(c,d.width));return{height:b,width:c}};function Qh(){this.wa=[]}function Rh(a,b,c){if(!a.wa.length)return-1;var d=Bh(a,c);if(d>=a.wa.length)return-1;c=b.y;for(var e=d;0<=e&&a.wa[e].y==c;){if(a.wa[e]==b)return e;e--}for(e=d;e<a.wa.length&&a.wa[e].y==c;){if(a.wa[e]==b)return e;e++}return-1}function Bh(a,b){if(!a.wa.length)return 0;for(var c=0,d=a.wa.length;c<d;){var e=Math.floor((c+d)/2);if(a.wa[e].y<b)c=e+1;else if(a.wa[e].y>b)d=e;else{c=e;break}}return c}
function zh(a,b,c){b=Rh(a,b,c);if(-1==b)throw Error("Unable to find connection in connectionDB.");a.wa.splice(b,1)}function Fh(a,b,c){function d(m){var n=f-e[m].x,x=h-e[m].y;Math.sqrt(n*n+x*x)<=c&&l.push(e[m]);return x<c}var e=a.wa,f=b.x,h=b.y;a=0;for(var k=b=e.length-2;a<k;)e[k].y<h?a=k:b=k,k=Math.floor((a+b)/2);var l=[];b=a=k;if(e.length){for(;0<=a&&d(a);)a--;do b++;while(b<e.length&&d(b))}return l};function Sh(a,b){Sh.i.constructor.call(this,b);this.An=a}H(Sh,Nd);Sh.prototype.type="theme_change";Sh.prototype.R=function(){var a=Sh.i.R.call(this);a.themeName=this.An;return a};Sh.prototype.M=function(a){Sh.i.M.call(this,a);this.An=a.themeName};B(Lc,"theme_change",Sh);function Th(a,b,c,d,e){Th.i.constructor.call(this,d);this.Ub=a;this.Tb=b;this.scale=c;this.pg=e}H(Th,Nd);Th.prototype.type="viewport_change";Th.prototype.R=function(){var a=Th.i.R.call(this);a.viewTop=this.Ub;a.viewLeft=this.Tb;a.scale=this.scale;a.oldScale=this.pg;return a};Th.prototype.M=function(a){Th.i.M.call(this,a);this.Ub=a.viewTop;this.Tb=a.viewLeft;this.scale=a.scale;this.pg=a.oldScale};B(Lc,"viewport_change",Th);function Uh(a){this.g=a}function Vh(a){var b=0,c=0;a&&(b=a.$f(),c=a.Lj);return new Ga(b,c)}function Wh(a){var b=Vh(Xh(a.g,!0));return{width:b.width,height:b.height,position:a.g.Eb}}function Yh(a){var b=Vh(a.g.na);return{width:b.width,height:b.height,position:a.g.Eb}}function Zh(a){var b=0,c=Yh(a),d=Wh(a),e=!!a.g.na;a=!!Xh(a.g,!0);var f=2==(e?c.position:d.position);e&&f?b=c.width:a&&f&&(b=d.width);return{top:0,left:b}}
function $h(a,b){b=b?a.g.scale:1;var c=ai(a.g),d=Yh(a),e=Wh(a),f=a.g.na?d.position:e.position;if(a.g.na){if(2==f||3==f)c.width-=d.width}else!Xh(a.g,!0)||2!=f&&3!=f||(c.width-=e.width);return{height:c.height/b,width:c.width/b,top:-a.g.scrollY/b,left:-a.g.scrollX/b}}
Uh.prototype.Hh=function(){var a=this.g.scale;var b=[].concat(this.g.Mg);if(b.length){for(var c=b[0].Vf(),d=1;d<b.length;d++){var e=b[d];e.Ab&&e.Ab()||(e=e.Vf(),e.top<c.top&&(c.top=e.top),e.bottom>c.bottom&&(c.bottom=e.bottom),e.left<c.left&&(c.left=e.left),e.right>c.right&&(c.right=e.right))}b=c}else b=new ya(0,0,0,0);return{height:(b.bottom-b.top)*a,width:(b.right-b.left)*a,top:b.top*a,left:b.left*a}};
Uh.prototype.Kd=function(a,b,c){a=a?this.g.scale:1;var d=b||$h(this,!1);c=c||this.Hh();if(qg(this.g)&&rg(this.g))b={};else{b=qg(this.g);var e=rg(this.g),f=d||$h(this,!1);var h={};e||(h.top=f.top,h.bottom=f.top+f.height);b||(h.left=f.left,h.right=f.left+f.width);b=h}h=c.top+c.height;e=c.left+c.width;f=d.width;var k=d.height;var l=f/2,m=k/2;d=Math.min(c.top-m,h-k);h=Math.max(h+m,c.top+k);k=Math.min(c.left-l,e-f);c=Math.max(e+l,c.left+f);d=void 0!==b.top?b.top:d;e=void 0!==b.left?b.left:k;return{top:d/
a,left:e/a,width:((void 0!==b.right?b.right:c)-e)/a,height:((void 0!==b.bottom?b.bottom:h)-d)/a}};Uh.prototype.bc=function(){var a=Yh(this),b=Wh(this),c=ai(this.g),d=Zh(this),e=$h(this),f=this.Hh(),h=this.Kd(!1,e,f);return{Hq:f.height,Kq:f.width,Jq:f.top,Iq:f.left,scrollHeight:h.height,scrollWidth:h.width,scrollTop:h.top,scrollLeft:h.left,ib:e.height,Za:e.width,Ub:e.top,Tb:e.left,kb:d.top,ab:d.left,dr:c.height,er:c.width,jr:a.width,ir:a.height,Eb:a.position,Oq:b.width,Nq:b.height}};
B(Rc,"default",Uh);function bi(a,b){this.N=b;bi.i.constructor.call(this,a)}H(bi,Uh);bi.prototype.Hh=function(){try{var a=this.g.za.getBBox()}catch(c){a={height:0,y:0,width:0,x:0}}var b=this.g.scale;return{height:a.height*b,width:a.width*b,top:a.y*b,left:a.x*b}};bi.prototype.Kd=function(a,b,c){b=c||this.Hh();c=this.N.we*this.g.scale;a=a?this.g.scale:1;return{height:(b.height+2*c)/a,width:(b.width+b.left+c)/a,top:0,left:0}};function ci(a){var b=$d;this.g=a;this.Kg=b;this.Hg=[];this.Tc=Object.create(null)}g=ci.prototype;g.Hc=function(){return this.Kg};g.Cg=function(a){var b=this.Kg;this.Kg=a;if(a=di(this.g))b&&gc(a,b.$b()),A(a,this.Kg.$b());for(b=0;a=this.Hg[b];b++)ei(a);De()};g.subscribe=function(a,b,c){this.Tc[b]||(this.Tc[b]=[]);this.Tc[b].push({element:a,propertyName:c});a.style[c]=""};
g.unsubscribe=function(a){if(a)for(var b=Object.keys(this.Tc),c=0,d;d=b[c];c++){for(var e=this.Tc[d],f=e.length-1;0<=f;f--)e[f].element===a&&e.splice(f,1);this.Tc[d].length||delete this.Tc[d]}};g.m=function(){this.Tc=this.Hg=this.Kg=null};function fi(a,b){fi.i.constructor.call(this,a,b);this.Sh=!1;this.vb=Object.create(null);this.wn=this.tg=0;this.Hm=this.xk=null}H(fi,tg);g=fi.prototype;g.mj=function(a){this.Hm=this.Ba.options.sa&&this.Ba.options.sa.jn;fi.i.mj.call(this,a);!this.Ph&&Ab(a)&&gi(this,a)};g.Tl=function(a){this.xk=t(document,"mousedown",null,this.mp.bind(this),!0);this.gi=t(document,"mousemove",null,this.Se.bind(this),!0);this.ii=t(document,"mouseup",null,this.Kh.bind(this),!0);a.preventDefault();a.stopPropagation()};
g.mp=function(a){!this.yb()&&Ab(a)&&(gi(this,a),this.Sh&&ub())};g.Se=function(a){if(this.yb())zb(a)&&!yb(a)||fi.i.Se.call(this,a);else if(this.Sh){if(Ab(a)){this.vb[xb(a)]=hi(this,a);var b=Object.keys(this.vb);if(this.Hm&&2===b.length){b=Object.keys(this.vb);b=va(this.vb[b[0]],this.vb[b[1]])/this.wn;if(0<this.tg&&Infinity>this.tg){var c=b-this.tg;c=0<c?5*c:6*c;var d=this.Ba,e=cb(a,K(d),Ae(d));d.zoom(e.x,e.y,c)}this.tg=b;a.preventDefault()}else fi.i.Se.call(this,a)}ub()}else fi.i.Se.call(this,a)};
g.Kh=function(a){if(Ab(a)&&!this.yb()){var b=xb(a);this.vb[b]&&delete this.vb[b];2>Object.keys(this.vb).length&&(this.vb=Object.create(null),this.tg=0)}!this.Sh||this.yb()?zb(a)&&!yb(a)||fi.i.Kh.call(this,a):(a.preventDefault(),a.stopPropagation(),this.m())};g.m=function(){fi.i.m.call(this);this.xk&&v(this.xk)};function gi(a,b){a.vb[xb(b)]=hi(a,b);var c=Object.keys(a.vb);2==c.length&&(a.wn=va(a.vb[c[0]],a.vb[c[1]]),a.Sh=!0,b.preventDefault())}
function hi(a,b){return a.Ba?new r(b.changedTouches?b.changedTouches[0].pageX:b.pageX,b.changedTouches?b.changedTouches[0].pageY:b.pageY):null};function ii(a){this.Ck=a;this.yf=Object.create(null)}g=ii.prototype;g.Wj=null;g.m=function(){this.yf=this.Ck=null};g.load=function(a,b){if(a.length){try{var c=new p.Audio}catch(k){return}for(var d,e=0;e<a.length;e++){var f=a[e],h=f.match(/\.(\w+)$/);if(h&&c.canPlayType("audio/"+h[1])){d=new p.Audio(f);break}}d&&d.play&&(this.yf[b]=d)}};g.preload=function(){for(var a in this.yf){var b=this.yf[a];b.volume=.01;var c=b.play();void 0!==c?c.then(b.pause).catch(function(){}):b.pause();if(Pa||Ra)break}};
g.play=function(a,b){var c=this.yf[a];c?(a=new Date,null!=this.Wj&&100>a-this.Wj||(this.Wj=a,c=Pa||Oa?c:c.cloneNode(),c.volume=void 0===b?1:b,c.play())):this.Ck&&this.Ck.lb.play(a,b)};
function ji(a,b,c){ji.i.constructor.call(this,a);this.Bb=new (Uc(Rc,a,!0))(this);this.bc=a.bc||this.Bb.bc.bind(this.Bb);this.zg=a.zg||ki;this.Ec=new Cb;var d=[];d[1]=new Qh;d[2]=new Qh;d[3]=new Qh;d[4]=new Qh;this.uh=d;b&&(this.tb=b);c&&(this.qe=c);this.Gi=!!this.qe&&ib();this.Lh=[];this.lb=new ii(a.rb);this.Lb=this.options.Ij?new Xd(this.options.Ij,a.tm):null;this.dc=new Ig(this);this.fl=Object.create(null);this.mm=Object.create(null);li&&mi&&ni(this,"VARIABLE",mi);oi&&pi&&(ni(this,"PROCEDURE",pi),
sf(this,qi));this.Pa=this.options.rb?this.options.rb.Pa:new ci(this);this.Pa.Hg.push(this);c=this.options.Nk||"geras";a=this.Hc();b=this.options.Ok;c=new (Tc(Nc,c))(c);c.ba(a,b);this.ra=c;this.Zi=null;this.hg=!1;this.Mg=[];this.nj=[];this.Yi=new Ga(0,0)}H(ji,rd);g=ji.prototype;g.ri=null;g.K=!0;g.Kc=!0;g.cd=!1;g.Th=!1;g.Pk=!0;g.scrollX=0;g.scrollY=0;g.scale=1;g.qk=1;g.an=0;g.Ym=0;g.pf=null;g.X=null;g.N=null;g.na=null;g.Qa=null;g.tb=null;g.qe=null;g.Gi=!1;g.Oh=!1;g.Qj=null;g.Lm=null;g.P=null;g.Gm=null;
g.Rj=!0;g.Oc=function(a){this.dc.Oc(a)};g.sd=function(a){this.dc.sd(a)};g.Yf=function(a){return this.dc?this.dc.Yf(a):null};g.Wf=function(){return this.dc?this.dc.Wf():null};g.Hc=function(){return this.Pa.Hc()};g.Cg=function(a){a||(a=$d);this.Pa.Cg(a)};function ei(a){a.s&&a.ra.Jk(a.s,a.Hc());ri(ef(a).filter(function(b){return!!b.Gg}));si(a);a.na&&ei(a.na);a.isVisible()&&a.Aa(!0);a=new (G("theme_change"))(a.Hc().name,a.id);D(a)}
function ri(a){for(var b=0,c;c=a[b];b++){var d=c.Gg;d&&(c.ke(d),c.Zd&&c.Zd.kr())}}function Ae(a){if(a.Rj){var b=K(a).getScreenCTM();b&&(a.Gm=b.inverse(),a.Rj=!1)}return a.Gm}g.Qg=function(){this.Rj=!0};g.isVisible=function(){return this.Kc};function ig(a,b){var c=0,d=0,e=1;if(a.za.compareDocumentPosition(b)&16||a.vd.compareDocumentPosition(b)&16)e=a.scale;do{var f=Xa(b);if(b==a.za||b==a.vd)e=1;c+=f.x*e;d+=f.y*e;b=b.parentNode}while(b&&b!=K(a));return new r(c,d)}
function ai(a){a=a.Yi;return new Ga(a.width,a.height)}function di(a){if(!a.Qj)for(var b=a.s;b;){if(-1!=(" "+(b.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.Qj=b;break}b=b.parentNode}return a.Qj}
g.xa=function(a){this.s=z(Vb,{"class":"blocklyWorkspace"},null);a&&(this.Na=z($b,{height:"100%",width:"100%","class":a},this.s),"blocklyMainBackground"==a&&this.Lb?this.Na.style.fill="url(#"+this.Lb.Re.id+")":this.Pa.subscribe(this.Na,"workspaceBackgroundColour","fill"));this.za=z(Vb,{"class":"blocklyBlockCanvas"},this.s);this.vd=z(Vb,{"class":"blocklyBubbleCanvas"},this.s);this.cd||(t(this.s,"mousedown",this,this.kd,!1,!0),t(this.s,"wheel",this,this.Gp));this.options.um&&(this.na=new (Uc(Oc,this.options,
!0))(this));this.Lb&&this.Lb.update(this.scale);ti(this);var b=Uc(Kc,this.options);b&&(a=this.dc,b=new b,a.Hb&&a.Hb.Ib&&a.Hb.Ib.m(),a.Hb=b,a.Hb&&(b=a.Hb,b=new ui(a.g,a.g.ra.D(),b),a.Hb.Ib=b,a.Oc(a.Hb.Ib.xa())));this.ra.xa(this.s,this.Hc());return this.s};
g.m=function(){this.K=!1;this.Qa&&this.Qa.cancel();this.s&&(ic(this.s),this.s=null);this.vd=this.za=null;this.na&&(this.na.m(),this.na=null);this.N&&(this.N.m(),this.N=null);this.pf&&(this.pf.m(),this.pf=null);this.X&&(this.X.m(),this.X=null);this.Tg&&(this.Tg.m(),this.Tg=null);this.lb&&(this.lb.m(),this.lb=null);this.Lb&&(this.Lb.m(),this.Lb=null);this.ra.m();this.dc&&(this.dc.m(),this.dc=null);ji.i.m.call(this);if(this.Pa){var a=this.Pa,b=a.Hg.indexOf(this);if(0>b)throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");
a.Hg.splice(b,1);this.Pa.unsubscribe(this.Na);this.options.rb||(this.Pa.m(),this.Pa=null)}this.mm=this.fl=this.uh=null;this.options.rb||(a=K(this))&&a.parentNode&&ic(a.parentNode);this.ri&&(v(this.ri),this.ri=null)};g.kk=function(a,b){return new P(this,a,b)};function Xh(a,b){return a.N||b?a.N:a.na?Xh(a.na):null}function vd(a){a.Pk&&a.K&&(a.X&&a.X.resize(),a.Qg())}
g.resize=function(){this.na&&this.na.position();this.N&&this.N.position();var a=Hb(this.Ec,Jb);var b=this.Bb;b={Jn:$h(b),Qi:Zh(b),Vp:Yh(b)};for(var c=[],d=0,e;e=a[d];d++)e.position(b,c),(e=e.Vf())&&c.push(e);this.X&&this.X.resize();this.Qg();ti(this)};function wg(a){var b=document.documentElement;var c=window;b=Ka&&c.pageYOffset!=b.scrollTop?new r(b.scrollLeft,b.scrollTop):new r(c.pageXOffset||b.scrollLeft,c.pageYOffset||b.scrollTop);ua(a.Lm,b)||(a.Lm=b,a.Qg(),ti(a))}
function vi(a,b,c){K(a);b&&(a.Yi.width=b);c&&(a.Yi.height=c)}function K(a){if(!a.Zi)for(var b=a.s;b;){if("svg"==b.tagName){a.Zi=b;break}b=b.parentNode}return a.Zi}function ke(a){if(0==C){var b=a.scale,c=-a.scrollY,d=-a.scrollX;if(!(b==a.qk&&1>Math.abs(c-a.an)&&1>Math.abs(d-a.Ym))){var e=new (G("viewport_change"))(c,d,b,a.id,a.qk);a.qk=b;a.an=c;a.Ym=d;D(e)}}}
g.translate=function(a,b){if(this.Gi&&this.Oh)this.qe.nf(a,b);else{var c="translate("+a+","+b+") scale("+this.scale+")";this.za.setAttribute("transform",c);this.vd.setAttribute("transform",c)}if(this.tb){c=this.tb;var d=this.scale;c.qd=d;var e=a.toFixed(0),f=b.toFixed(0);c.Wl.x=parseInt(e,10);c.Wl.y=parseInt(f,10);c.pc.setAttribute("transform","translate("+e+","+f+") scale("+d+")")}this.Lb&&this.Lb.moveTo(a,b);ke(this)};
function Ce(a){if(a.Gi){a.Oh=!1;var b=a.qe.Fj();a.qe.ph(a.s);b="translate("+b.x+","+b.y+") scale("+a.scale+")";a.za.setAttribute("transform",b);a.vd.setAttribute("transform",b)}}
function Be(a){if(a.Gi&&!a.Oh){a.Oh=!0;var b=a.za.previousSibling,c=parseInt(K(a).getAttribute("width"),10),d=parseInt(K(a).getAttribute("height"),10),e=Xa(a.za),f=a.qe,h=a.za,k=a.vd,l=a.scale;if(f.ea.childNodes.length)throw Error("Already dragging a block.");f.Hk=b;h.setAttribute("transform","translate(0, 0) scale("+l+")");k.setAttribute("transform","translate(0, 0) scale("+l+")");f.ea.setAttribute("width",c);f.ea.setAttribute("height",d);f.ea.appendChild(h);f.ea.appendChild(k);f.ea.style.display=
"block";a.qe.nf(e.x,e.y)}}g.$f=function(){var a=this.bc();return a?a.Za/this.scale:0};g.Aa=function(a){this.Kc=a;if(this.s)if(this.X&&this.X.ge(a),Xh(this)&&Xh(this).ge(a),K(this).style.display=a?"block":"none",this.na&&this.na.Aa(a),a){a=ef(this);for(var b=a.length-1;0<=b;b--)a[b].kg();this.W();this.na&&this.na.position()}else De(!0)};g.W=function(){for(var a=ef(this),b=a.length-1;0<=b;b--)a[b].W(!1);if(this.Qa)for(a=this.Qa.Oe(),b=0;b<a.length;b++)a[b].W(!1);b=this.dc;b.g.hg&&b.Fc&&b.g.Wf().Zb()};
function wi(a){for(var b=J,c=0,d;d=b.Lh[c];c++)d.hc(!1);b.Lh.length=0;if(d=a?b.Kb(a):null)-1==b.Lh.indexOf(d)&&b.Lh.push(d),d.hc(!0)}
function xi(a){var b=yi;if(a.K&&b.tagName&&!(b.getElementsByTagName("block").length>=of(a)))if(a.Qa&&a.Qa.cancel(),"comment"==b.tagName.toLowerCase()){C++;try{var c=ka.Dq.Bj(b),d=parseInt(b.getAttribute("x"),10),e=parseInt(b.getAttribute("y"),10);isNaN(d)||isNaN(e)||(a.u&&(d=-d),c.moveBy(d+50,e+50))}finally{C--}0==C&&ka.Cq.Mq(c);c.select()}else{C++;try{var f=qd(b,a),h=parseInt(b.getAttribute("x"),10),k=parseInt(b.getAttribute("y"),10);if(!isNaN(h)&&!isNaN(k)){a.u&&(h=-h);do{b=!1;var l=ef(a);c=0;for(var m;m=
l[c];c++){var n=m.ga();if(1>=Math.abs(h-n.x)&&1>=Math.abs(k-n.y)){b=!0;break}}if(!b){var x=f.ac(!1);c=0;for(var y;y=x[c];c++)if(y.closest(ma,new r(h,k)).connection){b=!0;break}}b&&(h=a.u?h-ma:h+ma,k+=2*ma)}while(b);f.moveBy(h,k)}}finally{C--}0==C&&!f.T&&D(new (G("create"))(f));f.select()}}function si(a){(a=a.cd?a.P:a)&&!a.Qa&&a.na&&Xh(a.na)&&a.na.Yq()}g.cf=function(a,b){ji.i.cf.call(this,a,b);si(this)};g.Le=function(a){ji.i.Le.call(this,a);si(this)};
g.Xc=function(a,b,c){a=ji.i.Xc.call(this,a,b,c);si(this);return a};function ti(a){var b=Hb(a.Ec,Kb);a.nj=[];for(var c=0,d;d=b[c];c++){var e=d.pm();e&&a.nj.push({component:d,Oo:e})}}function fg(a,b){for(var c=0,d;d=a.nj[c];c++)if(d.Oo.contains(b.clientX,b.clientY))return d.component;return null}g.kd=function(a){var b=this.Id(a);b&&Ag(b,a,this)};g.Ai=function(a){a=cb(a,K(this),Ae(this));a.x/=this.scale;a.y/=this.scale};g.yb=function(){return null!=this.Qa&&this.Qa.yb()};
g.Sa=function(){return this.options.Ua&&!!this.options.Ua.scrollbars||this.options.Ua&&this.options.Ua.qf||this.options.Ua&&this.options.Ua.Gc||this.options.sa&&this.options.sa.qf||this.options.sa&&this.options.sa.jn};function qg(a){var b=!!a.X;return a.Sa()&&(!b||b&&!!a.X.ka)}function rg(a){var b=!!a.X;return a.Sa()&&(!b||b&&!!a.X.Y)}
g.Gp=function(a){if(Eg())a.preventDefault(),a.stopPropagation();else{var b=this.options.sa&&this.options.sa.qf,c=this.options.Ua&&this.options.Ua.qf;if(b||c){var d=db(a);!b||!a.ctrlKey&&c?(b=this.scrollX-d.x,c=this.scrollY-d.y,a.shiftKey&&!d.x&&(b=this.scrollX-d.y,c=this.scrollY),this.scroll(b,c)):(d=-d.y/50,b=cb(a,K(this),Ae(this)),this.zoom(b.x,b.y,d));a.preventDefault()}}};g.yi=function(a){if(!this.options.readOnly&&!this.cd){var b=vh("workspace",{j:this});this.Ro&&this.Ro(b,a);O.show(a,b,this.u)}};
function Fc(a){if(a.options.rb)Fc(a.options.rb);else{Gc=a;document.activeElement&&document.activeElement.blur&&document.activeElement.blur();try{K(a).focus({preventScroll:!0})}catch(b){try{K(a).parentNode.setActive()}catch(c){K(a).parentNode.focus({preventScroll:!0})}}}}
g.zoom=function(a,b,c){c=Math.pow(this.options.sa.Lp,c);var d=this.scale*c;if(this.scale!=d){d>this.options.sa.mg?c=this.options.sa.mg/this.scale:d<this.options.sa.ng&&(c=this.options.sa.ng/this.scale);var e=this.za.getCTM(),f=K(this).createSVGPoint();f.x=a;f.y=b;f=f.matrixTransform(e.inverse());a=f.x;b=f.y;e=e.translate(a*(1-c),b*(1-c)).scale(c);this.scrollX=e.e;this.scrollY=e.f;this.setScale(d)}};
g.setScale=function(a){this.options.sa.mg&&a>this.options.sa.mg?a=this.options.sa.mg:this.options.sa.ng&&a<this.options.sa.ng&&(a=this.options.sa.ng);this.scale=a;De(!1);this.N&&(this.N.Ik(),ti(this));this.Lb&&this.Lb.update(this.scale);a=this.bc();this.scrollX-=a.ab;this.scrollY-=a.kb;a.Tb+=a.ab;a.Ub+=a.kb;this.scroll(this.scrollX,this.scrollY);if(this.X)if(this.N){var b=this.X;b.ka&&ve(b.ka,a);b.Y&&xe(b.Y,a)}else b=this.X,b.ka&&we(b.ka,a),b.Y&&ye(b.Y,a)};
g.scroll=function(a,b){De(!0);var c=this.bc();a=Math.min(a,-c.scrollLeft);b=Math.min(b,-c.scrollTop);var d=c.scrollTop+Math.max(0,c.scrollHeight-c.ib);a=Math.max(a,-(c.scrollLeft+Math.max(0,c.scrollWidth-c.Za)));b=Math.max(b,-d);this.scrollX=a;this.scrollY=b;this.X&&this.X.set(-(a+c.scrollLeft),-(b+c.scrollTop),!1);a+=c.ab;b+=c.kb;this.translate(a,b)};
function ki(a){var b=this.bc();"number"==typeof a.x&&(this.scrollX=-(b.scrollLeft+(b.scrollWidth-b.Za)*a.x));"number"==typeof a.y&&(this.scrollY=-(b.scrollTop+(b.scrollHeight-b.ib)*a.y));this.translate(this.scrollX+b.ab,this.scrollY+b.kb)}g.Kb=function(a){return ji.i.Kb.call(this,a)};g.ta=function(a){return ji.i.ta.call(this,a)};g.kh=function(a){this.Mg.push(a);ji.i.kh.call(this,a)};g.pi=function(a){kb(this.Mg,a);ji.i.pi.call(this,a)};g.Wa=function(a){var b=!this.Pk&&a;this.Pk=a;b&&vd(this)};
g.clear=function(){this.Wa(!1);ji.i.clear.call(this);this.Mg=[];this.Wa(!0)};function zi(a,b){if("function"!=typeof b)throw TypeError("Button callbacks must be functions.");a.mm.CREATE_VARIABLE=b}function ni(a,b,c){if("function"!=typeof c)throw TypeError("Toolbox category callbacks must be functions.");a.fl[b]=c}
g.Id=function(a){var b="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,c=this.Qa;return c?b&&c.Ue?(console.warn("Tried to start the same gesture twice."),c.cancel(),null):c:b?this.Qa=new fi(a,this):null};function Oh(a){a.Qa&&a.Qa.cancel()};function Ai(a,b){"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!(a&&document.compareDocumentPosition(a)&16))throw Error("Error: container is not in current document.");b=new ge(b||{});var c=document.createElement("div");c.className="injectionDiv";c.tabIndex=0;Ve(c,"label",q.WORKSPACE_ARIA_LABEL);a.appendChild(c);a=Bi(c,b);var d=new Td(c),e=new uf(c),f=Ci(a,b,d,e);Di(f);Gc=f;Ei(f);c.addEventListener("focusin",function(){Gc=f});return f}
function Bi(a,b){a.setAttribute("dir","LTR");var c=b.np,d=b.li;if(!Vd){Vd=!0;var e=Wd.join("\n");Wd.length=0;c&&(c=d.replace(/[\\/]$/,""),e=e.replace(/<<<PATH>>>/g,c),c=document.createElement("style"),c.id="blockly-common-style",c.appendChild(document.createTextNode(e)),document.head.insertBefore(c,document.head.firstChild))}a=z(ac,{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklySvg",tabindex:"0"},
a);c=z(Pb,{},a);e=b.tm;c=z(Zb,{id:"blocklyGridPattern"+String(Math.random()).substring(2),patternUnits:"userSpaceOnUse"},c);0<e.length&&0<e.spacing?(z(Xb,{stroke:e.colour},c),1<e.length&&z(Xb,{stroke:e.colour},c)):z(Xb,{},c);b.Ij=c;return a}
function Ci(a,b,c,d){b.rb=null;b=new ji(b,c,d);c=b.options;b.scale=c.sa.Rp;a.appendChild(b.xa("blocklyMainBackground"));A(di(b),b.ra.$b());A(di(b),b.Hc().$b());!c.um&&c.Ud&&(d=new ge({parentWorkspace:b,rtl:b.u,oneBasedIndex:b.options.ji,renderer:b.options.Nk,rendererOverrides:b.options.Ok,move:{scrollbars:!0}}),d.Eb=b.options.Eb,b.N=new (Uc(Qc,b.options,!0))(d),b.N.Cd=!1,b.N.g.Aa(!0),d=b.N.xa(ac),jc(d,a));if(c.xm){if(!Fi)throw Error("Missing require for Blockly.Trashcan");b.pf=new Fi(b);d=b.pf.xa();
b.s.insertBefore(d,b.za)}if(c.sa&&c.sa.controls){if(!ka.Ko)throw Error("Missing require for Blockly.ZoomControls");b.Tg=new ka.Ko(b);c=b.Tg.xa();b.s.appendChild(c)}b.Pa.subscribe(a,"workspaceBackgroundColour","background-color");b.translate(0,0);sf(b,Gi(b));Ei(b);Jg||(Jg=document.createElement("div"),Jg.className="blocklyWidgetDiv",(zc||document.body).appendChild(Jg));yc();Me||(Me=document.createElement("div"),Me.className="blocklyTooltipDiv",(zc||document.body).appendChild(Me));return b}
function Hi(a){var b=a.Bb;if(!(qg(b.g)&&rg(b.g)||a.yb())){b=b.Kd(!0);for(var c=[].concat(a.Mg),d=0,e;e=c[d];d++)kg(a,b,e)}}
function Gi(a){return function(b){var c=a.Bb;if(!(qg(c.g)&&rg(c.g)||a.yb()))if(-1!==Xc.indexOf(b.type)){c=c.Kd(!0);var d=null;switch(b.type){case "create":case "move":(d=a.Kb(b.la))&&(d=d.cc())}if(d){var e=Vc;E(b.group);kg(a,c,d)&&!b.group&&console.warn("Moved object in bounds but there was no event group. This may break undo.");null!==e&&E(e)}}else"viewport_change"===b.type&&b.scale>b.pg&&Hi(a)}}
function kg(a,b,c){var d=c.Vf(),e=oc(b.top,d.top,b.top+b.height-(d.bottom-d.top))-d.top,f=b.left;b=b.left+b.width-(d.right-d.left);a.u?f=Math.min(b,f):b=Math.max(f,b);return(a=oc(f,d.left,b)-d.left)||e?(c.moveBy(a,e),!0):!1}
function Di(a){var b=a.options,c=K(a);t(c.parentNode,"contextmenu",null,function(e){Wa(e)||e.preventDefault()});c=t(window,"resize",null,function(){De(!0);Ei(a);Hi(a)});a.ri=c;Ii();if(b.Ud){c=a.na;var d=Xh(a,!0);c?c.ba():d&&(d.ba(a),d.show(b.Ud),"function"==typeof d.sn&&d.sn())}b.xm&&a.pf.ba();b.sa&&b.sa.controls&&a.Tg.ba();b.Ua&&b.Ua.scrollbars?(a.X=new he(a,!0===b.Ua.scrollbars||!!b.Ua.scrollbars.Nj,!0===b.Ua.scrollbars||!!b.Ua.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),a.X.resize()):
a.zg({x:.5,y:.5});b.pp&&Ji(b.li,a)}function Ii(){la||(t(document,"scroll",null,function(){for(var a=tf(),b=0,c;c=a[b];b++)c.Qg&&c.Qg()}),t(document,"keydown",null,Ki),u(document,"touchend",null,ub),u(document,"touchcancel",null,ub),Pa&&t(window,"orientationchange",document,function(){Ei(Gc)}));la=!0}
function Ji(a,b){function c(){for(;e.length;)v(e.pop());d.preload()}var d=b.lb;d.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");d.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");d.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var e=[];e.push(t(document,"mousemove",null,c,!0));e.push(t(document,"touchstart",null,c,!0))};function Li(a){this.Hn="";this.rn=Object.create(null);if(a){a=a.split(",");for(var b=0;b<a.length;b++)this.rn[a[b]]=!0}this.reset()}Li.prototype.reset=function(){this.oc=Object.create(null);this.bm=Object.create(null);this.$=null};Li.prototype.Zk=function(a){this.$=a};
function Mi(a,b,c){var d=b;"VARIABLE"==c&&(a.$?b=(b=a.$.Qe(b))?b.name:null:(console.warn("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());"),b=null),b&&(d=b));b=d.toLowerCase();var e="VARIABLE"==c||"DEVELOPER_VARIABLE"==c?a.Hn:"";c in a.oc||(a.oc[c]=Object.create(null));var f=a.oc[c];if(b in f)return e+f[b];d?(d=encodeURI(d.replace(/ /g,
"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(d[0])&&(d="my_"+d)):d=q.UNNAMED_KEY||"unnamed";for(var h="";a.bm[d+h]||d+h in a.rn;)h=h?h+1:2;d+=h;a.bm[d]=!0;a=("VARIABLE"==c||"DEVELOPER_VARIABLE"==c?a.Hn:"")+d;f[b]=a.substr(e.length);return a};var oi={};function Ni(a){var b=mf(a,"procedures_defnoreturn").map(function(c){return c.fp()});a=mf(a,"procedures_defreturn").map(function(c){return c.fp()});b.sort(Oi);a.sort(Oi);return[b,a]}function Oi(a,b){return a[0].localeCompare(b[0],void 0,{sensitivity:"base"})}
function pi(a){function b(f,h){for(var k=0;k<f.length;k++){var l=f[k][0],m=f[k][1],n=I("block");n.setAttribute("type",h);n.setAttribute("gap",16);var x=I("mutation");x.setAttribute("name",l);n.appendChild(x);for(l=0;l<m.length;l++){var y=I("arg");y.setAttribute("name",m[l]);x.appendChild(y)}c.push(n)}}var c=[];if(Ff.procedures_defnoreturn){var d=I("block");d.setAttribute("type","procedures_defnoreturn");d.setAttribute("gap",16);var e=I("field");e.setAttribute("name","NAME");e.appendChild(document.createTextNode(q.PROCEDURES_DEFNORETURN_PROCEDURE));
d.appendChild(e);c.push(d)}Ff.procedures_defreturn&&(d=I("block"),d.setAttribute("type","procedures_defreturn"),d.setAttribute("gap",16),e=I("field"),e.setAttribute("name","NAME"),e.appendChild(document.createTextNode(q.PROCEDURES_DEFRETURN_PROCEDURE)),d.appendChild(e),c.push(d));Ff.procedures_ifreturn&&(d=I("block"),d.setAttribute("type","procedures_ifreturn"),d.setAttribute("gap",16),c.push(d));c.length&&c[c.length-1].setAttribute("gap",24);a=Ni(a);b(a[0],"procedures_callnoreturn");b(a[1],"procedures_callreturn");
return c}
function Pi(a){for(var b=[],c=mf(a,"procedures_mutatorarg"),d=0,e;e=c[d];d++)b.push(hf(e,"NAME"));c=I("xml");d=I("block");d.setAttribute("type","procedures_mutatorarg");e=I("field");e.setAttribute("name","NAME");a:if(b.length)for(var f="",h=14,k="x";;){for(var l=!1,m=0;m<b.length;m++)if(b[m].toLowerCase()==k){l=!0;break}if(!l){b=k;break a}h++;25==h&&(h=0,f=Number(f)+1);k="ijkmnopqrstuvwxyzabcdefgh".charAt(h)+f}else b="x";e.appendChild(document.createTextNode(b));d.appendChild(e);c.appendChild(d);if(b=
ae(c)){if(!a.options.Ud)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(fe(b)){if(!a.na)throw Error("Existing toolbox has no categories.  Can't change mode.");a.options.Ud=b;a.na.W(b)}else{if(!a.N)throw Error("Existing toolbox has categories.  Can't change mode.");a.options.Ud=b;a.N.show(b)}}else if(a.options.Ud)throw Error("Can't nullify an existing toolbox.");}
function qi(a){if("bubble_open"==a.type&&"mutator"===a.Eq&&a.Tj){a=(ad[a.jb]||null).Kb(a.la);var b=a.type;if("procedures_defnoreturn"==b||"procedures_defreturn"==b)a=a.Zd.g,Pi(a),sf(a,Qi)}}function Qi(a){"create"!=a.type&&"delete"!=a.type&&"change"!=a.type||Pi(ad[a.jb]||null)};function Ri(){Si=this;this.Pb=Object.create(null);this.Ze=Object.create(null)}var Si,Ti={Shift:16,Control:17,Alt:18,Meta:91};Ri.prototype.register=function(a,b){if(this.Pb[a.name]&&!b)throw Error('Shortcut with name "'+a.name+'" already exists.');this.Pb[a.name]=a};
Ri.prototype.unregister=function(a){if(!this.Pb[a])return console.warn('Keyboard shortcut with name "'+a+'" not found.'),!1;for(var b in this.Ze){var c=b,d=this.Ze[c],e=d.indexOf(a);-1<e&&(d.splice(e,1),0==d.length&&delete this.Ze[c])}delete this.Pb[a];return!0};function Q(a,b){var c=Si;a=String(a);var d=c.Ze[a];if(d)throw Error('Shortcut with name "'+b+'" collides with shortcuts '+d.toString());c.Ze[a]=[b]}
function Ui(a,b){var c="";if(b){for(var d=fd(Ti),e=0,f;f=b[e];e++)if(0>d.indexOf(f))throw Error(f+" is not a valid modifier key.");for(var h in Ti)-1<b.indexOf(Ti[h])&&(""!=c&&(c+="+"),c+=h)}""!=c&&a?c=c+"+"+a:a&&(c=a.toString());return c}new Ri;function gf(a,b,c,d){this.j=a;this.name=b;this.type=c||"";this.Pd=d||gb();D(new (G("var_create"))(this))}gf.prototype.Ra=function(){return this.Pd};function Vi(a,b){return a.name.localeCompare(b.name,void 0,{sensitivity:"base"})};var li={};function hd(a){var b=ef(a);a=Object.create(null);for(var c=0;c<b.length;c++){var d=Bd(b[c]);if(d)for(var e=0;e<d.length;e++){var f=d[e],h=f.Ra();h&&(a[h]=f)}}b=[];for(h in a)b.push(a[h]);return b}var Wi={};function mi(a){var b=[],c=document.createElement("button");c.setAttribute("text","%{BKY_NEW_VARIABLE}");c.setAttribute("callbackKey","CREATE_VARIABLE");zi(a,function(d){Xi(d.Uq())});b.push(c);a=Yi(a);return b=b.concat(a)}
function Yi(a){a=a.Jh("");var b=[];if(0<a.length){var c=a[a.length-1];if(Ff.variables_set){var d=I("block");d.setAttribute("type","variables_set");d.setAttribute("gap",Ff.math_change?8:24);d.appendChild(Zi(c));b.push(d)}Ff.math_change&&(d=I("block"),d.setAttribute("type","math_change"),d.setAttribute("gap",Ff.variables_get?20:8),d.appendChild(Zi(c)),c=od('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),d.appendChild(c),b.push(d));if(Ff.variables_get){a.sort(Vi);
c=0;for(var e;e=a[c];c++)d=I("block"),d.setAttribute("type","variables_get"),d.setAttribute("gap",8),d.appendChild(Zi(e)),b.push(d)}}return b}function Xi(a){function b(c){$i(c,function(d){if(d){var e=aj(d,a);if(e){if(""==e.type)var f=q.VARIABLE_ALREADY_EXISTS.replace("%1",e.name);else f=q.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,f=f.replace("%1",e.name).replace("%2",e.type);jf(f,function(){b(d)})}else a.Xc(d,"")}})}b("")}
function $i(a,b){bj(a,function(c){c&&(c=c.replace(/[\s\xa0]+/g," ").trim(),c==q.RENAME_VARIABLE||c==q.NEW_VARIABLE)&&(c=null);b(c)})}function aj(a,b){b=b.$.Ne();a=a.toLowerCase();for(var c=0,d;d=b[c];c++)if(d.name.toLowerCase()==a)return d;return null}function Zi(a){var b=I("field");b.setAttribute("name","VAR");b.setAttribute("id",a.Ra());b.setAttribute("variabletype",a.type);b.appendChild(document.createTextNode(a.name));return b}
function wd(a,b){a=a.Ne();var c=[];if(b.length!=a.length)for(var d=0;d<a.length;d++){var e=a[d];-1==b.indexOf(e)&&c.push(e)}return c};var Gc=null,L=null,cf=[],yi=null,cj=null,dj=null,zc=null;function Ei(a){for(;a.options.rb;)a=a.options.rb;var b=K(a),c=ai(a),d=b.parentNode;if(d){var e=d.offsetWidth;d=d.offsetHeight;c.width!=e&&(b.setAttribute("width",e+"px"),vi(a,e,null));c.height!=d&&(b.setAttribute("height",d+"px"),vi(a,null,d));a.resize()}}
function Ki(a){var b=Gc;if(b&&!(Wa(a)||b.K&&!b.isVisible()))a:{var c=Si,d="";for(e in Ti)a.getModifierState(e)&&(""!=d&&(d+="+"),d+=e);""!=d&&a.keyCode?d=d+"+"+a.keyCode:a.keyCode&&(d=a.keyCode.toString());d=c.Ze[d]||[];var e=0;for(var f;f=d[e];e++)if(f=c.Pb[f],(!f.ya||f.ya(b))&&f.qa&&f.qa(b,a,f))break a}}function ej(a){a.j.cd||(E(!0),De(),a.v?a.m(!1,!0):a.m(!0,!0),E(!1))}
function fj(a){if(a.Ye)a=null;else{for(var b=kd(a,!0),c=0,d;d=b.childNodes[c];c++)if("next"==d.nodeName.toLowerCase()){b.removeChild(d);break}c=a.ga();b.setAttribute("x",a.u?-c.x:c.x);b.setAttribute("y",c.y);a={xml:b,source:a.j,$p:lb(a,!0)}}a&&(yi=a.xml,cj=a.source,dj=a.$p)}function gj(){if(!yi)return!1;var a=cj;a.cd&&(a=a.P);return dj&&pf(a,dj)?(E(!0),xi(a),E(!1),!0):!1}
function De(a){Te();Pg();Ec();var b=!!a;Hb(Gc.Ec,Lb).forEach(function(c){!b&&c.Jb&&c.Jb&&c.Jb.isVisible()&&(c.Jb.pb(),hj(c,!1))})}function jf(a,b){alert(a);b&&b()}function kf(a,b){b(confirm(a))}function bj(a,b){b(prompt(q.NEW_VARIABLE_TITLE,a))}
function ij(a){return function(){var b=a.type?'Block "'+a.type+'": ':"";if(a.output&&a.previousStatement)throw Error(b+"Must not have both an output and a previousStatement.");a.style&&a.style.tc&&(this.tc=a.style.tc,a.style=null);if(a.style&&a.colour)throw Error(b+"Must not have both a colour and a style.");if(a.style){var c=a.style;try{this.ke(c)}catch(y){console.warn(b+"Style does not exist: ",c)}}else if("colour"in a)if(void 0===a.colour)console.warn(b+"Undefined colour value.");else{c=a.colour;
try{this.si(c)}catch(y){console.warn(b+"Illegal colour value: ",c)}}for(c=0;void 0!==a["message"+c];){var d=a["args"+c]||[],e=a["lastDummyAlign"+c],f=b;var h=fb(a["message"+c],!0);for(var k=d.length,l=[],m=0,n=0;n<h.length;n++){var x=h[n];if("number"==typeof x){if(1>x||x>k)throw Error('Block "'+this.type+'": Message index %'+x+" out of range.");if(l[x])throw Error('Block "'+this.type+'": Message index %'+x+" duplicated.");l[x]=!0;m++}}if(m!=k)throw Error('Block "'+this.type+'": Message does not reference all '+
k+" arg(s).");k=[];for(l=0;l<h.length;l++){m=h[l];"number"==typeof m&&(m=d[m-1]);if("string"==typeof m&&(m=kh(m),!m))continue;k.push(m)}(d=k.length)&&!lh(k[d-1].type)&&(d={type:"input_dummy"},e&&(d.align=e),k.push(d));e=[];for(d=0;h=k[d];d++)if(lh(h.type)){l=h;m=f;n={LEFT:-1,RIGHT:1,CENTRE:0,CENTER:0};h=null;switch(l.type){case "input_value":h=this.Be(1,l.name);break;case "input_statement":h=this.Be(3,l.name);break;case "input_dummy":h=this.Be(5,l.name||"")}h?(l.check&&h.ef(l.check),l.align&&(n=n[l.align.toUpperCase()],
void 0===n?console.warn(m+"Illegal align value: ",l.align):(l=h,l.align=n,l.o.K&&(l.o=l.o,l.o.W())))):h=null;if(h){for(l=0;m=e[l];l++)n=h,dh(n,n.aa.length,m[0],m[1]);e.length=0}}else(l=jh(this,h))&&e.push([l,h.name]);c++}void 0!==a.inputsInline&&this.je(a.inputsInline);void 0!==a.output&&this.Vk(!0,a.output);void 0!==a.previousStatement&&this.Xk(!0,a.previousStatement);void 0!==a.nextStatement&&this.Uk(!0,a.nextStatement);void 0!==a.tooltip&&(c=a.tooltip,c=eb(c),this.Dg(c));void 0!==a.enableContextMenu&&
(c=a.enableContextMenu,this.contextMenu=!!c);void 0!==a.helpUrl&&(c=a.helpUrl,this.Ve=eb(c));"string"==typeof a.extensions&&(console.warn(b+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+a.type+"' block."),a.extensions=[a.extensions]);void 0!==a.mutator&&If(a.mutator,this,!0);b=a.extensions;if(Array.isArray(b))for(c=0;c<b.length;++c)If(b[c],this,!1)}}
function jj(a){for(var b=0;b<a.length;b++){var c=a[b];if(c){var d=c.type;null==d||""===d?console.warn("Block definition #"+b+" in JSON array is missing a type attribute. Skipping."):(Ff[d]&&console.warn("Block definition #"+b+' in JSON array overwrites prior definition of "'+d+'".'),Ff[d]={ba:ij(c)})}else console.warn("Block definition #"+b+" in JSON array is "+c+". Skipping.")}};function kj(a,b,c){"function"!=typeof a&&(lj(a),a=JSON.parse(JSON.stringify(a)));this.$e=a;this.bl=this.Gk=this.Gh=null;a=this.$e;if(Array.isArray(a)){for(var d=!1,e=0;e<a.length;e++){var f=a[e][0];"string"==typeof f?a[e][0]=eb(f):(null!=f.alt&&(a[e][0].alt=eb(f.alt)),d=!0)}if(!(d||2>a.length)){f=[];for(e=0;e<a.length;e++)f.push(a[e][0]);var h=za(f);e=Aa(f,h);d=Ca(f,h);if((e||d)&&!(h<=e+d)){e&&(this.Gk=f[0].substring(0,e-1));d&&(this.bl=f[0].substr(1-d));f=[];for(h=0;h<a.length;h++){var k=a[h][0],
l=a[h][1];k=k.substring(e,k.length-d);f[h]=[k,l]}this.$e=f}}}this.df=mj(this,!1)[0];kj.i.constructor.call(this,this.df[1],b,c);this.lf=this.Bd=this.gb=this.hb=this.yg=null}H(kj,Rg);kj.M=function(a){return new kj(a.options,void 0,a)};kj.prototype.Bj=function(a){"function"==typeof this.$e&&mj(this,!1);Ed(this,a.textContent)};kj.prototype.Hl=!0;var nj=Oa?"\u25bc":"\u25be";g=kj.prototype;g.Tn="default";
g.Mh=function(){!this.D().tl||this.D().tl&&!this.o.T?Ug(this):this.Xl=this.o.J();Vg(this);this.gb=z(Wb,{},this.ob);this.D().ho?(this.lf=z(Wb,{height:this.D().uf+"px",width:this.D().uf+"px"},this.ob),this.lf.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.D().io)):(this.Bd=z(cc,{},this.Ya),this.Bd.appendChild(document.createTextNode(this.o.u?nj+" ":" "+nj)),this.o.u?this.Ya.insertBefore(this.Bd,this.me):this.Ya.appendChild(this.Bd));this.Ca&&A(this.Ca,"blocklyDropdownRect")};
g.zi=function(a){var b=new nh;b.Ag("listbox");this.hb=b;var c=mj(this,!1);this.yg=null;for(var d=0;d<c.length;d++){var e=c[d][0],f=c[d][1];if("object"==typeof e){var h=new Image(e.width,e.height);h.src=e.src;h.alt=e.alt||"";e=h}e=new rh(e,f);e.Ag("option");e.Qk=this.o.u;e.$i=!0;b.ec.push(e);e.aj=f==this.sb;f==this.sb&&(this.yg=e);sh(e,this.ip,this)}this.hb.yk=a&&"number"===typeof a.clientX?new r(a.clientX,a.clientY):null;this.hb.W(qc);A(this.hb.Ma,"blocklyDropdownMenu");this.D().co&&(a=this.o.T?this.o.getParent().Dj():
this.o.Dj(),b=this.o.T?this.o.getParent().style.He:this.o.style.He,pc.style.backgroundColor=a,pc.style.borderColor=b);a=this.Yo.bind(this);this.Ca?(f=this.Ca.getBoundingClientRect(),c=Ja(this.Ca),d=f.width,f=f.height):(f=dg(this.o),b=this.o.j.scale,c=Ja(Tg(this)),d=f.width*b,f=f.height*b,Na?(c.x+=1.5*b,c.y+=1.5*b):La||Ka||(c.x-=.5*b,c.y-=.5*b),d+=1*b,f+=1*b);b=new ya(c.y,c.y+f,c.x,c.x+d);d=new ya(b.top,b.bottom,b.left,b.right);b=d.left+(d.right-d.left)/2;c=d.bottom;d=d.top;f=this.B();for(e=f.j;e.options.rb;)e=
e.options.rb;sc=K(e).parentNode;f=f.u;tc=this;vc=a||null;a=pc;a.style.direction=f?"rtl":"ltr";f=Gc;wc=f.ra.$b();xc=f.Hc().$b();A(a,wc);A(a,xc);a=Ja(sc);f=Ha(sc);a={left:a.x,right:a.x+f.width,top:a.y,bottom:a.y+f.height,width:f.width,height:f.height};f=Ha(pc);c+f.height<a.bottom?a=Ac(b,c,a,f):d-f.height>a.top?a=Cc(b,d,a,f):c+f.height<document.documentElement.clientHeight?a=Ac(b,c,a,f):d-f.height>document.documentElement.clientTop?a=Cc(b,d,a,f):(a=Bc(b,a.left,a.right,f.width),a={Oj:a.Me,Pj:0,yj:a.Me,
zj:0,Ti:null,Ce:null,Vi:null,Ui:!1});d=a;d.Ui?(rc.style.display="",rc.style.transform="translate("+d.Ce+"px,"+d.Vi+"px) rotate(45deg)",rc.setAttribute("class",d.Ti?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):rc.style.display="none";a=Math.floor(d.Oj);b=Math.floor(d.Pj);c=Math.floor(d.yj);d=Math.floor(d.zj);f=pc;f.style.left=a+"px";f.style.top=b+"px";f.style.display="block";f.style.opacity=1;f.style.transform="translate("+(c-a)+"px,"+(d-b)+"px)";this.hb.focus();
this.yg&&this.hb.hc(this.yg);this.Ka()};g.Yo=function(){this.hb&&this.hb.m();this.yg=this.hb=null;this.Ka()};g.ip=function(a){tc===this&&Ec();Ed(this,a.sb)};function mj(a,b){return"function"==typeof a.$e?(a.Gh&&b||(a.Gh=a.$e.call(a),lj(a.Gh)),a.Gh):a.$e}g.Ch=function(a){for(var b=!1,c=mj(this,!0),d=0,e;e=c[d];d++)if(e[1]==a){b=!0;break}return b?a:(this.o&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.o.type+", Field name: "+this.name+", Value: "+a),null)};
g.Of=function(a){kj.i.Of.call(this,a);a=mj(this,!0);for(var b=0,c;c=a[b];b++)c[1]==this.sb&&(this.df=c)};g.Ka=function(){this.Ca&&(this.Ca.setAttribute("stroke",this.o.style.He),this.hb?this.Ca.setAttribute("fill",this.o.style.He):this.Ca.setAttribute("fill","transparent"));this.o&&this.Bd&&(this.Bd.style.fill=this.o.T?this.o.style.qh:this.o.style.Ed)};
g.Mk=function(){this.me.nodeValue="";this.gb.style.display="none";var a=this.df&&this.df[0];if(a&&"object"==typeof a){this.gb.style.display="";this.gb.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.src);this.gb.setAttribute("height",a.height);this.gb.setAttribute("width",a.width);var b=Number(a.height);a=Number(a.width);var c=!!this.Ca,d=Math.max(c?this.D().rl:0,b+10);c=c?this.D().tf:0;if(this.lf)var e=oj(this,a+c,d/2-this.D().uf/2);else{e=this.D().vf;var f=this.D().te,h=this.D().se;
e=nc(this.Bd,e+"pt",f,h)}this.Xa.width=a+e+2*c;this.Xa.height=d;f=0;this.o.u?this.gb.setAttribute("x",c+e):(f=a+e,this.Ya.setAttribute("text-anchor","end"),this.gb.setAttribute("x",c));this.gb.setAttribute("y",d/2-b/2);Xg(this,f+c,a+e)}else this.me.nodeValue=Wg(this),A(this.Ya,"blocklyDropdownText"),this.Ya.setAttribute("text-anchor","start"),a=!!this.Ca,b=Math.max(a?this.D().rl:0,this.D().Yg),d=this.D().vf,c=this.D().te,e=this.D().se,d=nc(this.Ya,d+"pt",c,e),a=a?this.D().tf:0,c=0,this.lf&&(c=oj(this,
d+a,b/2-this.D().uf/2)),this.Xa.width=d+c+2*a,this.Xa.height=b,Xg(this,a,d);Yg(this)};function oj(a,b,c){if(!a.lf)return 0;var d=a.Ca?a.D().tf:0,e=a.D().jo,f=a.D().uf;a.lf.setAttribute("transform","translate("+(a.o.u?d:b+e)+","+c+")");return f+e}g.Gj=function(){if(!this.df)return null;var a=this.df[0];return"object"==typeof a?a.alt:a};
function lj(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");if(!a.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var b=!1,c=0;c<a.length;++c){var d=a[c];Array.isArray(d)?"string"!=typeof d[1]?(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option id must be a string. Found "+d[1]+" in: ",d)):d[0]&&"string"!=typeof d[0]&&"string"!=typeof d[0].src&&(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option must have a string label or image description. Found"+
d[0]+" in: ",d)):(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option must be an array. Found: ",d))}if(b)throw TypeError("Found invalid FieldDropdown options.");}B(Mc,"field_dropdown",kj);function gh(a){this.og=a}g=gh.prototype;g.vl=null;g.gh=null;g.hh=null;g.oo="  ";g.Sn=60;g.fh=[];g.Qh=null;function pj(a,b){return b+a.replace(/(?!\n$)\n/g,"\n"+b)}
function qj(a,b){!1===a.Qh&&console.warn("Generator init was not called before blockToCode was called.");if(!b)return"";if(!b.isEnabled())return qj(a,nb(b));if(b.Ab())return qj(a,jd(b,!1)[0]);var c=a[b.type];if("function"!=typeof c)throw Error('Language "'+a.og+'" does not know how to generate code for block type "'+b.type+'".');c=c.call(b,b);if(Array.isArray(c)){if(!b.v)throw TypeError("Expecting string from statement block: "+b.type);return[a.Rk(b,c[0]),c[1]]}if("string"==typeof c)return a.gh&&
!b.cl&&(c=rj(a.gh,b)+c),a.hh&&!b.cl&&(c+=rj(a.hh,b)),a.Rk(b,c);if(null===c)return"";throw SyntaxError("Invalid code generated: "+c);}
function sj(a,b,c,d){if(isNaN(d))throw TypeError("Expecting valid order from block: "+b.type);var e=mh(b,c);if(!e)return"";c=qj(a,e);if(""===c)return"";if(!Array.isArray(c))throw TypeError("Expecting tuple from value block: "+e.type);b=c[0];c=c[1];if(isNaN(c))throw TypeError("Expecting valid order from value block: "+e.type);if(!b)return"";e=!1;var f=Math.floor(d),h=Math.floor(c);if(f<=h&&(f!=h||0!=f&&99!=f))for(e=!0,f=0;f<a.fh.length;f++)if(a.fh[f][0]==d&&a.fh[f][1]==c){e=!1;break}e&&(b="("+b+")");
return b}function tj(a,b){var c=R;a=mh(a,b);b=qj(c,a);if("string"!=typeof b)throw TypeError("Expecting code from statement block: "+(a&&a.type));b&&(b=pj(b,c.oo));return b}function rj(a,b){b=b.id.replace(/\$/g,"$$$$");return a.replace(/%1/g,"'"+b+"'")}g.Ni="";function uj(a){var b=R;b.Ni+=a+","}g.ba=function(){this.ij=Object.create(null);this.ap=Object.create(null)};g.Rk=function(a,b){return b};g.finish=function(a){delete this.ij;delete this.ap;return a};g.tn=function(a){return a};var R=new gh("JavaScript");uj("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(p).join(","));R.cq=0;R.wq=1.1;R.eh=1.2;R.dh=2;R.tq=3;R.mq=3;R.gq=4.1;R.zq=4.2;R.Gl=4.3;R.Cl=4.4;R.yq=4.5;R.Aq=4.6;R.nq=4.7;R.eq=4.8;
R.qq=5;R.El=5.1;R.oq=5.2;R.vq=5.3;R.Fl=6.1;R.bh=6.2;R.iq=7;R.xq=8;R.rq=8;R.uq=8;R.pq=9;R.fq=10;R.jq=11;R.hq=12;R.Bl=13;R.Dl=14;R.lq=15;R.bq=16;R.Bq=17;R.kq=18;R.zo=99;R.fh=[[R.dh,R.eh],[R.dh,R.dh],[R.eh,R.eh],[R.eh,R.dh],[R.Cl,R.Cl],[R.El,R.El],[R.bh,R.bh],[R.Bl,R.Bl],[R.Dl,R.Dl]];R.Qh=!1;
R.ba=function(a){Object.getPrototypeOf(this).ba.call(this);this.hd?this.hd.reset():this.hd=new Li(this.Ni);this.hd.Zk(a.$);for(var b=this.hd,c=hd(a),d=0;d<c.length;d++)Mi(b,c[d].Ra(),"VARIABLE");b=this.hd;c=Ni(a);c=c[0].concat(c[1]);for(d=0;d<c.length;d++)Mi(b,c[d][0],"PROCEDURE");b=[];c=ef(a);d=Object.create(null);for(var e=0,f;f=c[e];e++){var h=f.Rq;!h&&f.ep&&(h=f.ep,Wi[f.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+f.type+"')"),Wi[f.type]=
!0));if(h)for(f=h(),h=0;h<f.length;h++)d[f[h]]=!0}d=Object.keys(d);for(c=0;c<d.length;c++)b.push(Mi(this.hd,d[c],"DEVELOPER_VARIABLE"));a=hd(a);for(c=0;c<a.length;c++)b.push(Mi(this.hd,a[c].Ra(),"VARIABLE"));b.length&&(this.ij.variables="var "+b.join(", ")+";");this.Qh=!0};R.finish=function(a){var b=fd(this.ij);a=Object.getPrototypeOf(this).finish.call(this,a);this.Qh=!1;this.hd.reset();return b.join("\n\n")+"\n\n\n"+a};R.tn=function(a){return a+";\n"};
R.Jp=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};R.Wq=function(a){return a.split(/\n/g).map(this.Jp).join(" + '\\n' +\n")};
R.Rk=function(a,b){var c="";if(!a.v||!a.v.L){var d=a.Xb.text;d&&(d=Da(d,this.Sn-3),c+=pj(d+"\n","// "));for(var e=0;e<a.A.length;e++)if(1==a.A[e].type){var f=a.A[e].connection.H();if(f){d=[];f=mb(f,!0);for(var h=0;h<f.length;h++){var k=f[h].Xb.text;k&&d.push(k)}d.length&&d.push("");(d=d.join("\n"))&&(c+=pj(d,"// "))}}}a=a.C&&a.C.H();a=qj(this,a);return c+b+a};
R.Pq=function(a,b,c,d,e){c=c||0;e=e||this.zo;a.j.options.ji&&c--;var f=a.j.options.ji?"1":"0";a=0<c?sj(this,a,b,this.bh)||f:0>c?sj(this,a,b,this.Fl)||f:d?sj(this,a,b,this.Gl)||f:sj(this,a,b,e)||f;if(/^\s*-?\d+(\.\d+)?\s*$/.test(a))a=Number(a)+c,d&&(a=-a);else{if(0<c){a=a+" + "+c;var h=this.bh}else 0>c&&(a=a+" - "+-c,h=this.Fl);d&&(a=c?"-("+a+")":"-"+a,h=this.Gl);h=Math.floor(h);e=Math.floor(e);h&&e>=h&&(a="("+a+")")}return a};function vj(){}vj.prototype.tk=function(){};vj.prototype.rk=function(){};vj.prototype.vk=function(){};function wj(){wj.i.constructor.call(this);this.Ii=!1}H(wj,vj);function $f(a,b,c){b instanceof P?(b=!b.getParent()&&md(b),a.Ii=b&&!c):a.Ii=md(b);return a.Ii};function xj(a,b){xj.i.constructor.call(this,b);this.Tj=a}H(xj,Nd);xj.prototype.type="trashcan_open";xj.prototype.R=function(){var a=xj.i.R.call(this);a.isOpen=this.Tj;return a};xj.prototype.M=function(a){xj.i.M.call(this,a);this.Tj=a.isOpen};B(Lc,"trashcan_open",xj);function Fi(a){Fi.i.constructor.call(this);this.g=a;this.id="trashcan";this.Wc=[];this.Jb=null;0>=this.g.options.ai||(a=new ge({scrollbars:!0,parentWorkspace:this.g,rtl:this.g.u,oneBasedIndex:this.g.options.ji,renderer:this.g.options.Nk,rendererOverrides:this.g.options.Ok,move:{scrollbars:!0}}),a.Eb=3==this.g.Eb?2:3,this.Jb=new (Uc(Qc,this.g.options,!0))(a),sf(this.g,this.Bp.bind(this)))}H(Fi,wj);g=Fi.prototype;g.Ae=47;g.Ug=44;g.ve=16;g.xl=20;g.uo=20;g.$g=10;g.Oi=0;g.Pi=32;g.no=.1;g.Rh=!1;g.ik=0;
g.s=null;g.Di=null;g.Xj=0;g.ed=0;g.Wh=0;g.Fi=0;g.Dm=!1;
g.xa=function(){this.s=z(Vb,{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var b=z(Ob,{id:"blocklyTrashBodyClipPath"+a},this.s);z($b,{width:this.Ae,height:this.Ug,y:this.ve},b);var c=z(Wb,{width:96,x:-this.Oi,height:124,y:-this.Pi,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.s);c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.li+"sprites.png");b=z(Ob,{id:"blocklyTrashLidClipPath"+a},this.s);z($b,{width:this.Ae,height:this.ve},b);this.Di=
z(Wb,{width:96,x:-this.Oi,height:124,y:-this.Pi,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.s);this.Di.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.li+"sprites.png");u(this.s,"mousedown",this,this.Mo);u(this.s,"mouseup",this,this.click);u(c,"mouseover",this,this.zp);u(c,"mouseout",this,this.xp);this.Si();return this.s};
g.ba=function(){0<this.g.options.ai&&(jc(this.Jb.xa(ac),K(this.g)),this.Jb.ba(this.g));Db(this.g.Ec,{component:this,weight:1,Sc:[Lb,Gb,Kb,Jb]});this.Dm=!0;this.gf(!1)};g.m=function(){Eb(this.g.Ec,"trashcan");this.s&&(ic(this.s),this.s=null);this.g=this.Di=null;clearTimeout(this.Xj)};
g.position=function(a,b){if(this.Dm){var c=new Ga(this.Ae,this.Ug+this.ve);var d=this.uo;var e=this.xl,f=this.g,h=f.X&&!!f.X.Y;0===(2!==a.Vp.position?0:1)?(d=a.Qi.left+d,h&&f.u&&(d+=je)):(d=a.Qi.left+a.Jn.width-c.width-d,h&&!f.u&&(d-=je));a=a.Qi.top+a.Jn.height-c.height-e;f.X&&f.X.ka&&(a-=je);d=new ya(a,a+c.height,d,d+c.width);c=this.xl;f=d.left;a=d.right-d.left;e=d.bottom-d.top;h=0;for(var k;k=b[h];h++)d.left>k.right||d.right<k.left||d.top>k.bottom||d.bottom<k.top||(d=k.top-e-c,d=new ya(d,d+e,f,
f+a),h=-1);b=d;this.Fi=b.top;this.Wh=b.left;this.s.setAttribute("transform","translate("+this.Wh+","+this.Fi+")")}};g.Vf=function(){return new ya(this.Fi,this.Fi+this.Ug+this.ve,this.Wh,this.Wh+this.Ae)};g.pm=function(){if(!this.s)return null;var a=this.s.getBoundingClientRect(),b=a.top+this.Pi-this.$g;a=a.left+this.Oi-this.$g;return new ya(b,b+this.ve+this.Ug+2*this.$g,a,a+this.Ae+2*this.$g)};g.tk=function(){this.gf(this.Ii)};g.rk=function(){this.gf(!1)};
g.vk=function(){setTimeout(this.gf.bind(this,!1),100)};g.gf=function(a){this.Rh!=a&&(clearTimeout(this.Xj),this.Rh=a,this.Si())};g.Si=function(){this.ed+=this.Rh?.2:-.2;this.ed=Math.min(Math.max(this.ed,this.ik),1);yj(this,45*this.ed);this.s.style.opacity=.4+.4*this.ed;this.ed>this.ik&&1>this.ed&&(this.Xj=setTimeout(this.Si.bind(this),20))};function yj(a,b){var c=3==a.g.Eb;a.Di.setAttribute("transform","rotate("+(c?-b:b)+","+(c?4:a.Ae-4)+","+(a.ve-2)+")")}
g.click=function(){if(this.Wc.length&&(!this.Jb||!this.Jb.isVisible())){var a=this.Wc.map(od);this.Jb.show(a);hj(this,!0)}};function hj(a,b){a=new (G("trashcan_open"))(b,a.g.id);D(a)}g.Mo=function(a){this.Jb&&this.Jb.isVisible()||!this.Wc.length||a.stopPropagation()};g.zp=function(){this.Wc.length&&this.gf(!0)};g.xp=function(){this.gf(!1)};
g.Bp=function(a){if(!(0>=this.g.options.ai)&&"delete"==a.type&&a.af.tagName&&"shadow"!=a.af.tagName.toLowerCase()){for(var b=a=a.af.cloneNode(!0);b;){b.removeAttribute&&(b.removeAttribute("x"),b.removeAttribute("y"),b.removeAttribute("id"),b.removeAttribute("disabled"),"comment"==b.nodeName&&(b.removeAttribute("h"),b.removeAttribute("w"),b.removeAttribute("pinned")));var c=b.firstChild||b.nextSibling;if(!c)for(c=b.parentNode;c;){if(c.nextSibling){c=c.nextSibling;break}c=c.parentNode}b=c}a=nd(a);if(-1==
this.Wc.indexOf(a)){for(this.Wc.unshift(a);this.Wc.length>this.g.options.ai;)this.Wc.pop();this.ik=a=this.no;this.Rh||yj(this,45*a)}}};function zj(a){zj.i.constructor.call(this);a.zg=this.Np.bind(this);var b=this.g=new ji(a),c=new bi(this.g,this);b.Bb=c;b.bc=b.Bb.bc.bind(b.Bb);this.g.cd=!0;this.g.Aa(this.Kc);this.id=gb();this.u=!!a.u;this.wd=a.Eb;this.wj=[];this.Zh=[];this.Bf=[];this.Ga=[];this.Ek=[];this.mf=this.g.ra.D().ih;this.P=null}H(zj,wj);g=zj.prototype;g.Cd=!0;g.Kc=!1;g.Fd=!0;g.oa=8;g.we=zj.prototype.oa;g.mo=3*zj.prototype.we;g.Co=2.5;g.Ad=0;g.Lj=0;g.Xo=70;
g.xa=function(a){this.s=z(a,{"class":"blocklyFlyout",style:"display: none"},null);this.Na=z(Yb,{"class":"blocklyFlyoutBackground"},this.s);this.s.appendChild(this.g.xa());this.g.Pa.subscribe(this.Na,"flyoutBackgroundColour","fill");this.g.Pa.subscribe(this.Na,"flyoutOpacity","fill-opacity");return this.s};
g.ba=function(a){this.P=a;this.g.P=a;this.g.X=new he(this.g,!1,!0,"blocklyFlyoutScrollbar",this.Co);this.pb();Array.prototype.push.apply(this.wj,t(this.s,"wheel",this,this.aq));this.Cd||(this.Fh=this.xj.bind(this),sf(this.P,this.Fh));Array.prototype.push.apply(this.wj,t(this.Na,"mousedown",this,this.kd));this.g.Id=this.P.Id.bind(this.P);this.g.Zk(this.P.$);var b=this.g;b.mi=new df(b);Db(a.Ec,{component:this,weight:1,Sc:[Gb,Kb]})};
g.m=function(){this.pb();Eb(this.g.Ec,this.id);v(this.wj);this.Fh&&(kb(this.P.Ga,this.Fh),this.Fh=null);this.g&&(this.g.Pa.unsubscribe(this.Na),this.g.P=null,this.g.m(),this.g=null);this.s&&(ic(this.s),this.s=null);this.P=this.Na=null};g.$f=function(){return this.Ad};g.isVisible=function(){return this.Kc};g.Aa=function(a){var b=a!=this.isVisible();this.Kc=a;b&&(this.Cd||ti(this.g),this.Pg())};g.ge=function(a){var b=a!=this.Fd;this.Fd=a;b&&this.Pg()};
g.Pg=function(){var a=this.Fd?this.isVisible():!1;this.s.style.display=a?"block":"none";this.g.X.ge(a)};g.pb=function(){if(this.isVisible()){this.Aa(!1);for(var a=0,b;b=this.Ga[a];a++)v(b);this.Ga.length=0;this.pd&&(kb(this.g.Ga,this.pd),this.pd=null)}};
g.show=function(a){this.g.Wa(!1);this.pb();Aj(this);"string"==typeof a&&(a=Bj(this,a));this.Aa(!0);a=ee(a);a=Cj(this,a);Dj(this,a.So,a.bp);this.Ga.push(t(this.Na,"mouseover",this,function(){for(var b=this.g.ta(!1),c=0,d;d=b[c];c++)d.wg()}));this.Ad=0;this.g.Wa(!0);this.Ik();this.xj();this.position();this.pd=this.Ik.bind(this);sf(this.g,this.pd)};
function Cj(a,b){var c=[],d=[];a.Ek.length=0;for(var e=a.mo,f=0,h;h=b[f];f++){if(h.custom){var k=Bj(a,h.custom);k=ee(k);b.splice.apply(b,[f,1].concat(k));h=b[f]}switch(h.kind.toUpperCase()){case "BLOCK":k=h;var l=k;h=null;var m=l.blockxml;m&&"string"!=typeof m?h=m:m&&"string"==typeof m?(h=od(m),l.blockxml=h):l.type&&(h=I("xml"),h.setAttribute("type",l.type),h.setAttribute("disabled",l.disabled),l.blockxml=h);if(!h)throw Error("Error: Invalid block definition. Block definition must have blockxml or type.");
l=h;h=a;m=qd(l,h.g);m.isEnabled()||h.Ek.push(m);h=m;k=parseInt(k.gap||l.getAttribute("gap"),10);d.push(isNaN(k)?e:k);c.push({type:"block",block:h});break;case "SEP":k=d;l=e;h=parseInt(h.gap,10);!isNaN(h)&&0<k.length?k[k.length-1]=h:k.push(l);break;case "LABEL":k=Ej(a,h,!0);c.push({type:"button",button:k});d.push(e);break;case "BUTTON":k=Ej(a,h,!1),c.push({type:"button",button:k}),d.push(e)}}return{So:c,bp:d}}
function Bj(a,b){b=a.g.P.fl[b]||null;if("function"!=typeof b)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=b(a.g.P);if(!Array.isArray(a))throw new TypeError("Result of toolbox category callback must be an array.");return a}function Ej(a,b,c){if(!ka.lo)throw Error("Missing require for Blockly.FlyoutButton");return new ka.lo(a.g,a.P,b,c)}
function Aj(a){for(var b=a.g.ta(!1),c=0,d;d=b[c];c++)d.j==a.g&&d.m(!1,!1);for(c=0;c<a.Zh.length;c++)if(b=a.Zh[c])Se(b),ic(b);for(c=a.Zh.length=0;b=a.Bf[c];c++)b.m();a.Bf.length=0;a.g.mi.clear()}function Fj(a,b){return function(c){var d=a.P.Id(c);d&&(Cg(d,b),Bg(d,c,a))}}g.kd=function(a){var b=this.P.Id(a);b&&Bg(b,a,this)};
function xg(a,b){var c=null;C++;var d=a.P.Ne();a.P.Wa(!1);try{var e=a.P;if(!b.J())throw Error("oldBlock is not rendered.");var f=kd(b,!0);e.Wa(!1);var h=qd(f,e);if(!h.J())throw Error("block is not rendered.");var k=$a(e.za),l=$a(a.g.za),m=b.ga();m.scale(a.g.scale);var n=wa(xa(l,m),k);n.scale(1/e.scale);h.moveBy(n.x,n.y);c=h}finally{C--}De();b=wd(a.P,d);if(0==C){E(!0);for(d=0;d<b.length;d++)e=b[d],D(new (G("var_create"))(e));D(new (G("create"))(c))}a.Cd?a.pb():a.xj();return c}
g.xj=function(){for(var a=this.g.ta(!1),b=0,c;c=a[b];b++)if(-1==this.Ek.indexOf(c))for(var d=pf(this.P,lb(c));c;)c.rd(d),c=nb(c)};
g.Ik=function(){this.pd&&kb(this.g.Ga,this.pd);this.g.scale=this.P.scale;for(var a=0,b=this.g.ta(!1),c=0,d;d=b[c];c++){var e=dg(d).width;d.v&&(e-=this.mf);a=Math.max(a,e)}for(c=0;d=this.Bf[c];c++)a=Math.max(a,d.width);a+=1.5*this.we+this.mf;a*=this.g.scale;a+=je;if(this.Ad!=a){for(c=0;d=b[c];c++){if(this.u){e=d.ga().x;var f=a/this.g.scale-this.we;d.v||(f-=this.mf);d.moveBy(f-e,0)}d.nm&&(e=d.nm,f=d,d=dg(f),e.setAttribute("width",d.width),e.setAttribute("height",d.height),f=f.ga(),e.setAttribute("y",
f.y),e.setAttribute("x",this.u?f.x-d.width:f.x))}if(this.u)for(c=0;d=this.Bf[c];c++)b=d.Tq().y,d.moveTo(a/this.g.scale-d.width-this.we-this.mf,b);this.P.Eb!=this.wd||2!=this.wd||this.P.na||this.P.translate(this.P.scrollX+a,this.P.scrollY);this.Ad=a;this.position();ti(this.P)}this.pd&&sf(this.g,this.pd)};function vg(a){return a.g.X?a.g.X.isVisible():!1};function Gj(a){Gj.i.constructor.call(this,a)}H(Gj,zj);g=Gj.prototype;g.Np=function(a){if(this.isVisible()){var b=this.g.Bb,c=b.Kd(),d=$h(b);b=Zh(b);"number"==typeof a.y&&(this.g.scrollY=-(c.top+(c.height-d.height)*a.y));this.g.translate(this.g.scrollX+b.left,this.g.scrollY+b.top)}};
g.position=function(){if(this.isVisible()&&this.P.isVisible()){var a=$h(this.P.Bb);this.Lj=a.height;var b=this.Ad-this.oa;a=a.height-2*this.oa;var c=3==this.wd,d=b+this.oa;d=["M "+(c?d:0)+",0"];d.push("h",c?-b:b);d.push("a",this.oa,this.oa,0,0,c?0:1,c?-this.oa:this.oa,this.oa);d.push("v",Math.max(0,a));d.push("a",this.oa,this.oa,0,0,c?0:1,c?this.oa:-this.oa,this.oa);d.push("h",c?b:-b);d.push("z");this.Na.setAttribute("d",d.join(" "));this.isVisible()?(c=this.P.Bb,b=Zh(c),a=$h(c),c=Yh(c),c=this.P.Eb==
this.wd?this.P.na?2==this.wd?c.width:a.width-this.Ad:2==this.wd?0:a.width:2==this.wd?0:a.width+b.left-this.Ad):c=0;b=this.Ad;a=this.Lj;this.s.setAttribute("width",b);this.s.setAttribute("height",a);vi(this.g,b,a);"svg"==this.s.tagName?kc(this.s,"translate("+c+"px,0px)"):this.s.setAttribute("transform","translate("+c+",0)");if(b=this.g.X)b.ui(c,0),b.resize(),b.ka&&b.ka.setPosition(b.ka.position.x,b.ka.position.y),b.Y&&b.Y.setPosition(b.Y.position.x,b.Y.position.y)}};
g.sn=function(){var a=this.g.X;a.Y&&a.Y.set(0,!0)};g.aq=function(a){var b=db(a);if(b.y){var c=this.g.Bb,d=c.Kd();b=$h(c).top-d.top+b.y;c=this.g.X;c.Y&&c.Y.set(b,!0);Pg();Ec()}a.preventDefault();a.stopPropagation()};
function Dj(a,b,c){a.g.scale=a.P.scale;for(var d=a.we,e=a.u?d:d+a.mf,f=0,h;h=b[f];f++)if("block"==h.type){h=h.block;for(var k=mb(h,!1),l=0,m;m=k[l];l++)m.zb=!0;h.W();m=h.J();k=dg(h);l=h.v?e-a.mf:e;h.moveBy(l,d);var n=a,x=h,y=f;l=z($b,{"fill-opacity":0,x:a.u?l-k.width:l,y:d,height:k.height,width:k.width},null);l.Sb=x;Oe(l);n.g.za.insertBefore(l,x.J());x.nm=l;n.Zh[y]=l;n=a;n.Ga.push(t(m,"mousedown",null,Fj(n,h)));n.Ga.push(t(l,"mousedown",null,Fj(n,h)));n.Ga.push(u(m,"mouseenter",h,h.jh));n.Ga.push(u(m,
"mouseleave",h,h.wg));n.Ga.push(u(l,"mouseenter",h,h.jh));n.Ga.push(u(l,"mouseleave",h,h.wg));d+=k.height+c[f]}else"button"==h.type&&(k=a,l=h.button,m=e,n=d,x=l.xa(),l.moveTo(m,n),l.show(),k.Ga.push(t(x,"mousedown",k,k.kd)),k.Bf.push(l),d+=h.button.height+c[f])}g.pm=function(){if(!this.s||this.Cd||!this.isVisible())return null;var a=this.s.getBoundingClientRect(),b=a.left;return 2==this.wd?new ya(-1E9,1E9,-1E9,b+a.width):new ya(-1E9,1E9,b,1E9)};B(Qc,"default",Gj);var Hj={am:"\u12a0\u121b\u122d\u129b",ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",ca:"Catal\u00e0",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",eo:"Esperanto",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",
fi:"Suomi",fo:"F\u00f8royskt",fr:"Fran\u00e7ais",gl:"Galego",ha:"Hausa",he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hr:"Hrvatski",hu:"Magyar",hy:"\u0570\u0561\u0575\u0565\u0580\u0567\u0576",ia:"Interlingua",id:"Bahasa Indonesia",ig:"As\u1ee5s\u1ee5 Igbo",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",kn:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",
nb:"Norsk (bokm\u00e5l)",nl:"Nederlands, Vlaams",pl:"Polski",pms:"Piemont\u00e8is",pt:"Portugu\u00eas","pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438","sr-latn":"Srpski",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",ti:"\u1275\u130d\u122d\u129b",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",
ur:"\u0627\u064f\u0631\u062f\u064f\u0648\u202c",vi:"Ti\u1ebfng Vi\u1ec7t",yo:"\u00c8d\u00e8 Yor\u00f9b\u00e1","zh-hans":"\u7b80\u4f53\u4e2d\u6587","zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},Ij=window.BlocklyGamesLang,Jj=window.BlocklyGamesLanguages,Kj=["ar","fa","he","ur"].includes(Ij),Lj=/\.html$/.test(window.location.pathname),S=document.getElementById.bind(document);
function Mj(a){try{if(a.lineno||a.colno){var b=Date.now();if(!(Mj.Km+1E4>b)){Mj.Km=b;var c=new XMLHttpRequest,d="error="+encodeURIComponent(a.error&&a.error.stack||a.message+" "+a.filename+" "+a.lineno+":"+a.colno)+"&amp;url="+encodeURIComponent(window.location);c.open("POST","/errorReporter");c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");c.send(d);console.log("Error reported.")}}}catch(e){console.log(a.error)}}Mj.Km=0;Lj||window.addEventListener("error",Mj);
function Nj(a,b,c){var d=Math,e=d.floor,f=Number;a=(a=window.location.search.match(new RegExp("[?&]"+a+"=([^&]+)")))?decodeURIComponent(a[1].replace(/\+/g,"%20")):"NaN";d=e.call(d,f(a));return isNaN(d)?b:Math.max(b,Math.min(d,c))}var T=Nj("level",1,10);
function Oj(a){document.title=U("Games.name",!1)+(a&&" : ")+a;document.dir=Kj?"rtl":"ltr";document.head.parentElement.setAttribute("lang",Ij);if(a=S("languageMenu")){for(var b=[],c=ba(Jj),d=c.next();!d.done;d=c.next())d=d.value,b.push([Hj[d],d]);b.sort(function(e,f){return e[0]>f[0]?1:e[0]<f[0]?-1:0});a.options.length=0;b=ba(b);for(c=b.next();!c.done;c=b.next())d=ba(c.value),c=d.next().value,d=d.next().value,c=new Option(c,d),d===Ij&&(c.selected=!0),a.options.add(c);1>=a.options.length&&(a.style.display=
"none")}for(a=1;10>=a;a++)b=S("level"+a),c=!!Pj(a),b&&c&&(b.className+=" level_done");(a=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&a.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");Lj||setTimeout(Qj,1)}function Pj(a){var b=Rj;try{var c=window.localStorage[b+a]}catch(d){}return c}
function Sj(a,b){if(!a)throw TypeError("Element not found: "+a);"string"===typeof a&&(a=S(a));a.addEventListener("click",b,!0);a.addEventListener("touchend",function(c){c.preventDefault();b(c)},!0)}function U(a,b){a=window.BlocklyGamesMsg[a];void 0===a&&(a="[Unknown message: ${name}]");return b?Tj(a):a}function Tj(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}
function Qj(){function a(c){(a.q=a.q||[]).push(arguments)}window.GoogleAnalyticsObject="GoogleAnalyticsFunction";window.GoogleAnalyticsFunction=a;a.l=1*new Date;var b=document.createElement("script");b.async=1;b.src="//www.google-analytics.com/analytics.js";document.head.appendChild(b);a("create","UA-50448074-1","auto");a("send","pageview")};function Uj(a,b){for(var c=0,d=0;d<b.length;d++)for(var e=b[d];e;)setTimeout(e.fe.bind(e,a),c),e=nb(e),c+=10}function Vj(a,b){if(md(a))Array.prototype.push.apply(b,mb(a,!1));else{a=jd(a,!1);for(var c=0;c<a.length;c++)Vj(a[c],b)}}function Wj(a){var b=[];a=a.ta(!0);for(var c=0;c<a.length;c++)Vj(a[c],b);return b}function Xj(a,b){E(b);var c=a.shift();c&&(c.j?(c.m(!1,!0),setTimeout(Xj,10,a,b)):Xj(a,b));E(!1)}
uh.register({eb:function(){return q.UNDO},ya:function(a){return 0<a.j.ne.length?"enabled":"disabled"},qa:function(a){rf(a.j,!1)},Cb:"workspace",id:"undoWorkspace",weight:1});uh.register({eb:function(){return q.REDO},ya:function(a){return 0<a.j.vg.length?"enabled":"disabled"},qa:function(a){rf(a.j,!0)},Cb:"workspace",id:"redoWorkspace",weight:2});
uh.register({eb:function(){return q.CLEAN_UP},ya:function(a){return a.j.Sa()?1<a.j.ta(!1).length?"enabled":"disabled":"hidden"},qa:function(a){a=a.j;a.Wa(!1);E(!0);for(var b=a.ta(!0),c=0,d=0,e;e=b[d];d++)if(e.Sa()){var f=e.ga();e.moveBy(-f.x,c-f.y);Mh(e);c=e.ga().y+dg(e).height+a.ra.D().ah}E(!1);a.Wa(!0)},Cb:"workspace",id:"cleanWorkspace",weight:3});
uh.register({eb:function(){return q.COLLAPSE_ALL},ya:function(a){if(a.j.options.collapse){a=a.j.ta(!1);for(var b=0;b<a.length;b++)for(var c=a[b];c;){if(!c.isCollapsed())return"enabled";c=nb(c)}return"disabled"}return"hidden"},qa:function(a){Uj(!0,a.j.ta(!0))},Cb:"workspace",id:"collapseWorkspace",weight:4});
uh.register({eb:function(){return q.EXPAND_ALL},ya:function(a){if(a.j.options.collapse){a=a.j.ta(!1);for(var b=0;b<a.length;b++)for(var c=a[b];c;){if(c.isCollapsed())return"enabled";c=nb(c)}return"disabled"}return"hidden"},qa:function(a){Uj(!1,a.j.ta(!0))},Cb:"workspace",id:"expandWorkspace",weight:5});
uh.register({eb:function(a){if(a.j)return a=Wj(a.j).length,1==a?q.DELETE_BLOCK:q.DELETE_X_BLOCKS.replace("%1",String(a))},ya:function(a){if(a.j)return 0<Wj(a.j).length?"enabled":"disabled"},qa:function(a){if(a.j){Oh(a.j);var b=Wj(a.j),c=gb();2>b.length?Xj(b,c):kf(q.DELETE_ALL_BLOCKS.replace("%1",b.length),function(d){d&&Xj(b,c)})}},Cb:"workspace",id:"workspaceDelete",weight:6});
uh.register({eb:function(){return q.DUPLICATE_BLOCK},ya:function(a){a=a.block;return!a.zb&&md(a)&&a.Sa()?(qf(a.j)?pf(a.j,lb(a,!0)):1)?"enabled":"disabled":"hidden"},qa:function(a){if(a.block){a=a.block;var b=yi,c=cj;fj(a);xi(a.j);yi=b;cj=c}},Cb:"block",id:"blockDuplicate",weight:1});
uh.register({eb:function(a){return a.block.Wb?q.REMOVE_COMMENT:q.ADD_COMMENT},ya:function(a){a=a.block;return Ka||a.zb||!a.j.options.Po||a.isCollapsed()||!a.Mb()?"hidden":"enabled"},qa:function(a){a=a.block;a.Wb?a.ff(null):a.ff("")},Cb:"block",id:"blockComment",weight:2});
uh.register({eb:function(a){return Kf(a.block)?q.EXTERNAL_INPUTS:q.INLINE_INPUTS},ya:function(a){a=a.block;if(!a.zb&&a.Sa()&&!a.isCollapsed())for(var b=1;b<a.A.length;b++)if(3!=a.A[b-1].type&&3!=a.A[b].type)return"enabled";return"hidden"},qa:function(a){a.block.je(!Kf(a.block))},Cb:"block",id:"blockInline",weight:3});
uh.register({eb:function(a){return a.block.isCollapsed()?q.EXPAND_BLOCK:q.COLLAPSE_BLOCK},ya:function(a){a=a.block;return!a.zb&&a.Sa()&&a.j.options.collapse?"enabled":"hidden"},qa:function(a){a.block.fe(!a.block.isCollapsed())},Cb:"block",id:"blockCollapseExpand",weight:4});
uh.register({eb:function(a){return a.block.isEnabled()?q.DISABLE_BLOCK:q.ENABLE_BLOCK},ya:function(a){a=a.block;return!a.zb&&a.j.options.disable&&a.Mb()?ih(a)?"disabled":"enabled":"hidden"},qa:function(a){a=a.block;var b=Vc;b||E(!0);a.rd(!a.isEnabled());b||E(!1)},Cb:"block",id:"blockDisable",weight:5});
uh.register({eb:function(a){var b=a.block;a=mb(b,!1).length;(b=nb(b))&&(a-=mb(b,!1).length);return 1==a?q.DELETE_BLOCK:q.DELETE_X_BLOCKS.replace("%1",String(a))},ya:function(a){return!a.block.zb&&md(a.block)?"enabled":"hidden"},qa:function(a){E(!0);a.block&&ej(a.block);E(!1)},Cb:"block",id:"blockDelete",weight:6});
uh.register({eb:function(){return q.HELP},ya:function(a){a=a.block;return("function"==typeof a.Ve?a.Ve():a.Ve)?"enabled":"hidden"},qa:function(a){a.block.showHelp()},Cb:"block",id:"blockHelp",weight:7});function V(a,b){return" "+a+","+b+" "}function Yj(a,b){return" "+a+b.join("")}function Zj(a,b){return" M "+a+","+b+" "}function M(a,b){return" m "+a+","+b+" "}function ak(a,b){return" l "+a+","+b+" "}function N(a,b){return" "+a+" "+b+" "}function bk(a,b,c){return"a "+b+" "+b+" "+a+c};function ck(){this.lc=0;this.Do=3;this.Fb=5;this.Al=8;this.$a=10;this.Ml=this.Fb;this.zf=15;this.ze=5;this.ih=8;this.xo=15;this.Li=4;this.wo=12;this.Xn=16;this.Wn=this.ol=this.zf;this.oa=8;this.Ho=this.wf=15;this.Kl=0;this.Ll=20;this.Pn=4;this.Io=this.Fb;this.Jo=this.$a;this.Rn=this.Fb;this.Qn=this.$a;this.ll=!1;this.Fo=15;this.Go=100;this.Eo=15;this.ah=24;this.Zn=14.5;this.Yn=this.zf+11;this.ao=2;this.$n=this.ah;this.Jl=M(0,0);this.so=12;this.to=6;this.vf=11;this.te="normal";this.se="sans-serif";
this.ul=this.Yg=-1;this.Xg=4;this.ql=16;this.tf=5;this.bo="#fff";this.Ki=!Ka&&!La;this.rl=this.ql;this.ho=this.co=this.tl=!1;this.jo=this.tf;this.uf=12;this.io="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";
this.oi=String(Math.random()).substring(2);this.uj="";this.vj=null;this.hm="";this.Kf=this.cm=this.kj=null;this.ml="#cc0a0a";this.yl="#4286f4";this.Wg=100;this.Nl=5;this.Vg=10;this.Un=2;this.Vn=4;this.po="#000000";this.wl=.2;this.Il={Bo:1,xe:2}}g=ck.prototype;
g.ba=function(){this.ue=this.bk();this.xe=this.ck();this.ye=this.ek();this.Mi=this.dk();var a=this.oa;this.Zg={width:a,height:a,Dk:bk("0 0,0",a,V(-a,a)),ki:bk("0 0,0",a,V(a,a))};a=this.oa;this.xf={hl:M(0,a)+bk("0 0,1",a,V(a,-a)),Xp:bk("0 0,1",a,V(a,a)),No:bk("0 0,1",a,V(-a,a)),Xi:bk("0 0,1",a,V(-a,-a)),Kp:a}};
g.Cg=function(){this.nh=Object.create(null);var a=document.createElement("span");a.style.font=this.te+" "+(this.vf+"pt ")+this.se;a.textContent="Hg";var b=document.createElement("div");b.style.width="1px";b.style.height="0px";var c=document.createElement("div");c.setAttribute("style","position: fixed; top: 0; left: 0; display: flex;");c.appendChild(a);c.appendChild(b);document.body.appendChild(c);try{var d={};c.style.alignItems="baseline";d.Vb=b.offsetTop-a.offsetTop;c.style.alignItems="flex-end";
d.height=b.offsetTop-a.offsetTop}finally{document.body.removeChild(c)}a=d;this.Yg=a.height;this.ul=a.Vb};function Ph(a,b){var c="auto_"+b;a.nh[c]||(a.nh[c]=dk({colourPrimary:b}));return{style:a.nh[c],name:c}}function Lh(a,b){return a.nh[b||""]||(b&&0==b.indexOf("auto_")?Ph(a,b.substring(5)).style:dk({colourPrimary:"#000000"}))}
function dk(a){var b={};a&&ed(b,a);a=ob(b.colourPrimary||"#000");b.Ed=a.cg;b.colourSecondary?a=ob(b.colourSecondary).cg:(a=b.Ed,a=ta("#fff",a,.6)||a);b.qh=a;b.colourTertiary?a=ob(b.colourTertiary).cg:(a=b.Ed,a=ta("#fff",a,.3)||a);b.He=a;b.tc=b.hat||"";return b}g.m=function(){this.vj&&ic(this.vj);this.kj&&ic(this.kj);this.cm&&ic(this.cm);this.Kf=null};g.bk=function(){var a=this.so,b=this.to;return{height:a,width:b,path:" l"+[V(b,a/4),V(2*-b,a/2),V(b,a/4)].join("")}};
g.ek=function(){var a=this.Fo,b=this.Go;return{height:a,width:b,path:Yj("c",[V(30,-a),V(70,-a),V(b,0)])}};g.dk=function(){function a(f){f=f?-1:1;var h=-f,k=c/2;return Yj("c",[V(0,f*(k+2.5)),V(-b,h*(k+.5)),V(-b,f*k)])+Yj("s",[V(b,2.5*h),V(b,f*k)])}var b=this.ih,c=this.zf,d=a(!0),e=a(!1);return{type:this.Il.Bo,width:b,height:c,Ob:e,sg:d}};
g.ck=function(){function a(h){return" l"+[V(h*d,c),V(3*h,0),V(h*d,-c)].join("")}var b=this.xo,c=this.Li,d=(b-3)/2,e=a(1),f=a(-1);return{type:this.Il.xe,width:b,height:c,nd:e,hn:f}};function Zf(a,b){switch(b.type){case 1:case 2:return a.Mi;case 4:case 3:return a.xe;default:throw Error("Unknown connection type");}}
g.xa=function(a,b,c){c=this.Cj(c);b="blockly-renderer-style-"+b;this.Kf=document.getElementById(b);c=c.join("\n");if(this.Kf)this.Kf.firstChild.textContent=c;else{var d=document.createElement("style");d.id=b;d.appendChild(document.createTextNode(c));document.head.insertBefore(d,document.head.firstChild);this.Kf=d}a=z(Pb,{},a);b=z(Ub,{id:"blocklyEmbossFilter"+this.oi},a);z(Rb,{"in":"SourceAlpha",stdDeviation:1,result:"blur"},b);c=z(Tb,{"in":"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,
"lighting-color":"white",result:"specOut"},b);z(Sb,{x:-5E3,y:-1E4,z:2E4},c);z(Qb,{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},b);z(Qb,{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},b);this.uj=b.id;this.vj=b;a=z(Zb,{id:"blocklyDisabledPattern"+this.oi,patternUnits:"userSpaceOnUse",width:10,height:10},a);z($b,{width:10,height:10,fill:"#aaa"},a);z(Yb,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},a);this.hm=a.id;this.kj=a};
g.Cj=function(a){return[a+" .blocklyText, ",a+" .blocklyFlyoutLabelText {","font: "+this.te+" "+this.vf+"pt "+this.se+";","}",a+" .blocklyText {","fill: #fff;","}",a+" .blocklyNonEditableText>rect,",a+" .blocklyEditableText>rect {","fill: "+this.bo+";","fill-opacity: .6;","stroke: none;","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text {","fill: #000;","}",a+" .blocklyFlyoutLabelText {","fill: #000;","}",a+" .blocklyText.blocklyBubbleText {","fill: #000;","}",a+" .blocklyEditableText:not(.editing):hover>rect {",
"stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+this.se+";","font-weight: "+this.te+";","}",a+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",a+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",a+" .blocklyReplaceable .blocklyPathLight,",a+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",a+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.wl+
";","stroke: none;","}"]};function ek(a){this.Fe=this.S=this.type=this.height=this.width=0;this.h=a;this.Nb=this.h.wf};function fk(a,b){fk.i.constructor.call(this,a);this.bb=b;this.shape=Zf(this.h,b);this.Td=!!this.shape.isDynamic;this.type|=1024}H(fk,ek);function gk(a,b){gk.i.constructor.call(this,a,b);this.type|=8192;this.height=this.Td?0:this.shape.height;this.Rb=this.width=this.Td?0:this.shape.width;this.wb=this.h.ze;this.Gf=0}H(gk,fk);function hk(a,b){hk.i.constructor.call(this,a,b);this.type|=2048;this.height=this.shape.height;this.width=this.shape.width}H(hk,fk);
function ik(a,b){ik.i.constructor.call(this,a,b);this.type|=4096;this.height=this.shape.height;this.width=this.shape.width}H(ik,fk);function jk(a,b){jk.i.constructor.call(this,a,b.connection);this.type|=128;this.input=b;this.align=b.align;(this.Vc=b.connection&&b.connection.H()?b.connection.H():null)?(a=dg(this.Vc),this.Ff=a.width,this.sh=a.height):this.sh=this.Ff=0;this.wb=this.Gf=0}H(jk,fk);
function kk(a,b){kk.i.constructor.call(this,a,b);this.type|=256;this.Vc?(this.width=this.Ff,this.height=this.sh):(this.height=this.h.Yn,this.width=this.h.Zn);this.Ie=this.Td?this.shape.height(this.height):this.shape.height;this.nc=this.Td?this.shape.width(this.height):this.shape.width;this.Vc||(this.width+=this.nc*(this.Td?2:1));this.wb=this.Td?this.shape.wb(this.Ie):this.h.ze;this.Gf=this.Td?this.shape.Gf(this.nc):0}H(kk,jk);
function lk(a,b){lk.i.constructor.call(this,a,b);this.type|=512;this.height=this.Vc?this.sh+this.h.Kl:this.h.$n;this.width=this.h.Ho+this.shape.width}H(lk,jk);function mk(a,b){mk.i.constructor.call(this,a,b);this.type|=64;this.height=this.Vc?this.sh-this.h.ze-this.h.Fb:this.shape.height;this.width=this.shape.width+this.h.ao;this.wb=this.h.ze;this.Ie=this.shape.height;this.nc=this.shape.width}H(mk,jk);function nk(a,b){nk.i.constructor.call(this,a);this.icon=b;this.isVisible=b.isVisible();this.type|=4;a=b.Qq();this.height=a.height;this.width=a.width}H(nk,ek);function ok(a){ok.i.constructor.call(this,a);this.type|=524288;this.height=this.h.ue.height;this.width=this.h.ue.width}H(ok,ek);function pk(a,b){pk.i.constructor.call(this,a);this.km=b;this.Mb=b.sf;this.$o=b.rm();this.type|=1;a=this.km.Zf();this.height=a.height;this.width=a.width}H(pk,ek);
function qk(a){qk.i.constructor.call(this,a);this.type|=2;this.height=this.h.ye.height;this.width=this.h.ye.width;this.De=this.height}H(qk,ek);function rk(a,b){rk.i.constructor.call(this,a);this.type=(b&&"left"!=b?131072:32768)|16384;this.width=this.height=this.h.lc}H(rk,ek);function sk(a,b){sk.i.constructor.call(this,a);this.type=(b&&"left"!=b?262144:65536)|16384;this.width=this.h.oa;this.height=this.h.oa/2}H(sk,ek);
function tk(a,b){tk.i.constructor.call(this,a);this.type|=40;this.width=b;this.height=this.h.Eo}H(tk,ek);function uk(a){this.type=1048576;this.elements=[];this.S=this.Ha=this.jc=this.minWidth=this.minHeight=this.width=this.height=0;this.vm=this.Te=this.Jj=this.Da=this.$c=!1;this.h=a;this.Nb=this.h.wf;this.align=null}uk.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.");};function vk(a){for(var b=a.elements.length-1,c;c=a.elements[b];b--)if(c.type&128)return c;return null}uk.prototype.Ci=function(){return!0};uk.prototype.Rf=function(){return!0};
function wk(a){wk.i.constructor.call(this,a);this.type|=2097152;this.De=this.Bc=0;this.op=!1;this.connection=null}H(wk,uk);wk.prototype.Kj=function(a){var b=(a.tc?"cap"===a.tc:this.h.ll)&&!a.v&&!a.F,c=a.F&&a.F.H();return!!a.v||b||(c?nb(c)==a:!1)};
wk.prototype.measure=function(){for(var a=0,b=0,c=0,d=0,e;e=this.elements[d];d++)b+=e.width,e.type&8||(e.type&2?c=Math.max(c,e.De):a=Math.max(a,e.height));this.width=Math.max(this.minWidth,b);this.height=Math.max(this.minHeight,a)+c;this.Bc=this.De=c;this.jc=this.width};wk.prototype.Ci=function(){return!1};wk.prototype.Rf=function(){return!1};function xk(a){xk.i.constructor.call(this,a);this.type|=4194304;this.wm=!1;this.connection=null;this.Vb=this.Nf=0}H(xk,uk);
xk.prototype.Kj=function(a){return!!a.v||!!nb(a)};xk.prototype.measure=function(){for(var a=0,b=0,c=0,d=0,e;e=this.elements[d];d++)b+=e.width,e.type&8||(e.type&4096?c=Math.max(c,e.height):a=Math.max(a,e.height));this.width=Math.max(this.minWidth,b);this.height=Math.max(this.minHeight,a)+c;this.Nf=c;this.jc=this.width};xk.prototype.Ci=function(){return!1};xk.prototype.Rf=function(){return!1};
function yk(a,b,c){yk.i.constructor.call(this,a);this.type|=24;this.width=c;this.height=b;this.om=!1;this.jc=0;this.elements=[new tk(this.h,c)]}H(yk,uk);yk.prototype.measure=function(){};function zk(a){zk.i.constructor.call(this,a);this.type|=8388608;this.Yl=0}H(zk,uk);
zk.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,b=0,c;c=this.elements[b];b++)this.width+=c.width,c.type&128&&(c.type&512?a+=c.Ff:c.type&64&&0!=c.Ff&&(a+=c.Ff-c.nc)),c.type&8||(this.height=Math.max(this.height,c.height));this.Yl=a;this.jc=this.width+a};zk.prototype.Rf=function(){return!this.$c&&!this.Da};function Ak(a,b){this.V=b;this.ra=a;this.h=this.ra.D();this.v=b.v?new gk(this.h,b.v):null;this.Xe=Kf(b)&&!b.isCollapsed();this.isCollapsed=b.isCollapsed();this.Ab=b.Ab();this.u=b.u;this.ud=this.width=this.rf=this.height=0;this.rows=[];this.Fm=[];this.zm=[];this.Fa=new wk(this.h);this.pa=new xk(this.h);this.Bi=this.Rb=0}g=Ak.prototype;
g.measure=function(){var a=!!this.V.F,b=(this.V.tc?"cap"===this.V.tc:this.h.ll)&&!this.v&&!a,c=this.Fa.Kj(this.V)?rk:sk;this.Fa.elements.push(new c(this.h));b?(a=new qk(this.h),this.Fa.elements.push(a),this.Fa.Bc=a.De):a&&(this.Fa.op=!0,this.Fa.connection=new hk(this.h,this.V.F),this.Fa.elements.push(this.Fa.connection));this.V.A.length&&3==this.V.A[0].type&&!this.V.isCollapsed()?this.Fa.minHeight=this.h.Jo:this.Fa.minHeight=this.h.Io;c=rk;this.Fa.elements.push(new c(this.h,"right"));this.rows.push(this.Fa);
a=new zk(this.h);this.Fm.push(a);c=bg(this.V);b=0;for(var d;d=c[b];b++){var e=new nk(this.h,d);this.isCollapsed&&d.Gq?this.zm.push(e):a.elements.push(e)}d=null;for(b=0;c=this.V.A[b];b++)if(c.isVisible()){!d||3!=c.type&&3!=d.type&&(1!=c.type&&5!=c.type||this.Xe)||(this.rows.push(a),a=new zk(this.h),this.Fm.push(a));for(d=0;e=c.aa[d];d++)a.elements.push(new pk(this.h,e,c));this.Rl(c,a);d=c}this.isCollapsed&&(a.vm=!0,a.elements.push(new ok(this.h)));(a.elements.length||a.Te)&&this.rows.push(a);this.Fk();
this.rows.push(this.pa);this.Ql();a=this.rows;this.rows=[];for(b=0;b<a.length;b++)if(this.rows.push(a[b]),b!=a.length-1){c=this.rows;d=c.push;e=a[b];var f=a[b+1],h=new yk(this.h,this.sm(e,f),this.width-this.Rb);e.Da&&(h.om=!0);f.Da&&(h.Xq=!0);d.call(c,h)}for(d=c=b=a=0;e=this.rows[d];d++)e.measure(),b=Math.max(b,e.width),e.Da&&(a=Math.max(a,e.width-vk(e).width)),c=Math.max(c,e.jc);this.ud=a;this.width=b;for(d=0;e=this.rows[d];d++)e.Da&&(e.ud=this.ud);this.rf=Math.max(b,c);this.v&&(this.Rb=this.v.width,
this.width+=this.v.width,this.rf+=this.v.width);this.Ri();this.lm()};g.Fk=function(){this.pa.wm=!!this.V.C;this.pa.minHeight=this.V.A.length&&3==this.V.A[this.V.A.length-1].type?this.h.Qn:this.h.Rn;this.pa.Kj(this.V)?this.pa.elements.push(new rk(this.h)):this.pa.elements.push(new sk(this.h));this.pa.wm&&(this.pa.connection=new ik(this.h,this.V.C),this.pa.elements.push(this.pa.connection));this.pa.elements.push(new rk(this.h,"right"))};
g.Rl=function(a,b){this.Xe&&1==a.type?(b.elements.push(new kk(this.h,a)),b.Jj=!0):3==a.type?(b.elements.push(new lk(this.h,a)),b.Da=!0):1==a.type?(b.elements.push(new mk(this.h,a)),b.$c=!0):5==a.type&&(b.minHeight=Math.max(b.minHeight,a.B()&&a.B().T?this.h.Wn:this.h.ol),b.Te=!0);null==b.align&&(b.align=a.align)};
g.Ql=function(){for(var a=0,b;b=this.rows[a];a++){var c=b.elements;b.elements=[];b.Ci()&&b.elements.push(new tk(this.h,this.Jd(null,c[0])));if(c.length){for(var d=0;d<c.length-1;d++)b.elements.push(c[d]),b.elements.push(new tk(this.h,this.Jd(c[d],c[d+1])));b.elements.push(c[c.length-1]);b.Rf()&&b.elements.push(new tk(this.h,this.Jd(c[c.length-1],null)))}}};
g.Jd=function(a,b){if(!a&&b&&b.type&512)return this.h.Ll;if(a&&a.type&128&&!b){if(a.type&64)return this.h.lc;if(a.type&256)return this.h.$a;if(a.type&512)return this.h.lc}return a&&a.type&32768&&b&&(b.type&2048||b.type&4096)?b.Nb:a&&a.type&65536&&b&&(b.type&2048||b.type&4096)?b.Nb-this.h.oa:this.h.Fb};g.Ri=function(){for(var a=0,b;b=this.rows[a];a++)if(b.Da)Bk(this,b);else{var c=this.Xf(b)-b.width;0<c&&Ck(b,c);b.type&6291456&&(b.jc=b.width)}};g.Xf=function(){return this.width-this.Rb};
function Ck(a,b){a:{var c=0;for(var d;d=a.elements[c];c++)if(d.type&8){c=d;break a}c=null}a:{d=a.elements.length-1;for(var e;e=a.elements[d];d--)if(e.type&8){d=e;break a}d=null}if(a.$c||a.Da)a.jc+=b;-1==a.align?d.width+=b:0==a.align?(c.width+=b/2,d.width+=b/2):1==a.align?c.width+=b:d.width+=b;a.width+=b}function Bk(a,b){var c=vk(b),d=b.width-c.width,e=a.ud;d=e-d;0<d&&Ck(b,d);d=b.width;e=a.Xf(b);c.width+=e-d;c.height=Math.max(c.height,b.height);b.width+=e-d;b.jc=Math.max(b.width,a.ud+b.Yl)}g.sm=function(){return this.h.Fb};
g.qm=function(a,b){return b.type&8?a.Ha+b.height/2:a.type&4194304?(a=a.Ha+a.height-a.Nf,b.type&4096?a+b.height/2:a-b.height/2):a.type&2097152?b.type&2?a.Bc-b.height/2:a.Bc+b.height/2:a.Ha+a.height/2};function Dk(a,b){for(var c=b.S,d=0,e;e=b.elements[d];d++)e.type&8&&(e.height=b.height),e.S=c,e.Fe=a.qm(b,e),c+=e.width}
g.lm=function(){for(var a=0,b=0,c=0,d;d=this.rows[c];c++)d.Ha=b,d.S=this.Rb,b+=d.height,a=Math.max(a,d.jc),Dk(this,d);this.v&&this.V.C&&this.V.C.isConnected()&&(a=Math.max(a,dg(this.V.C.H()).width));this.rf=a+this.Rb;this.height=b;this.Bi=this.Fa.Bc;this.pa.Vb=b-this.pa.Nf};function Ek(a,b){this.V=a;this.I=b;a.ga();this.Nh=this.U="";this.h=b.ra.D()}g=Ek.prototype;g.Zb=function(){Fk(this);Gk(this);Hk(this);this.V.ua.Wk(this.U+"\n"+this.Nh);this.I.u&&this.V.ua.Aj();Ik(this)};function Ik(a){a.V.height=a.I.height;a.V.width=a.I.rf}function Fk(a){for(var b=0,c;c=a.I.zm[b];b++)c.icon.rp.setAttribute("display","none")}function Gk(a){a.sj();for(var b=1;b<a.I.rows.length-1;b++){var c=a.I.rows[b];c.vm?a.Pf(c):c.Da?a.rj(c):c.$c?a.tj(c):a.im(c)}a.oj();a.qj()}
g.sj=function(){var a=this.I.Fa,b=a.elements,c=this.I.Fa;if(c.connection){var d=c.S+c.Nb;Dh(c.connection.bb,this.I.u?-d:d,0)}this.U+=M(a.S,this.I.Bi);for(c=0;d=b[c];c++)d.type&65536?this.U+=this.h.xf.hl:d.type&262144?this.U+=this.h.xf.Xp:d.type&2048?this.U+=d.shape.nd:d.type&2?this.U+=this.h.ye.path:d.type&8&&(this.U+=N("h",d.width));this.U+=N("v",a.height)};g.Pf=function(a){this.U+=this.h.ue.path+N("v",a.height-this.h.ue.height)};
g.tj=function(a){var b=vk(a);this.nn(a);var c="function"==typeof b.shape.Ob?b.shape.Ob(b.height):b.shape.Ob;this.U+=N("H",b.S+b.width)+c+N("v",a.height-b.Ie)};g.rj=function(a){var b=vk(a);this.U+=N("H",b.S+b.Nb+b.shape.width)+(b.shape.hn+N("h",-(b.Nb-this.h.Zg.width))+this.h.Zg.Dk)+N("v",a.height-2*this.h.Zg.height)+this.h.Zg.ki+N("H",a.S+a.width);this.qn(a)};g.im=function(a){this.U+=N("V",a.Ha+a.height)};
g.oj=function(){var a=this.I.pa,b=a.elements;this.pn();for(var c=0,d="",e=b.length-1,f;f=b[e];e--)f.type&4096?d+=f.shape.hn:f.type&32768?d+=N("H",a.S):f.type&65536?d+=this.h.xf.Xi:f.type&262144?(d+=this.h.xf.No,c=this.h.xf.Kp):f.type&8&&(d+=N("h",-1*f.width));this.U+=N("V",a.Vb-c);this.U+=d};
g.qj=function(){var a=this.I.v;if(this.I.v){var b=this.I.Rb+this.I.v.Gf;Dh(this.V.v,this.I.u?-b:b,this.I.v.wb)}a&&(b=a.wb+a.height,a="function"==typeof a.shape.sg?a.shape.sg(a.height):a.shape.sg,this.U+=N("V",b)+a);this.U+="z"};
function Hk(a){for(var b=0,c;c=a.I.rows[b];b++)for(var d=0,e;e=c.elements[d];d++)if(e.type&256)a.pj(e);else if(e.type&4||e.type&1){var f=a;if(e.type&1)var h=e.km.J();else e.type&4&&(h=e.icon.rp);var k=e.Fe-e.height/2,l=e.S,m="";f.I.u&&(l=-(l+e.width),e.$o&&(l+=e.width,m="scale(-1 1)"));e.type&4?(h.setAttribute("display","block"),h.setAttribute("transform","translate("+l+","+k+")"),e.icon.Qo()):h.setAttribute("transform","translate("+l+","+k+")"+m);f.I.Ab&&h.setAttribute("display","none")}}
g.pj=function(a){var b=a.height,c=a.wb;this.Nh+=Zj(a.S+a.nc,a.Fe-b/2)+N("v",c)+a.shape.Ob+N("v",b-(a.Ie+c))+N("h",a.width-a.nc)+N("v",-b)+"z";this.on(a)};g.on=function(a){var b=a.Fe-a.height/2;if(a.bb){var c=a.S+a.nc+a.Gf;this.I.u&&(c*=-1);Dh(a.bb,c,b+a.wb)}};g.qn=function(a){var b=vk(a);if(b.bb){var c=a.S+a.ud+b.Nb;this.I.u&&(c*=-1);Dh(b.bb,c,a.Ha)}};g.nn=function(a){var b=vk(a);if(b.bb){var c=a.S+a.width;this.I.u&&(c*=-1);Dh(b.bb,c,a.Ha)}};
g.pn=function(){var a=this.I.pa;if(a.connection){var b=a.connection,c=b.S;Dh(b.bb,this.I.u?-c:c,a.Vb)}};function Jk(a,b,c,d){var e=a?a.j.id:void 0;d&&"workspace"==d.getType()&&(e=d.O.id);Jk.i.constructor.call(this,e);this.la=a?a.id:null;this.Zm=c;this.Vm=d;this.wc=b}H(Jk,Nd);Jk.prototype.type="marker_move";Jk.prototype.R=function(){var a=Jk.i.R.call(this);a.isCursor=this.wc;a.blockId=this.la;a.oldNode=this.Zm;a.newNode=this.Vm;return a};Jk.prototype.M=function(a){Jk.i.M.call(this,a);this.wc=a.isCursor;this.la=a.blockId;this.Zm=a.oldNode;this.Vm=a.newNode};B(Lc,"marker_move",Jk);function ui(a,b,c){this.g=a;this.gk=c;this.rg=null;this.h=b;this.Ke=null;a=this.wc()?this.h.ml:this.h.yl;this.Gb=c.bj||a}g=ui.prototype;g.J=function(){return this.s};g.Yf=function(){return this.gk};g.wc=function(){return"cursor"==this.gk.type};
g.xa=function(){var a=this.wc()?"blocklyCursor":"blocklyMarker";this.s=z(Vb,{"class":a},null);this.Mc=z(Vb,{width:this.h.Wg,height:this.h.Nl},this.s);this.fd=z($b,{width:this.h.Wg,height:this.h.Nl,style:"display: none"},this.Mc);this.Yd=z($b,{"class":"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.Mc);this.Xd=z(Yb,{transform:"",style:"display: none"},this.Mc);this.Lc=z(Yb,{transform:"",style:"display: none",fill:"none","stroke-width":this.h.Vn},this.Mc);this.wc()&&(a={attributeType:"XML",
attributeName:"fill",dur:"1s",values:this.Gb+";transparent;transparent;",repeatCount:"indefinite"},z(Mb,a,this.fd),z(Mb,a,this.Xd),a.attributeName="stroke",z(Mb,a,this.Lc));return this.s};function Kk(a,b){a.wc()?(a.rg&&a.rg.Oc(null),b.Oc(a.J())):(a.rg&&a.rg.sd(null),b.sd(a.J()));a.rg=b}
g.Zb=function(a,b){if(b){this.h=this.g.ra.D();var c=this.wc()?this.h.ml:this.h.yl;this.Gb=this.gk.bj||c;this.fd.setAttribute("fill",this.Gb);this.Yd.setAttribute("stroke",this.Gb);this.Xd.setAttribute("fill",this.Gb);this.Lc.setAttribute("stroke",this.Gb);this.wc()&&(c=this.Gb+";transparent;transparent;",this.fd.firstChild.setAttribute("values",c),this.Xd.firstChild.setAttribute("values",c),this.Lc.firstChild.setAttribute("values",c));c=b.O.type;if("block"==b.getType())Lk(this,b);else if("output"==
b.getType())Lk(this,b);else if(1==c){var d=b.O;c=d.B();var e=d.ce.x,f=d.ce.y;d=Zj(0,0)+Zf(this.h,d).Ob;this.Xd.setAttribute("d",d);this.Xd.setAttribute("transform","translate("+e+","+f+")"+(this.g.u?" scale(-1 1)":""));this.Ke=this.Xd;Kk(this,c);Mk(this)}else if(3==c)f=b.O,c=f.B(),e=0,f=f.ce.y,d=dg(c).width,this.g.u&&(e=-d),Nk(this,e,f,d),Kk(this,c),Mk(this);else if("previous"==b.getType())Lk(this,b);else if("field"==b.getType())c=b.O,e=c.Zf().width,f=c.Zf().height,Ok(this,0,0,e,f),Kk(this,c),Mk(this);
else if("workspace"==b.getType())e=b.Mn,c=e.x,e=e.y,this.g.u&&(c-=this.h.Wg),Nk(this,c,e,this.h.Wg),Kk(this,this.g),Mk(this);else if("stack"==b.getType()){c=b.O;f=dg(c);e=f.width+this.h.Vg;f=f.height+this.h.Vg;var h=d=-this.h.Vg/2,k=-this.h.Vg/2;this.g.u&&(h=-(e+d));Ok(this,h,k,e,f);Kk(this,c);Mk(this)}c=b.B();a=new (G("marker_move"))(c,this.wc(),a,b);D(a);a=this.Ke.childNodes[0];void 0!==a&&a.beginElement&&a.beginElement()}else this.pb()};
function Lk(a,b){b=b.B();var c=b.width,d=b.height,e=.75*d,f=a.h.Un;if(b.F){var h=Zf(a.h,b.F);a.Lc.setAttribute("d",M(-f,e)+N("V",-f)+N("H",a.h.wf)+h.nd+N("H",c+2*f)+N("V",e))}else b.v?(h=Zf(a.h,b.v),a.Lc.setAttribute("d",M(c,0)+N("h",-(c-h.width))+N("v",a.h.ze)+h.Ob+N("V",d)+N("H",c))):a.Lc.setAttribute("d",M(-f,e)+N("V",-f)+N("H",c+2*f)+N("V",e));a.g.u&&a.Uf(a.Lc);a.Ke=a.Lc;Kk(a,b);Mk(a)}function Mk(a){a.pb();a.Ke.style.display=""}
function Nk(a,b,c,d){a.fd.setAttribute("x",b);a.fd.setAttribute("y",c);a.fd.setAttribute("width",d);a.Ke=a.fd}function Ok(a,b,c,d,e){a.Yd.setAttribute("x",b);a.Yd.setAttribute("y",c);a.Yd.setAttribute("width",d);a.Yd.setAttribute("height",e);a.Ke=a.Yd}g.Uf=function(a){a.setAttribute("transform","scale(-1 1)")};g.pb=function(){this.fd.style.display="none";this.Yd.style.display="none";this.Xd.style.display="none";this.Lc.style.display="none"};g.m=function(){this.s&&ic(this.s)};function Pk(a,b,c){this.Hf=c;this.Ac=a;this.Ea=z(Yb,{"class":"blocklyPath"},this.Ac);this.style=b;this.fk=this.Lf=null}g=Pk.prototype;g.Wk=function(a){this.Ea.setAttribute("d",a)};g.Aj=function(){this.Ea.setAttribute("transform","scale(-1 1)")};g.Oc=function(a){a?(this.Ac.appendChild(a),this.Lf=a):this.Lf=null};g.sd=function(a){a?(this.Lf?this.Ac.insertBefore(a,this.Lf):this.Ac.appendChild(a),this.fk=a):this.fk=null};
g.Ka=function(a){this.Ea.setAttribute("stroke",this.style.He);this.Ea.setAttribute("fill",this.style.Ed);this.Dn(a.T);this.il(!a.isEnabled()||ih(a))};g.ke=function(a){this.style=a};function Yf(a,b,c){c?A(a.Ac,b):gc(a.Ac,b)}g.Cn=function(a){a?this.Ea.setAttribute("filter","url(#"+this.Hf.uj+")"):this.Ea.setAttribute("filter","none")};g.Dn=function(a){a&&(this.Ea.setAttribute("stroke","none"),this.Ea.setAttribute("fill",this.style.qh))};
g.il=function(a){Yf(this,"blocklyDisabled",a);a&&this.Ea.setAttribute("fill","url(#"+this.Hf.hm+")")};function Qk(a){this.name=a;this.Bk=this.h=null}g=Qk.prototype;g.$b=function(){return this.name+"-renderer"};g.ba=function(a,b){this.h=this.ak();b&&(this.Bk=b,ed(this.h,b));this.h.Cg(a);this.h.ba()};g.xa=function(a,b){this.h.xa(a,this.name+"-"+b.name,"."+this.$b()+"."+b.$b())};g.Jk=function(a,b){var c=this.D();c.m();this.h=this.ak();this.Bk&&ed(this.h,this.Bk);this.h.oi=c.oi;this.h.Cg(b);this.h.ba();this.xa(a,b)};g.m=function(){this.h&&this.h.m()};g.ak=function(){return new ck};
g.Pm=function(a){return new Ak(this,a)};g.Nm=function(a,b){return new Ek(a,b)};g.Om=function(a,b){return new Pk(a,b,this.h)};g.D=function(){return this.h};g.W=function(a){var b=this.Pm(a);b.measure();this.Nm(a,b).Zb()};function Rk(){Rk.i.constructor.call(this);this.Ki=!1;this.Ia=1;this.vo=30;this.Kl=-this.Li/2}H(Rk,ck);Rk.prototype.Cj=function(a){return Rk.i.Cj.call(this,a).concat([a+" .blocklyInsertionMarker>.blocklyPathLight,",a+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.wl+";","stroke: none;","}"])};function Sk(a){this.I=a;this.eg=this.G="";this.Ja=this.I.u;a=a.ra;this.h=a.D();this.xb=a.xb;this.qb=this.xb.OFFSET;this.Ak=this.xb.Ao;this.We=this.xb.qo;this.ug=this.xb.Mi;this.Ap=this.xb.xe;this.Qp=this.xb.ye;this.Jm=this.xb.ue}Sk.prototype.Pf=function(a){this.I.u&&(this.G+=this.Jm.nd+N("v",a.height-this.Jm.height-this.qb))};function Tk(a,b){var c=b.S+b.width-a.qb;b.om&&(a.G+=N("H",c));a.Ja&&(a.G+=N("H",c),b.height>a.qb&&(a.G+=N("V",b.Ha+b.height-a.qb)))};function Uk(a,b){Uk.i.constructor.call(this,a,b);this.Vc&&(this.width+=this.h.Ia,this.height+=this.h.Ia)}H(Uk,kk);function Vk(a,b){Vk.i.constructor.call(this,a,b);this.Vc&&(this.height+=this.h.Ia)}H(Vk,lk);function Wk(a,b){Wk.i.constructor.call(this,a,b)}H(Wk,Ak);g=Wk.prototype;g.Fk=function(){Wk.i.Fk.call(this);this.V.A.length&&3==this.V.A[this.V.A.length-1].type||(this.pa.minHeight=this.h.Fb-this.h.Ia)};g.Rl=function(a,b){this.Xe&&1==a.type?(b.elements.push(new Uk(this.h,a)),b.Jj=!0):3==a.type?(b.elements.push(new Vk(this.h,a)),b.Da=!0):1==a.type?(b.elements.push(new mk(this.h,a)),b.$c=!0):5==a.type&&(b.minHeight=Math.max(b.minHeight,this.h.ol),b.Te=!0);this.Xe||null!=b.align||(b.align=a.align)};
g.Ql=function(){for(var a=!1,b=0,c;c=this.rows[b];b++)c.$c&&(a=!0);for(b=0;c=this.rows[b];b++){var d=c.elements;c.elements=[];c.Ci()&&c.elements.push(new tk(this.h,this.Jd(null,d[0])));if(d.length){for(var e=0;e<d.length-1;e++){c.elements.push(d[e]);var f=this.Jd(d[e],d[e+1]);c.elements.push(new tk(this.h,f))}c.elements.push(d[d.length-1]);c.Rf()&&(f=this.Jd(d[d.length-1],null),a&&c.Te&&(f+=this.h.ih),c.elements.push(new tk(this.h,f)))}}};
g.Jd=function(a,b){if(!a)return b&&b.type&1&&b.Mb?this.h.Fb:b&&b.type&256?this.h.Al:b&&b.type&512?this.h.Ll:this.h.$a;if(!(a.type&128)&&(!b||b.type&512))return a.type&1&&a.Mb?this.h.Fb:a.type&4?2*this.h.$a+1:a.type&2?this.h.lc:a.type&6144?this.h.$a:a.type&65536?this.h.wo:a.type&524288?this.h.lc:this.h.$a;if(a.type&128&&!b){if(a.type&64)return this.h.lc;if(a.type&256)return this.h.$a;if(a.type&512)return this.h.lc}if(!(a.type&128)&&b&&b.type&128){if(a.type&1&&a.Mb){if(b.type&256||b.type&64)return this.h.Do}else{if(b.type&
256||b.type&64)return this.h.Al;if(b.type&512)return this.h.$a}return this.h.$a-1}if(a.type&4&&b&&!(b.type&128))return this.h.$a;if(a.type&256&&b&&b.type&1)return b.Mb?this.h.Fb:this.h.$a;if(a.type&32768&&b){if(b.type&2)return this.h.lc;if(b.type&2048)return b.Nb;if(b.type&4096)return a=(this.u?1:-1)*this.h.Ia/2,b.Nb+a}if(a.type&65536&&b){if(b.type&2048)return b.Nb-this.h.oa;if(b.type&4096)return a=(this.u?1:-1)*this.h.Ia/2,b.Nb-this.h.oa+a}return a.type&1&&b&&b.type&1&&a.Mb==b.Mb||b&&b.type&524288?
this.h.$a:this.h.Fb};g.sm=function(a,b){return a.type&2097152&&b.type&4194304?this.h.Xn:a.type&2097152||b.type&4194304?this.h.lc:a.$c&&b.$c?this.h.$a:!a.Da&&b.Da?this.h.Pn:a.Da&&b.Da||!a.Da&&b.Te||a.Te?this.h.$a:this.h.Fb};
g.qm=function(a,b){if(b.type&8)return a.Ha+b.height/2;if(a.type&4194304)return a=a.Ha+a.height-a.Nf,b.type&4096?a+b.height/2:a-b.height/2;if(a.type&2097152)return b.type&2?a.Bc-b.height/2:a.Bc+b.height/2;var c=a.Ha;b.type&1||b.type&4?(c+=b.height/2,(a.Jj||a.Da)&&b.height+this.h.Ml<=a.height&&(c+=this.h.Ml)):c=b.type&256?c+b.height/2:c+a.height/2;return c};
g.Ri=function(){if(this.Xe){for(var a=0,b=null,c=this.rows.length-1,d;d=this.rows[c];c--)d.mk=a,d.type&8388608&&(d.Da&&Bk(this,d),b&&b.Da&&d.width<b.width?d.mk=b.width:a=d.width,b=d);for(c=a=0;d=this.rows[c];c++)d.Da?a=this.Xf(d):d.type&8?d.width=Math.max(a,d.mk):(a=Math.max(a,d.mk)-d.width,0<a&&Ck(d,a),a=d.width)}else Wk.i.Ri.call(this)};g.Xf=function(a){return this.Xe&&a.Da?this.ud+this.h.vo+this.Rb:Wk.i.Xf.call(this,a)};
g.lm=function(){for(var a=0,b=0,c=0,d;d=this.rows[c];c++){d.Ha=b;d.S=this.Rb;b+=d.height;a=Math.max(a,d.jc);var e=b-this.Fa.De;d==this.pa&&e<this.h.ah&&(e=this.h.ah-e,this.pa.height+=e,b+=e);Dk(this,d)}this.v&&this.V.C&&this.V.C.isConnected()&&(a=Math.max(a,dg(this.V.C.H()).width-this.h.Ia));this.pa.Vb=b-this.pa.Nf;this.rf=a+this.Rb+this.h.Ia;this.width+=this.h.Ia;this.height=b+this.h.Ia;this.Bi=this.Fa.Bc};function Xk(a,b){Xk.i.constructor.call(this,a,b);this.uc=new Sk(b)}H(Xk,Ek);g=Xk.prototype;g.Zb=function(){Fk(this);Gk(this);Hk(this);var a=this.V.ua;a.Wk(this.U+"\n"+this.Nh);var b=this.uc;a.le.setAttribute("d",b.G+"\n"+b.eg);this.I.u&&a.Aj();Ik(this)};
g.sj=function(){var a=this.uc,b=this.I.Fa;a.G+=M(b.S,a.I.Bi);for(var c=0,d;d=b.elements[c];c++)d.type&32768?a.G+=a.xb.Jl:d.type&65536?a.G+=a.Ak.hl(a.Ja):d.type&2048?a.G+=a.Ap.nd:d.type&2?a.G+=a.Qp.path(a.Ja):d.type&8&&0!=d.width&&(a.G+=N("H",d.S+d.width-a.qb));a.G+=N("H",b.S+b.width-a.qb);Tk(this.uc,this.I.Fa);Xk.i.sj.call(this)};g.Pf=function(a){this.uc.Pf(a);Xk.i.Pf.call(this,a)};
g.tj=function(a){var b=this.uc,c=vk(a);if(b.Ja){var d=a.height-c.Ie;b.G+=Zj(c.S+c.width-b.qb,a.Ha)+b.ug.Ob(b.Ja)+N("v",d)}else b.G+=Zj(c.S+c.width,a.Ha)+b.ug.Ob(b.Ja);Xk.i.tj.call(this,a)};g.rj=function(a){var b=this.uc,c=vk(a);if(b.Ja){var d=a.height-2*b.We.height;b.G+=Zj(c.S,a.Ha)+b.We.Dk(b.Ja)+N("v",d)+b.We.ki(b.Ja)+ak(a.width-c.S-b.We.width,0)}else b.G+=Zj(c.S,a.Ha+a.height)+b.We.ki(b.Ja)+ak(a.width-c.S-b.We.width,0);Xk.i.rj.call(this,a)};
g.im=function(a){Tk(this.uc,a);this.U+=N("H",a.S+a.width)+N("V",a.Ha+a.height)};g.oj=function(){var a=this.uc,b=this.I.pa;if(a.Ja)a.G+=N("V",b.Vb-a.qb);else{var c=a.I.pa.elements[0];c.type&32768?a.G+=Zj(b.S+a.qb,b.Vb-a.qb):c.type&65536&&(a.G+=Zj(b.S,b.Vb),a.G+=a.Ak.Xi())}Xk.i.oj.call(this)};
g.qj=function(){var a=this.uc,b=a.I.v;b&&(b=b.wb+b.height,a.Ja?a.G+=Zj(a.I.Rb,b):(a.G+=Zj(a.I.Rb+a.qb,a.I.pa.Vb-a.qb),a.G+=N("V",b)),a.G+=a.ug.sg(a.Ja));a.Ja||(b=a.I.Fa,a.G=b.elements[0].type&65536?a.G+N("V",a.Ak.height):a.G+N("V",b.Bc+a.qb));Xk.i.qj.call(this)};
g.pj=function(a){var b=this.uc,c=b.qb,d=a.S+a.nc,e=a.Fe-a.height/2,f=a.width-a.nc,h=e+c;b.Ja?(e=a.height-(a.wb+a.Ie)+c,b.eg+=Zj(d-c,h)+N("v",a.wb-c)+b.ug.Ob(b.Ja)+N("v",e)+N("h",f)):b.eg+=Zj(a.S+a.width+c,h)+N("v",a.height)+N("h",-f)+Zj(d,e+a.wb)+b.ug.Ob(b.Ja);Xk.i.pj.call(this,a)};g.on=function(a){var b=a.Fe-a.height/2;if(a.bb){var c=a.S+a.nc+this.h.Ia;this.I.u&&(c*=-1);Dh(a.bb,c,b+a.wb+this.h.Ia)}};
g.qn=function(a){var b=vk(a);if(b.bb){var c=a.S+a.ud+b.Nb;c=this.I.u?-1*c:c+this.h.Ia;Dh(b.bb,c,a.Ha+this.h.Ia)}};g.nn=function(a){var b=vk(a);if(b.bb){var c=a.S+a.width+this.h.Ia;this.I.u&&(c*=-1);Dh(b.bb,c,a.Ha)}};g.pn=function(){var a=this.I.pa;if(a.connection){var b=a.connection,c=b.S;Dh(b.bb,(this.I.u?-c:c)+this.h.Ia/2,a.Vb+this.h.Ia)}};function Yk(a){this.Je=a;this.OFFSET=.5;this.Jl=M(this.OFFSET,this.OFFSET)}g=Yk.prototype;g.ba=function(){this.qo=Zk(this);this.Ao=$k(this);this.Mi=this.dk();this.xe=this.ck();this.ue=this.bk();this.ye=this.ek()};function Zk(a){var b=a.Je.oa;a=a.OFFSET;var c=(1-Math.SQRT1_2)*(b+a)-a,d=M(c,c)+bk("0 0,0",b,V(-c-a,b-c)),e=bk("0 0,0",b+a,V(b+a,b+a)),f=M(c,-c)+bk("0 0,0",b+a,V(b-c,c+a));return{width:b+a,height:b,Dk:function(h){return h?d:""},ki:function(h){return h?e:f}}}
function $k(a){var b=a.Je.oa;a=a.OFFSET;var c=(1-Math.SQRT1_2)*(b-a)+a,d=M(c,c)+bk("0 0,1",b-a,V(b-c,-c+a)),e=M(a,b)+bk("0 0,1",b-a,V(b,-b+a)),f=-c,h=M(c,f)+bk("0 0,1",b-a,V(-c+a,-f-b));return{height:b,hl:function(k){return k?d:e},Xi:function(){return h}}}
g.dk=function(){var a=this.Je.ih,b=this.Je.zf,c=M(-2,-b+3.4)+ak(-.45*a,-2.1),d=N("v",2.5)+M(.97*-a,2.5)+Yj("q",[V(.05*-a,10),V(.3*a,9.5)])+M(.67*a,-1.9)+N("v",2.5),e=N("v",-1.5)+M(-.92*a,-.5)+Yj("q",[V(-.19*a,-5.5),V(0,-11)])+M(.92*a,1),f=M(-5,b-.7)+ak(.46*a,-2.1);return{width:a,height:b,sg:function(h){return h?c:e},Ob:function(h){return h?d:f}}};g.ck=function(){return{nd:N("h",this.OFFSET)+this.Je.xe.nd}};g.bk=function(){return{nd:ak(5.1,2.6)+M(-10.2,6.8)+ak(5.1,2.6),height:12,width:10.2}};
g.ek=function(){var a=M(25,-8.7)+Yj("c",[V(29.7,-6.2),V(57.2,-.5),V(75,8.7)]),b=Yj("c",[V(17.8,-9.2),V(45.3,-14.9),V(75,-8.7)])+Zj(100.5,this.Je.ye.height+.5);return{path:function(c){return c?a:b}}};function al(a,b,c){this.Hf=c;this.Ac=a;this.Jg=z(Yb,{"class":"blocklyPathDark",transform:"translate(1,1)"},this.Ac);this.Ea=z(Yb,{"class":"blocklyPath"},this.Ac);this.le=z(Yb,{"class":"blocklyPathLight"},this.Ac);this.cj="#000000";this.style=b}H(al,Pk);g=al.prototype;g.Wk=function(a){this.Ea.setAttribute("d",a);this.Jg.setAttribute("d",a)};g.Aj=function(){this.Ea.setAttribute("transform","scale(-1 1)");this.le.setAttribute("transform","scale(-1 1)");this.Jg.setAttribute("transform","translate(1,1) scale(-1 1)")};
g.Ka=function(a){this.le.style.display="";this.Jg.style.display="";this.le.setAttribute("stroke",this.style.He);this.Jg.setAttribute("fill",this.cj);al.i.Ka.call(this,a);this.Ea.setAttribute("stroke","none")};g.ke=function(a){this.style=a;this.cj=ta("#000",this.style.Ed,.2)||this.cj};g.Cn=function(a){a?(this.Ea.setAttribute("filter","url(#"+this.Hf.uj+")"),this.le.style.display="none"):(this.Ea.setAttribute("filter","none"),this.le.style.display="inline")};
g.Dn=function(a){a&&(this.le.style.display="none",this.Jg.setAttribute("fill",this.style.qh),this.Ea.setAttribute("stroke","none"),this.Ea.setAttribute("fill",this.style.qh))};g.il=function(a){al.i.il.call(this,a);a&&this.Ea.setAttribute("stroke","none")};function bl(a){bl.i.constructor.call(this,a);this.xb=null}H(bl,Qk);g=bl.prototype;g.ba=function(a,b){bl.i.ba.call(this,a,b);this.xb=new Yk(this.D());this.xb.ba()};g.Jk=function(a,b){bl.i.Jk.call(this,a,b);this.xb.ba()};g.ak=function(){return new Rk};g.Pm=function(a){return new Wk(this,a)};g.Nm=function(a,b){return new Xk(a,b)};g.Om=function(a,b){return new al(a,b,this.D())};B(Nc,"geras",bl);(function(){var a={name:"escape",ya:function(b){return!b.options.readOnly},qa:function(){De();return!0}};Si.register(a);Q(27,a.name)})();(function(){var a={name:"delete",ya:function(b){return!b.options.readOnly&&L&&md(L)},qa:function(b,c){c.preventDefault();if(Eg())return!1;ej(L);return!0}};Si.register(a);Q(46,a.name);Q(8,a.name)})();
(function(){var a={name:"copy",ya:function(c){return!c.options.readOnly&&!Eg()&&L&&md(L)&&L.Sa()},qa:function(c,d){d.preventDefault();De();fj(L);return!0}};Si.register(a);var b=Ui(67,[17]);Q(b,a.name);b=Ui(67,[18]);Q(b,a.name);b=Ui(67,[91]);Q(b,a.name)})();(function(){var a={name:"cut",ya:function(c){return!c.options.readOnly&&!Eg()&&L&&md(L)&&L.Sa()&&!L.j.cd},qa:function(){fj(L);ej(L);return!0}};Si.register(a);var b=Ui(88,[17]);Q(b,a.name);b=Ui(88,[18]);Q(b,a.name);b=Ui(88,[91]);Q(b,a.name)})();
(function(){var a={name:"paste",ya:function(c){return!c.options.readOnly&&!Eg()},qa:function(){return gj()}};Si.register(a);var b=Ui(86,[17]);Q(b,a.name);b=Ui(86,[18]);Q(b,a.name);b=Ui(86,[91]);Q(b,a.name)})();(function(){var a={name:"undo",ya:function(c){return!c.options.readOnly&&!Eg()},qa:function(c){De();rf(c,!1);return!0}};Si.register(a);var b=Ui(90,[17]);Q(b,a.name);b=Ui(90,[18]);Q(b,a.name);b=Ui(90,[91]);Q(b,a.name)})();
(function(){var a={name:"redo",ya:function(c){return!Eg()&&!c.options.readOnly},qa:function(c){De();rf(c,!0);return!0}};Si.register(a);var b=Ui(90,[16,17]);Q(b,a.name);b=Ui(90,[16,18]);Q(b,a.name);b=Ui(90,[16,91]);Q(b,a.name);b=Ui(89,[17]);Q(b,a.name)})();var cl=null,dl=null,el=null;function fl(){var a=cl();gl("xml="+encodeURIComponent(a),hl)}var il=new Map;function gl(a,b){var c=void 0===c?"POST":c;il.has("/storage")&&il.get("/storage").abort();var d=new XMLHttpRequest;il.set("/storage",d);d.onload=function(){200===this.status?b&&b.call(d):jl(U("Games.httpRequestError",!1)+"\nXHR status: "+d.status);il.delete("/storage")};d.open(c,"/storage");"POST"===c&&d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");d.send(a)}
function hl(){window.location.hash=this.responseText.trim();jl(U("Games.linkAlert",!1).replace("%1",window.location.href));el=cl()}function kl(){var a=this.responseText.trim();a.length?dl(a):jl(U("Games.hashError",!1).replace("%1",window.location.hash));el=cl()}function jl(a){if("object"===typeof W){var b=S("linkButton");W.Tp(b,a)}else alert(a)};var J=null,ll="",ml="";function nl(){var a=U("Games.maze",!1);Oj(a);if(a=S("linkButton"))Lj?a.style.display="none":(cl=ol,dl=pl,Sj(a,fl));(a=S("languageMenu"))&&a.addEventListener("change",ql,!0)}
function rl(){var a='<xml><block movable="'+(1!==T)+'" type="maze_moveEast" x="70" y="70"></block></xml>';if(!Lj&&1<window.location.hash.length)gl("key="+encodeURIComponent(window.location.hash.substring(1)),kl);else{try{var b=window.sessionStorage.Zj}catch(d){}b&&delete window.sessionStorage.Zj;var c=Pj(T);(a=b||c||a)&&pl(a)}}function pl(a){a=od(a);J.clear();pd(a,J);a=J;a.ne.length=0;a=a.vg.length=0;for(var b;b=Yc[a];a++)b.Va=!1}
function ol(){var a=gd(!0);if(1===J.ta(!1).length&&a.querySelector){var b=a.querySelector("block");b&&(b.removeAttribute("x"),b.removeAttribute("y"))}return nd(a)}function sl(){null!==el&&el!==ol()&&(window.location.hash="",el=null)}function tl(){var a={maxBlocks:ul,rtl:Kj,trashcan:!0,zoom:{startScale:1+(1-T/10)/3}},b=S("toolbox");b&&(a.toolbox=b);a.media="third-party/blockly/media/";a.oneBasedIndex=!1;J=Ai("blockly",a);sf(J,sl)}function vl(){window.location=(Lj?"index.html":"./")+"?lang="+Ij}
function ql(){window.sessionStorage&&(window.sessionStorage.Zj=ol());var a=S("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var b=window.location.search;b=1>=b.length?"?lang="+a:/[?&]lang=[^&]*/.test(b)?b.replace(/([?&]lang=)[^&]*/,"$1"+a):b.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+b}
function wl(){10>T?location=location.protocol+"//"+location.host+location.pathname+"?lang="+Ij+"&level="+(T+1)+ml:vl()}function xl(a){if("click"===a.type&&"touchend"===yl&&zl+2E3>Date.now()||yl===a.type&&zl+400>Date.now())return a.preventDefault(),a.stopPropagation(),!0;yl=a.type;zl=Date.now();return!1}var yl=null,zl=0;var W={Rd:!1,em:null,xh:null,zh:null,Bh:null,Ah:null,Eg:function(a,b,c,d,e,f){function h(){if(W.Rd){m.style.visibility="visible";m.style.zIndex=10;n.style.visibility="hidden";var y=a.getElementsByClassName("primary");y.length||(y=a.getElementsByClassName("secondary"),y.length||(y=a.getElementsByTagName("button")));y.length&&y[0].focus()}}if(!a)throw TypeError("Content not found: "+a);for(var k=a.getElementsByClassName("addHideHandler"),l;l=k[0];)l.addEventListener("click",W.Md,!0),l.addEventListener("touchend",
W.Md,!0),l.classList.remove("addHideHandler");W.Rd&&W.Md(!1);Gc&&De(!0);W.Rd=!0;W.em=b;W.xh=f;var m=S("dialog");f=S("dialogShadow");var n=S("dialogBorder"),x;for(x in e)m.style[x]=e[x];d&&(f.style.visibility="visible",f.style.opacity=.3,f.style.zIndex=9,d=document.createElement("div"),d.id="dialogHeader",m.appendChild(d),W.zh=u(d,"mousedown",null,W.Vo));m.appendChild(a);a.classList.remove("dialogHiddenContent");try{b.blur()}catch(y){}c&&b?(W.Yh(b,!1,.2),W.Yh(m,!0,.8),setTimeout(h,175)):h()},fm:0,
gm:0,Vo:function(a){W.jj();if(!bb(a)){var b=S("dialog");W.fm=b.offsetLeft-a.clientX;W.gm=b.offsetTop-a.clientY;W.Bh=u(document,"mouseup",null,W.jj);W.Ah=u(document,"mousemove",null,W.Wo);a.stopPropagation()}},Wo:function(a){var b=S("dialog"),c=W.fm+a.clientX;a=W.gm+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-b.offsetHeight);c=Math.max(c,0);c=Math.min(c,window.innerWidth-b.offsetWidth);b.style.left=c+"px";b.style.top=a+"px"},jj:function(){W.Bh&&(v(W.Bh),W.Bh=null);W.Ah&&(v(W.Ah),W.Ah=
null)},Md:function(a){function b(){d.style.zIndex=-1;d.style.visibility="hidden";S("dialogBorder").style.visibility="hidden"}a=void 0===a?!0:a;if(W.Rd){W.jj();W.zh&&(v(W.zh),W.zh=null);W.Rd=!1;W.xh&&W.xh();W.xh=null;var c=a?W.em:null;a=S("dialog");var d=S("dialogShadow");d.style.opacity=0;c&&a?(W.Yh(a,!1,.8),W.Yh(c,!0,.2),setTimeout(b,175)):b();a.style.visibility="hidden";a.style.zIndex=-1;for((c=S("dialogHeader"))&&c.parentNode.removeChild(c);a.firstChild;)c=a.firstChild,c.classList.add("dialogHiddenContent"),
document.body.appendChild(c)}},Yh:function(a,b,c){function d(){e.style.width=f.width+"px";e.style.height=f.height+"px";e.style.left=f.x+"px";e.style.top=f.y+"px";e.style.opacity=c}if(a){var e=S("dialogBorder"),f=W.getBBox(a);b?(e.className="dialogAnimate",setTimeout(d,1)):(e.className="",d());e.style.visibility="visible"}},getBBox:function(a){var b=Ja(a);b={x:b.x,y:b.y};a.getBBox?(a=a.getBBox(),b.height=a.height,b.width=a.width):(b.height=a.offsetHeight,b.width=a.offsetWidth);return b},Tp:function(a,
b){var c=S("containerStorage");c.textContent="";b=ba(b.split("\n"));for(var d=b.next();!d.done;d=b.next()){var e=document.createElement("p");e.appendChild(document.createTextNode(d.value));c.appendChild(e)}c=S("dialogStorage");W.Eg(c,a,!0,!0,{width:"50%",left:"25%",top:"5em"},W.yn);W.vn()},Pl:function(){if(!Pj(T))if(W.Rd||J.yb())setTimeout(W.Pl,15E3);else{var a=S("dialogAbort"),b=S("abortOk");b.addEventListener("click",vl,!0);b.addEventListener("touchend",vl,!0);W.Eg(a,null,!1,!0,{width:"40%",left:"30%",
top:"3em"},function(){document.body.removeEventListener("keydown",W.Ol,!0)});document.body.addEventListener("keydown",W.Ol,!0)}},yh:function(a){!W.Rd||13!==a.keyCode&&27!==a.keyCode&&32!==a.keyCode||(W.Md(!0),a.stopPropagation(),a.preventDefault())},vn:function(){document.body.addEventListener("keydown",W.yh,!0)},yn:function(){document.body.removeEventListener("keydown",W.yh,!0)},Ol:function(a){W.yh(a);13!==a.keyCode&&32!==a.keyCode||vl()}};window.BlocklyDialogs=W;var Al="";function Bl(a){if(a){var b=a.match(/^block_id_([^']+)$/);b&&(a=b[1])}wi(a)}function Cl(a){a=a.replace(/(,\s*)?'block_id_[^']+'\)/g,")");return a.replace(/\s+$/,"")}function Dl(){setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="third-party/JS-Interpreter/compressed.js";document.head.appendChild(a)},1)}
function El(){setTimeout(function(){var a=document.createElement("link");a.rel="stylesheet";a.type="text/css";a.href="common/prettify.css";document.head.appendChild(a);a=document.createElement("script");a.type="text/javascript";a.src="common/prettify.js";document.head.appendChild(a)},1)}
function Fl(){var a=S("dialogDone");if(J){var b=S("dialogLinesText");b.textContent="";var c=Al;c=Cl(c);var d=c.replace(/\/\/[^\n]*/g,"");d=d.replace(/\/\*.*\*\//g,"");d=d.replace(/[ \t]+\n/g,"\n");d=d.replace(/\n+/g,"\n");d=d.trim();d=d.split("\n").length;var e=S("containerCode");e.textContent=c;"function"===typeof prettyPrintOne&&(c=e.innerHTML,c=prettyPrintOne(c,"js"),e.innerHTML=c);c=1===d?U("Games.linesOfCode1",!1):U("Games.linesOfCode2",!1).replace("%1",String(d));b.appendChild(document.createTextNode(c))}b=
10>T?U("Games.nextLevel",!1).replace("%1",String(T+1)):U("Games.finalLevel",!1);c=S("doneOk");c.addEventListener("click",wl,!0);c.addEventListener("touchend",wl,!0);W.Eg(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",Gl,!0)});document.body.addEventListener("keydown",Gl,!0);S("dialogDoneText").textContent=b}function Gl(a){W.yh(a);13!==a.keyCode&&32!==a.keyCode||wl()};function Hl(a,b,c,d,e,f,h){if(!a)throw Error("Src value of an image field is required");a=eb(a);c=Number(eb(c));b=Number(eb(b));if(isNaN(c)||isNaN(b))throw Error("Height and width values of an image field must cast to numbers.");if(0>=c||0>=b)throw Error("Height and width values of an image field must be greater than 0.");this.Uf=!1;this.lh="";Hl.i.constructor.call(this,a,null,h);h||(this.Uf=!!f,this.lh=eb(d)||"");this.Xa=new Ga(b,c+Il);this.sp=c;this.Dc=null;"function"==typeof e&&(this.Dc=e);this.gb=
null}H(Hl,Rg);Hl.prototype.Ji="";Hl.M=function(a){return new Hl(a.src,a.width,a.height,void 0,void 0,void 0,a)};var Il=1;g=Hl.prototype;g.sf=!1;g.bd=!1;g.Ef=function(a){Hl.i.Ef.call(this,a);this.Uf=!!a.flipRtl;this.lh=eb(a.alt)||""};g.Mh=function(){this.gb=z(Wb,{height:this.sp+"px",width:this.Xa.width+"px",alt:this.lh},this.ob);this.gb.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.sb);this.Dc&&(this.gb.style.cursor="pointer")};g.En=function(){};
g.Ch=function(a){return"string"!=typeof a?null:a};g.Of=function(a){this.sb=a;this.gb&&this.gb.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",String(this.sb))};g.rm=function(){return this.Uf};g.zi=function(){this.Dc&&this.Dc(this)};g.Gj=function(){return this.lh};B(Mc,"field_image",Hl);function Jl(){var a=[[U("Maze.turnLeft",!1),"moveWest"],[U("Maze.turnRight",!1),"moveEast"]],b=[[U("Maze.pathAhead",!1),"isPathForward"],[U("Maze.pathLeft",!1),"isPathLeft"],[U("Maze.pathRight",!1),"isPathRight"]];Hf("maze_turn_arrows",function(){var c=mj(zd(this,"DIR"));c[c.length-2][0]+=" \u21ba";c[c.length-1][0]+=" \u21bb"});jj([{type:"maze_moveForward",message0:U("Maze.moveForward",!1),previousStatement:null,nextStatement:null,colour:188,tooltip:U("Maze.moveForwardTooltip",!1)},{type:"maze_moveEast",
message0:U("Maze.moveEast",!1)+" %1",args0:[{type:"field_image",src:"maze/moveright.png",width:24,height:24}],previousStatement:null,colour:120,tooltip:U("Maze.whileTooltip",!1),previousStatement:null,nextStatement:null,colour:188,tooltip:U("Maze.moveEastTooltip",!1)},{type:"maze_moveWest",message0:U("Maze.moveWest",!1)+" %1",args0:[{type:"field_image",src:"maze/moveleft.png",width:24,height:24}],previousStatement:null,nextStatement:null,colour:188,tooltip:U("Maze.moveWestTooltip",!1)},{type:"maze_moveNorth",
message0:U("Maze.moveNorth",!1)+" %1",args0:[{type:"field_image",src:"maze/moveup.png",width:24,height:24}],previousStatement:null,nextStatement:null,colour:188,tooltip:U("Maze.moveNorthTooltip",!1)},{type:"maze_moveSouth",message0:U("Maze.moveSouth",!1)+" %1",args0:[{type:"field_image",src:"maze/movedown.png",width:24,height:24}],previousStatement:null,nextStatement:null,colour:188,tooltip:U("Maze.moveSouthTooltip",!1)},{type:"maze_skipBlock",message0:U("Maze.skipBlock",!1),previousStatement:null,
nextStatement:null,colour:188,tooltip:U("Maze.skipBlockTooltip",!1)},{type:"maze_turn",message0:"%1",args0:[{type:"field_dropdown",name:"DIR",options:a}],previousStatement:null,nextStatement:null,colour:188,tooltip:U("Maze.turnTooltip",!1),extensions:["maze_turn_arrows"]},{type:"maze_if",message0:"%1%2"+U("Maze.doCode",!1)+"%3",args0:[{type:"field_dropdown",name:"DIR",options:b},{type:"input_dummy"},{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:210,tooltip:U("Maze.ifTooltip",
!1),extensions:["maze_turn_arrows"]},{type:"maze_ifElse",message0:"%1%2"+U("Maze.doCode",!1)+"%3"+U("Maze.elseCode",!1)+"%4",args0:[{type:"field_dropdown",name:"DIR",options:b},{type:"input_dummy"},{type:"input_statement",name:"DO"},{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,colour:210,tooltip:U("Maze.ifelseTooltip",!1),extensions:["maze_turn_arrows"]},{type:"maze_forever",message0:U("Maze.repeatUntil",!1)+"%1%2"+U("Maze.doCode",!1)+"%3",args0:[{type:"field_image",
src:"maze/marker.png",width:12,height:16},{type:"input_dummy"},{type:"input_statement",name:"DO"}],previousStatement:null,colour:120,tooltip:U("Maze.whileTooltip",!1)}])}R.maze_moveForward=function(a){return"moveForward('block_id_"+a.id+"');\n"};R.maze_moveEast=function(a){return"moveEast('block_id_"+a.id+"');\n"};R.maze_moveWest=function(a){return"moveWest('block_id_"+a.id+"');\n"};R.maze_moveNorth=function(a){return"moveNorth('block_id_"+a.id+"');\n"};
R.maze_moveSouth=function(a){return"moveSouth('block_id_"+a.id+"');\n"};R.maze_skipBlock=function(a){return"skipBlock('block_id_"+a.id+"');\n"};R.maze_turn=function(a){return hf(a,"DIR")+"('block_id_"+a.id+"');\n"};R.maze_if=function(a){var b=hf(a,"DIR")+"('block_id_"+a.id+"')";a=tj(a,"DO");return"if ("+b+") {\n"+a+"}\n"};R.maze_ifElse=function(a){var b=hf(a,"DIR")+"('block_id_"+a.id+"')",c=tj(a,"DO");a=tj(a,"ELSE");return"if ("+b+") {\n"+c+"} else {\n"+a+"}\n"};
R.maze_forever=function(a){var b=tj(a,"DO");R.vl&&(b=R.vl.replace(/%1/g,"'block_id_"+a.id+"'")+b);return"while (notDone()) {\n"+b+"}\n"};function Kl(){return'\n<div class="farSide" style="padding: 1ex 3ex 0">\n  <button class="secondary addHideHandler">'+Tj(q.DIALOG_OK)+"</button>\n</div>\n"};function Ll(){var a=U("Games.maze",!0),b=ml,c='<button id="pegmanButton"><img src="common/1x1.gif"><span id="pegmanButtonArrow"></span></button>';var d='\n&nbsp;\n<button id="linkButton" title="'+U("Games.linkTooltip",!0)+'">\n  <img src="common/1x1.gif" class="link icon21">\n</button>\n';c&&(c=" &nbsp; "+c);a='\n<span id="title">\n  <a href="'+(Lj?"index.html":"./")+"?lang="+Ij+'">'+U("Games.name",!0)+"</a> : "+a+"\n</span>\n";if(T){for(var e=" &nbsp ",f=1;10>=f;f++){var h="?lang="+Ij+"&level="+
f;b&&(h+="&"+b);e+=" ";e=f===T?e+('<span class="level_number level_done" id="level'+f+'">'+f+"</span>"):10===f?e+('<a class="level_number" id="level'+f+'" href="'+h+'">'+f+"</a>"):e+('<a class="level_dot" id="level'+f+'" href="'+h+'"></a>')}b=e}else b="";c='\n\n<table width="100%" style="display:none;">\n  <tr>\n    <td>\n      <h1>\n        '+(a+"\n        "+b+'\n      </h1>\n    </td>\n    <td id="header_cta" class="farSide">\n      <select id="languageMenu"></select>\n      '+d+"\n      \n      "+
c+'\n    </td>\n  </tr>\n</table>\n\n\n<div id="visualization">\n  <svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="svgMaze" width="400px" height="400px">\n    <g id="look">\n      <path d="M 0,-15 a 15 15 0 0 1 15 15" />\n      <path d="M 0,-35 a 35 35 0 0 1 35 35" />\n      <path d="M 0,-55 a 55 55 0 0 1 55 55" />\n    </g>\n  </svg>\n  <div id="capacityBubble">\n    <div id="capacity"></div>\n  </div>\n</div>\n\n<table width=400>\n  <tr>\n    <td style="width: 190px; text-align: center; vertical-align: top;">\n    <td>\n      <button id="runButton" class="primary" title="')+
U("Maze.runTooltip",!0)+'">\n        <img src="common/1x1.gif" class="run icon21"> '+U("Games.runProgram",!0)+'\n      </button>\n      <button id="resetButton" class="primary" style="display: none" title="'+U("Maze.resetTooltip",!0)+'">\n        <img src="common/1x1.gif" class="stop icon21"> '+U("Games.resetProgram",!0)+"\n      </button>\n    </td>\n  </tr>\n</table>\n\n";d='\n<block type="maze_moveEast"></block>\n<block type="maze_moveWest"></block>\n<block type="maze_moveNorth"></block>\n<block type="maze_moveSouth"></block>\n<block type="maze_skipBlock"></block>\n';
2<T&&(d+='<block type="maze_forever"></block>\n',6===T?d+='<block type="maze_if"><field name="DIR">isPathLeft</field></block>\n':6<T&&(d+='<block type="maze_if"></block>\n',8<T&&(d+='<block type="maze_ifElse"></block>\n')));return c+('<xml id="toolbox" xmlns="https://developers.google.com/blockly/xml">'+d+'</xml>\n<div id="blockly"></div>\n\n<div id="pegmanMenu"></div>\n\n\n<div id="dialogShadow" class="dialogAnimate"></div>\n<div id="dialogBorder"></div>\n<div id="dialog"></div>\n\n\n<div id="dialogDone" class="dialogHiddenContent">\n  <div style="font-size: large; margin: 1em;">')+
(U("Games.congratulations",!0)+'</div>\n  <div id="dialogLinesText" style="font-size: large; margin: 1em;"></div>\n  <pre id="containerCode"></pre>\n  <div id="dialogDoneText" style="font-size: large; margin: 1em;"></div>\n  <div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0">\n    <button class="addHideHandler">'+Tj(q.DIALOG_CANCEL)+'</button>\n    <button id="doneOk" class="secondary">'+Tj(q.DIALOG_OK)+'</button>\n  </div>\n</div>\n\n\n<div id="dialogAbort" class="dialogHiddenContent">\n  ')+
(U("Games.helpAbort",!0)+'\n  <div class="farSide" style="padding: 1ex 3ex 0">\n    <button class="addHideHandler">'+Tj(q.DIALOG_CANCEL)+'</button>\n    <button id="abortOk" class="secondary">'+Tj(q.DIALOG_OK)+'</button>\n  </div>\n</div>\n\n\n<div id="dialogStorage" class="dialogHiddenContent">\n  <div id="containerStorage"></div>\n  ')+(Kl()+'\n</div>\n\n\n\n<div id="dialogHelpStack" class="dialogHiddenContent">\n  <table><tr><td>\n    <img src="common/help.png">\n  </td><td>&nbsp;</td><td>\n    ')+
(U("Maze.helpStack",!0)+'\n  </td><td valign="top">\n    <img src="maze/help_stack.png" class="mirrorImg" height=63 width=136>\n  </td></tr></table>\n</div>\n<div id="dialogHelpOneTopBlock" class="dialogHiddenContent">\n  <table><tr><td>\n    <img src="common/help.png">\n  </td><td>&nbsp;</td><td>\n    '+U("Maze.helpOneTopBlock",!0)+'\n    <div id="sampleOneTopBlock" class="readonly"></div>\n  </td></tr></table>\n</div>\n<div id="dialogHelpRun" class="dialogHiddenContent">\n  <table><tr><td>\n    '+
U("Maze.helpRun",!0)+'\n  </td><td rowspan=2>\n    <img src="common/help.png">\n  </td></tr><tr><td>\n    <div><img src="maze/help_run.png" class="mirrorImg" height=27 width=141></div>\n  </td></tr></table>\n</div>\n<div id="dialogHelpReset" class="dialogHiddenContent">\n  <table><tr><td>\n    '+U("Maze.helpReset",!0)+'\n  </td><td rowspan=2>\n    <img src="common/help.png">\n  </td></tr><tr><td>\n    <div><img src="maze/help_run.png" class="mirrorImg" height=27 width=141></div>\n  </td></tr></table>\n</div>\n<div id="dialogHelpRepeat" class="dialogHiddenContent">\n  <table><tr><td>\n    <img src="maze/help_up.png">\n  </td><td>\n    '+
U("Maze.helpRepeat",!0)+'\n  </td><td>\n    <img src="common/help.png">\n  </td></tr></table>\n</div>\n<div id="dialogHelpCapacity" class="dialogHiddenContent">\n  <table><tr><td>\n    <img src="common/help.png">\n  </td><td>&nbsp;</td><td>\n    '+U("Maze.helpCapacity",!0)+'\n  </td></tr></table>\n</div>\n<div id="dialogHelpRepeatMany" class="dialogHiddenContent">\n  <table><tr><td>\n    <img src="maze/help_up.png">\n  </td><td>\n    '+U("Maze.helpRepeatMany",!0)+'\n  </td><td>\n    <img src="common/help.png">\n  </td></tr></table>\n</div>\n<div id="dialogHelpSkins" class="dialogHiddenContent">\n  <table><tr><td>\n    <img src="common/help.png">\n  </td><td width="95%">\n    '+
U("Maze.helpSkins",!0)+'\n  </td><td>\n    <img src="maze/help_up.png">\n  </td></tr></table>\n</div>\n<div id="dialogHelpIf" class="dialogHiddenContent">\n  <table><tr><td>\n    <img src="maze/help_up.png">\n  </td><td>\n    '+U("Maze.helpIf",!0)+'\n  </td><td>\n    <img src="common/help.png">\n  </td></tr></table>\n</div>\n<div id="dialogHelpMenu" class="dialogHiddenContent">\n  <table><tr><td>\n    <img src="maze/help_up.png">\n  </td><td id="helpMenuText">\n    '+U("Maze.helpMenu",!0)+'\n  </td><td>\n    <img src="common/help.png">\n  </td></tr></table>\n</div>\n<div id="dialogHelpIfElse" class="dialogHiddenContent">\n  <table><tr><td>\n    <img src="maze/help_down.png">\n  </td><td>\n    '+
U("Maze.helpIfElse",!0)+'\n  </td><td>\n    <img src="common/help.png">\n  </td></tr></table>\n</div>\n<div id="dialogHelpWallFollow" class="dialogHiddenContent">\n  <table><tr><td>\n    <img src="common/help.png">\n  </td><td>&nbsp;</td><td>\n    '+U("Maze.helpWallFollow",!0)+"\n    "+Kl()+"\n  </td></tr></table>\n</div>\n\n")};var Rj="maze",ul=[Infinity,Infinity,2,5,5,5,5,10,7,10][T-1],Ml=[{hf:"maze/avatar.png",dl:"maze/tiles.png",background:"maze/background.png",$j:"#000",kl:["maze/win.mp3","maze/win.ogg"],fj:["maze/fail_pegman.mp3","maze/fail_pegman.ogg"],vh:1},{hf:"maze/astro.png",dl:"maze/tiles_astro.png",background:"maze/bg_astro.jpg",$j:"#fff",kl:["maze/win.mp3","maze/win.ogg"],fj:["maze/fail_astro.mp3","maze/fail_astro.ogg"],vh:2},{hf:"maze/panda.png",dl:"maze/tiles_panda.png",background:"maze/bg_panda.jpg",$j:"#000",
kl:["maze/win.mp3","maze/win.ogg"],fj:["maze/fail_panda.mp3","maze/fail_panda.ogg"],vh:3}],Nl=Nj("skin",0,Ml.length-1),Ol=Ml[Nl],Pl=[[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,2,1,3,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,1,3,0,0,0],[0,0,2,1,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,2,1,1,1,1,3,0],[0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,1,1],[0,0,0,0,0,3,1,0],[0,0,0,0,1,1,0,0],[0,0,0,1,1,0,0,0],[0,0,1,1,0,0,0,0],[0,2,1,0,0,0,0,0],[1,1,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,3,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,2,1,1,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,0],[0,1,0,0,0,1,0,0],[0,1,1,3,0,1,0,0],[0,0,0,0,0,1,0,0],[0,2,1,1,1,1,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,
0,0,1,1,0],[0,2,1,1,1,1,0,0],[0,0,0,0,0,1,1,0],[0,1,1,3,0,1,0,0],[0,1,0,1,0,1,0,0],[0,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,1,1,1,1,0,0,0],[0,1,0,0,1,1,0,0],[0,1,1,1,0,1,0,0],[0,0,0,1,0,1,0,0],[0,2,1,1,0,3,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,0],[0,0,1,0,0,0,0,0],[3,1,1,1,1,1,1,0],[0,1,0,1,0,1,1,0],[1,1,1,1,1,0,1,0],[0,1,0,1,0,2,1,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,1,1,0,3,0,1,0],[0,1,1,0,1,1,1,0],[0,1,0,1,0,1,0,0],[0,1,1,1,1,1,1,0],
[0,0,0,1,0,0,1,0],[0,2,1,1,1,0,1,0],[0,0,0,0,0,0,0,0]]][T-1],Ql=Pl.length,Rl=Pl[0].length,Sl=50*Rl,Tl=50*Ql,Ul=0,Vl=[],Wl={10010:[4,0],10001:[3,3],11E3:[0,1],10100:[0,2],11010:[4,1],10101:[3,2],10110:[0,0],10011:[2,0],11001:[4,2],11100:[2,3],11110:[1,1],10111:[1,0],11011:[2,1],11101:[1,2],11111:[2,2],null0:[4,3],null1:[3,0],null2:[3,1],null3:[0,3],null4:[1,3]},Xl,Yl,Zl,X,Y,Z,$l=[];
function am(){function a(l,m){return 0>l||l>=Rl||0>m||m>=Ql?"0":0===Pl[m][l]?"0":"1"}var b=S("svgMaze"),c=50*Math.max(Ql,Rl);b.setAttribute("viewBox","0 0 "+c+" "+c);z("rect",{height:Tl,width:Sl,fill:"#F1EEE7","stroke-width":1,stroke:"#CCB"},b);Ol.background&&z("image",{height:Tl,width:Sl,x:0,y:0},b).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",Ol.background);for(var d=c=0;d<Ql;d++)for(var e=0;e<Rl;e++){var f=a(e,d)+a(e,d-1)+a(e+1,d)+a(e,d+1)+a(e-1,d);Wl[f]||(f="00000"===f&&.3<Math.random()?
"null0":"null"+Math.floor(1+4*Math.random()));var h=Wl[f][0];f=Wl[f][1];var k=z("clipPath",{id:"tileClipPath"+c},b);z("rect",{height:50,width:50,x:50*e,y:50*d},k);z("image",{height:200,width:250,"clip-path":"url(#tileClipPath"+c+")",x:50*(e-h),y:50*(d-f)},b).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",Ol.dl);c++}z("image",{id:"finish",height:34,width:34},b).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","maze/goalIdle.gif");c=z("clipPath",{id:"pegmanClipPath"},b);z("rect",
{id:"clipRect",height:52,width:49},c);z("image",{id:"pegman",height:52,width:1029,"clip-path":"url(#pegmanClipPath)"},b).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",Ol.hf)}
function bm(a){if(!(a&&a.Uj||J.yb()||1===Ul||Pj(T))){var b=nd(gd()),c=Xh(J).g.ta(!0),d=a=null,e=null;if(1===T)2>ef(J).length?(a=S("dialogHelpStack"),e={width:"370px",top:"130px"},e[Kj?"right":"left"]="215px",d=c[0].J()):(c=J.ta(!0),1<c.length?(a='<xml>;<block type="maze_moveForward" x="10" y="10">;<next>;<block type="maze_moveForward"></block>;</next>;</block>;</xml>'.split(";"),d=S("sampleOneTopBlock"),d.firstChild||(d=Ai(d,{rtl:Kj,readOnly:!0}),"string"!==typeof a&&(a=a.join("")),pd(od(a),d)),a=
S("dialogHelpOneTopBlock"),e={width:"360px",top:"120px"},e[Kj?"right":"left"]="225px",d=c[0].J()):0===Ul&&(a=S("dialogHelpRun"),e={width:"360px",top:"410px"},e[Kj?"right":"left"]="400px",d=S("runButton")));else if(2===T)0!==Ul&&"none"===S("runButton").style.display&&(a=S("dialogHelpReset"),e={width:"360px",top:"410px"},e[Kj?"right":"left"]="400px",d=S("resetButton"));else if(3===T)b.includes("maze_forever")||(of(J)?(a=S("dialogHelpRepeat"),e={width:"360px",top:"360px"},e[Kj?"right":"left"]="425px",
d=c[3].J()):(a=S("dialogHelpCapacity"),e={width:"430px",top:"310px"},e[Kj?"right":"left"]="50px",d=S("capacityBubble")));else if(4===T)if(of(J)||b.includes("maze_forever")&&!(1<J.ta(!1).length)){b=!0;var f=mf(J,"maze_forever");f=ba(f);for(var h=f.next();!h.done;h=f.next()){h=mh(h.value,"DO");for(var k=0;h;)k++,h=nb(h);if(1<k){b=!1;break}}b&&(a=S("dialogHelpRepeatMany"),e={width:"360px",top:"360px"},e[Kj?"right":"left"]="425px",d=c[3].J())}else a=S("dialogHelpCapacity"),e={width:"430px",top:"310px"},
e[Kj?"right":"left"]="50px",d=S("capacityBubble");else if(5===T)0!==Nl||cm.Lo||(a=S("dialogHelpSkins"),e={width:"360px",top:"60px"},e[Kj?"left":"right"]="20px",d=S("pegmanButton"));else if(6===T)b.includes("maze_if")||(a=S("dialogHelpIf"),e={width:"360px",top:"430px"},e[Kj?"right":"left"]="425px",d=c[4].J());else if(7===T){if(!bm.tp){f=document.createElement("span");f.className="helpMenuFake";h=[U("Maze.pathAhead",!1),U("Maze.pathLeft",!1),U("Maze.pathRight",!1)];k=Aa(h);var l=Ca(h);f.textContent=
(l?h[0].slice(k,-l):h[0].substring(k))+" "+nj;h=S("helpMenuText");k=h.textContent;h.textContent="";k=k.split(/%\d/);for(l=0;l<k.length;l++)h.appendChild(document.createTextNode(k[l])),l!==k.length-1&&h.appendChild(f.cloneNode(!0));bm.tp=!0}b.includes("isPathRight")||(a=S("dialogHelpMenu"),e={width:"360px",top:"430px"},e[Kj?"right":"left"]="425px",d=c[4].J())}else 9!==T||b.includes("maze_ifElse")||(a=S("dialogHelpIfElse"),e={width:"360px",top:"305px"},e[Kj?"right":"left"]="425px",d=c[5].J());a?a.parentNode!==
S("dialog")&&W.Eg(a,d,!0,!1,e,null):W.Md(!1)}}var dm;function cm(a){var b=S("pegmanMenu");"block"===b.style.display?em(a):xl(a)||(a=S("pegmanButton"),a.classList.add("buttonHover"),b.style.top=a.offsetTop+a.offsetHeight+"px",b.style.left=a.offsetLeft+"px",b.style.display="block",dm=u(document.body,"mousedown",null,em),(b=S("dialogHelpSkins"))&&"dialogHiddenContent"!==b.className&&W.Md(!1),cm.Lo=!0)}
function em(a){xl(a)||(S("pegmanMenu").style.display="none",S("pegmanButton").classList.remove("buttonHover"),dm&&(v(dm),dm=void 0))}
function fm(a){Vl.forEach(clearTimeout);Vl.length=0;X=Yl.x;Y=Yl.y;a?(Z=2,gm(!1),Vl.push(setTimeout(function(){Xl=100;hm([X,Y,4*Z-4]);Z++},5*Xl))):(Z=1,im(X,Y,4*Z));a=S("finish");a.setAttribute("x",50*(Zl.x+.5)-a.getAttribute("width")/2);a.setAttribute("y",50*(Zl.y+.6)-a.getAttribute("height"));a=S("look");a.style.display="none";a.parentNode.appendChild(a);a=ba(a.getElementsByTagName("path"));for(var b=a.next();!b.done;b=a.next())b.value.setAttribute("stroke",Ol.$j)}
function jm(a){if(!xl(a))if(W.Md(!1),1===T&&1<J.ta(!1).length&&1!==Ul&&!Pj(T))bm();else{a=S("runButton");var b=S("resetButton");b.style.minWidth||(b.style.minWidth=a.offsetWidth+"px");a.style.display="none";b.style.display="inline";fm(!1);km()}}
function lm(){var a=of(J),b=S("capacity");if(Infinity===a)b.style.display="none";else{b.style.display="inline";b.innerHTML="";var c=document.createElement("span");c.className="capacityNumber";c.appendChild(document.createTextNode(Number(a)));a=(0===a?U("Maze.capacity0",!1):1===a?U("Maze.capacity1",!1):U("Maze.capacity2",!1)).split(/%\d/);for(var d=0;d<a.length;d++)b.appendChild(document.createTextNode(a[d])),d!==a.length-1&&b.appendChild(c.cloneNode(!0))}}
function mm(a){xl(a)||(S("runButton").style.display="inline",S("resetButton").style.display="none",wi(null),fm(!1),bm())}
function nm(a,b){function c(e){a.setProperty(b,e,a.createNativeFunction(d,!1))}var d=function(e){om(0,e)};c("moveForward");d=function(e){om(2,e)};c("moveBackward");d=function(e){pm(3,e);om(0,e)};c("moveWest");d=function(e){pm(1,e);om(0,e)};c("moveEast");d=function(e){pm(0,e);om(0,e)};c("moveNorth");d=function(e){pm(2,e);om(0,e)};c("moveSouth");d=function(e){om(0,e);om(0,e)};c("skipBlock");d=function(e){return qm(0,e)};c("isPathForward");d=function(e){return qm(1,e)};c("isPathRight");d=function(e){return qm(2,
e)};c("isPathBackward");d=function(e){return qm(3,e)};c("isPathLeft");d=function(){return X!==Zl.x||Y!==Zl.y};c("notDone")}
function km(){if("Interpreter"in window){$l.length=0;L&&sg(L);var a=R;var b=J;b||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),b=Gc);var c=[];a.ba(b);b=b.ta(!0);for(var d=0,e;e=b[d];d++){var f=qj(a,e);Array.isArray(f)&&(f=f[0]);f&&(e.v&&(f=a.tn(f),a.gh&&!e.cl&&(f=rj(a.gh,e)+f),a.hh&&!e.cl&&(f+=rj(a.hh,e))),c.push(f))}c=c.join("\n");c=a.finish(c);c=c.replace(/^\s+\n/,"");c=c.replace(/\n\s+$/,"\n");Al=a=c=c.replace(/[ \t]+\n/g,"\n");ll=ol();Ul=0;a=new Interpreter(a,nm);
try{for(c=1E4;a.step();)if(0===c--)throw Infinity;Ul=X!==Zl.x||Y!==Zl.y?-1:1}catch(h){Infinity===h?Ul=2:!1===h?Ul=-2:(Ul=-2,alert(h))}1===Ul?(Xl=100,$l.push(["finish",null])):Xl=150;fm(!1);Vl.push(setTimeout(rm,100))}else setTimeout(km,99)}
function rm(){var a=$l.shift();if(a){Bl(a[1]);switch(a[0]){case "north":hm([X,Y-1,4*Z]);Y--;break;case "east":hm([X+1,Y,4*Z]);X++;break;case "south":hm([X,Y+1,4*Z]);Y++;break;case "west":hm([X-1,Y,4*Z]);X--;break;case "look_north":sm(0);break;case "look_east":sm(1);break;case "look_south":sm(2);break;case "look_west":sm(3);break;case "fail_forward":tm(!0);break;case "fail_backward":tm(!1);break;case "left":hm([X,Y,4*Z-4]);Z=um(Z-1);break;case "right":hm([X,Y,4*Z+4]);Z=um(Z+1);break;case "finish":gm(!0),
window.localStorage&&(window.localStorage[Rj+T]=ll),setTimeout(Fl,1E3)}Vl.push(setTimeout(rm,5*Xl))}else Bl(null),bm()}function vm(a){if("dialogHiddenContent"!==S("dialogDone").className){var b=S("pegSpin"),c=W.getBBox(b),d=a.clientX-(c.x+c.width/2-window.pageXOffset);a=180*Math.atan((a.clientY-(c.y+c.height/2-window.pageYOffset))/d)/Math.PI;d=Math.round((0<d?a+90:a+270)/360*16);16===d&&(d=15);b.style.backgroundPosition=49*-d+"px 0px"}}
function hm(a){var b=[X,Y,4*Z],c=[(a[0]-b[0])/4,(a[1]-b[1])/4,(a[2]-b[2])/4];im(b[0]+c[0],b[1]+c[1],wm(b[2]+c[2]));Vl.push(setTimeout(function(){im(b[0]+2*c[0],b[1]+2*c[1],wm(b[2]+2*c[2]))},Xl));Vl.push(setTimeout(function(){im(b[0]+3*c[0],b[1]+3*c[1],wm(b[2]+3*c[2]))},2*Xl));Vl.push(setTimeout(function(){im(a[0],a[1],wm(a[2]))},3*Xl))}
function tm(a){var b=0,c=0;switch(Z){case 0:c=-1;break;case 1:b=1;break;case 2:c=1;break;case 3:b=-1}a||(b=-b,c=-c);if(1===Ol.vh){b/=4;c/=4;var d=wm(4*Z);im(X+b,Y+c,d);J.lb.play("fail",.5);Vl.push(setTimeout(function(){im(X,Y,d)},Xl));Vl.push(setTimeout(function(){im(X+b,Y+c,d);J.lb.play("fail",.5)},2*Xl));Vl.push(setTimeout(function(){im(X,Y,d)},3*Xl))}else{var e=10*(Math.random()-.5),f=(Math.random()-.5)/2;b+=(Math.random()-.5)/4;c+=(Math.random()-.5)/4;b/=8;c/=8;var h=0;3===Ol.vh&&(h=.01);Vl.push(setTimeout(function(){J.lb.play("fail",
.5)},2*Xl));a=function(l){return function(){im(X+b*l,Y+c*l,wm(4*Z+f*l),e*l);c+=h}};for(var k=1;100>k;k++)Vl.push(setTimeout(a(k),Xl*k/2))}}function gm(a){var b=wm(4*Z);im(X,Y,16);a&&J.lb.play("win",.5);Xl=150;Vl.push(setTimeout(function(){im(X,Y,18)},Xl));Vl.push(setTimeout(function(){im(X,Y,16)},2*Xl));Vl.push(setTimeout(function(){im(X,Y,b)},3*Xl))}
function im(a,b,c,d){var e=S("pegman");e.setAttribute("x",50*a-49*c+1);e.setAttribute("y",50*(b+.5)-26-8);d?e.setAttribute("transform","rotate("+d+", "+(50*a+25)+", "+(50*b+25)+")"):e.setAttribute("transform","rotate(0, 0, 0)");b=S("clipRect");b.setAttribute("x",50*a+1);b.setAttribute("y",e.getAttribute("y"))}
function sm(a){var b=X,c=Y;switch(a){case 0:b+=.5;break;case 1:b+=1;c+=.5;break;case 2:b+=.5;c+=1;break;case 3:c+=.5}b*=50;c*=50;var d=90*a-45;a=S("look");a.setAttribute("transform","translate("+b+", "+c+") rotate("+d+" 0 0) scale(.4)");b=a.getElementsByTagName("path");a.style.display="inline";for(c=0;c<b.length;c++)xm(b[c],Xl*c)}function xm(a,b){Vl.push(setTimeout(function(){a.style.display="inline";setTimeout(function(){a.style.display="none"},2*Xl)},b))}
function um(a){a=Math.round(a)%4;0>a&&(a+=4);return a}function wm(a){a=Math.round(a)%16;0>a&&(a+=16);return a}function om(a,b){if(!qm(a,null))throw $l.push(["fail_"+(a?"backward":"forward"),b]),!1;switch(um(Z+a)){case 0:Y--;var c="north";break;case 1:X++;c="east";break;case 2:Y++;c="south";break;case 3:X--,c="west"}$l.push([c,b])}function pm(a,b){var c=Z;Z=a;if(c<a)for(;c<a;)c++,$l.push(["right",b]);else if(c>a)for(;c>a;)c--,$l.push(["left",b])}
function qm(a,b){switch(um(Z+a)){case 0:var c=Pl[Y-1]&&Pl[Y-1][X];var d="look_north";break;case 1:c=Pl[Y][X+1];d="look_east";break;case 2:c=Pl[Y+1]&&Pl[Y+1][X];d="look_south";break;case 3:c=Pl[Y][X-1],d="look_west"}b&&$l.push([d,b]);return 0!==c&&void 0!==c}
(function(a){function b(){window.BlocklyGamesMsg?(window.BlocklyMsg&&(q=window.BlocklyMsg),a()):setTimeout(b,99)}window.addEventListener("load",b)})(function(){function a(){h.style.top=Math.max(10,k.offsetTop-window.pageYOffset)+"px";h.style.left=Kj?"10px":"420px";h.style.width=window.innerWidth-440+"px"}function b(l){return function(){window.sessionStorage&&(window.sessionStorage.Zj=ol());location=location.protocol+"//"+location.host+location.pathname+"?lang="+Ij+"&level="+T+"&skin="+l}}Jl();ml=
"&skin="+Nl;document.body.innerHTML=Ll();nl();document.querySelector("#pegmanButton>img").style.backgroundImage="url("+Ol.hf+")";for(var c=S("pegmanMenu"),d=0;d<Ml.length;d++)if(d!==Nl){var e=document.createElement("div"),f=document.createElement("img");f.src="common/1x1.gif";f.style.backgroundImage="url("+Ml[d].hf+")";e.appendChild(f);c.appendChild(e);u(e,"mousedown",null,b(d))}u(window,"resize",null,em);c=S("pegmanButton");u(c,"mousedown",null,cm);S("pegmanButtonArrow").appendChild(document.createTextNode(nj));
var h=S("blockly"),k=S("visualization");window.addEventListener("scroll",function(){a(null);Ei(J)});window.addEventListener("resize",a);a(null);tl();J.lb.load(Ol.kl,"win");J.lb.load(Ol.fj,"fail");uj("moveForward,moveBackward,turnRight,turnLeft,isPathForward,isPathRight,isPathBackward,isPathLeft");am();rl();for(c=0;c<Ql;c++)for(d=0;d<Rl;d++)2===Pl[c][d]?Yl={x:d,y:c}:3===Pl[c][d]&&(Zl={x:d,y:c});fm(!0);sf(J,lm);document.body.addEventListener("mousemove",vm,!0);Sj("runButton",jm);Sj("resetButton",mm);
1===T&&(na=ma*=2);10===T?Pj(T)||(c=S("dialogHelpWallFollow"),W.Eg(c,null,!1,!0,{width:"30%",left:"35%",top:"12em"},W.yn),W.vn(),setTimeout(W.Pl,3E5)):setTimeout(function(){sf(J,bm);bm()},5E3);c=S("dialogDoneButtons");d=document.createElement("img");d.id="pegSpin";d.src="common/1x1.gif";d.style.backgroundImage="url("+Ol.hf+")";c.parentNode.insertBefore(d,c);Dl();El()});
