// Automatically generated file.  Do not edit!
var g;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function l(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}var ba="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
function ca(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var da=ca(this);function ea(a,b){if(b)a:{var c=da;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ba(c,a,{configurable:!0,writable:!0,value:b})}}
ea("Symbol",function(a){function b(f){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new c(d+(f||"")+"_"+e++,f)}function c(f,h){this.ps=f;ba(this,"description",{configurable:!0,writable:!0,value:h})}if(a)return a;c.prototype.toString=function(){return this.ps};var d="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",e=0;return b});
ea("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=da[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&ba(d.prototype,a,{configurable:!0,writable:!0,value:function(){return fa(aa(this))}})}return a});function fa(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}
function ha(a,b){a instanceof String&&(a+="");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e}ea("Array.prototype.keys",function(a){return a?a:function(){return ha(this,function(b){return b})}});ea("Array.prototype.values",function(a){return a?a:function(){return ha(this,function(b,c){return c})}});
ea("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});ea("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}});
ea("String.prototype.includes",function(a){return a?a:function(b,c){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==(this+"").indexOf(b,c||0)}});function ia(a,b){return Object.prototype.hasOwnProperty.call(a,b)}
ea("WeakMap",function(a){function b(m){this.ke=(k+=Math.random()+1).toString();if(m){m=l(m);for(var n;!(n=m.next()).done;)n=n.value,this.set(n[0],n[1])}}function c(){}function d(m){var n=typeof m;return"object"===n&&null!==m||"function"===n}function e(m){if(!ia(m,h)){var n=new c;ba(m,h,{value:n})}}function f(m){var n=Object[m];n&&(Object[m]=function(p){if(p instanceof c)return p;Object.isExtensible(p)&&e(p);return n(p)})}if(function(){if(!a||!Object.seal)return!1;try{var m=Object.seal({}),n=Object.seal({}),
p=new a([[m,2],[n,3]]);if(2!=p.get(m)||3!=p.get(n))return!1;p.delete(m);p.set(n,4);return!p.has(m)&&4==p.get(n)}catch(t){return!1}}())return a;var h="$jscomp_hidden_"+Math.random();f("freeze");f("preventExtensions");f("seal");var k=0;b.prototype.set=function(m,n){if(!d(m))throw Error("Invalid WeakMap key");e(m);if(!ia(m,h))throw Error("WeakMap key fail: "+m);m[h][this.ke]=n;return this};b.prototype.get=function(m){return d(m)&&ia(m,h)?m[h][this.ke]:void 0};b.prototype.has=function(m){return d(m)&&
ia(m,h)&&ia(m[h],this.ke)};b.prototype.delete=function(m){return d(m)&&ia(m,h)&&ia(m[h],this.ke)?delete m[h][this.ke]:!1};return b});
ea("Map",function(a){function b(){var k={};return k.xe=k.next=k.head=k}function c(k,m){var n=k.je;return fa(function(){if(n){for(;n.head!=k.je;)n=n.xe;for(;n.next!=n.head;)return n=n.next,{done:!1,value:m(n)};n=null}return{done:!0,value:void 0}})}function d(k,m){var n=m&&typeof m;"object"==n||"function"==n?f.has(m)?n=f.get(m):(n=""+ ++h,f.set(m,n)):n="p_"+m;var p=k.gi[n];if(p&&ia(k.gi,n))for(k=0;k<p.length;k++){var t=p[k];if(m!==m&&t.key!==t.key||m===t.key)return{id:n,list:p,index:k,Pb:t}}return{id:n,
list:p,index:-1,Pb:void 0}}function e(k){this.gi={};this.je=b();this.size=0;if(k){k=l(k);for(var m;!(m=k.next()).done;)m=m.value,this.set(m[0],m[1])}}if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var k=Object.seal({x:4}),m=new a(l([[k,"s"]]));if("s"!=m.get(k)||1!=m.size||m.get({x:4})||m.set({x:4},"t")!=m||2!=m.size)return!1;var n=m.entries(),p=n.next();if(p.done||p.value[0]!=k||"s"!=p.value[1])return!1;p=n.next();return p.done||4!=p.value[0].x||
"t"!=p.value[1]||!n.next().done?!1:!0}catch(t){return!1}}())return a;var f=new WeakMap;e.prototype.set=function(k,m){k=0===k?0:k;var n=d(this,k);n.list||(n.list=this.gi[n.id]=[]);n.Pb?n.Pb.value=m:(n.Pb={next:this.je,xe:this.je.xe,head:this.je,key:k,value:m},n.list.push(n.Pb),this.je.xe.next=n.Pb,this.je.xe=n.Pb,this.size++);return this};e.prototype.delete=function(k){k=d(this,k);return k.Pb&&k.list?(k.list.splice(k.index,1),k.list.length||delete this.gi[k.id],k.Pb.xe.next=k.Pb.next,k.Pb.next.xe=
k.Pb.xe,k.Pb.head=null,this.size--,!0):!1};e.prototype.clear=function(){this.gi={};this.je=this.je.xe=b();this.size=0};e.prototype.has=function(k){return!!d(this,k).Pb};e.prototype.get=function(k){return(k=d(this,k).Pb)&&k.value};e.prototype.entries=function(){return c(this,function(k){return[k.key,k.value]})};e.prototype.keys=function(){return c(this,function(k){return k.key})};e.prototype.values=function(){return c(this,function(k){return k.value})};e.prototype.forEach=function(k,m){for(var n=this.entries(),
p;!(p=n.next()).done;)p=p.value,k.call(m,p[1],p[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var h=0;return e});ea("Array.prototype.fill",function(a){return a?a:function(b,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));if(null==d||d>e)d=e;d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=b;return this}});function ja(a){return a?a:Array.prototype.fill}ea("Int8Array.prototype.fill",ja);ea("Uint8Array.prototype.fill",ja);ea("Uint8ClampedArray.prototype.fill",ja);
ea("Int16Array.prototype.fill",ja);ea("Uint16Array.prototype.fill",ja);ea("Int32Array.prototype.fill",ja);ea("Uint32Array.prototype.fill",ja);ea("Float32Array.prototype.fill",ja);ea("Float64Array.prototype.fill",ja);ea("String.prototype.trimRight",function(a){function b(){return this.replace(/[\s\xa0]+$/,"")}return a||b});
var ka={},la;
var ma=[,2,1,4,3];
var na=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof global?global:this}();
var q={};na.Blockly||(na.Blockly={});na.Blockly.Msg||(na.Blockly.Msg=q);
function oa(a){a=String(a).toLowerCase().trim();var b=pa[a];if(b)return b;b="0x"==a.substring(0,2)?"#"+a.substring(2):a;b="#"==b[0]?b:"#"+b;if(/^#[0-9a-f]{6}$/.test(b))return b;if(/^#[0-9a-f]{3}$/.test(b))return["#",b[1],b[1],b[2],b[2],b[3],b[3]].join("");var c=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return c&&(a=Number(c[1]),b=Number(c[2]),c=Number(c[3]),0<=a&&256>a&&0<=b&&256>b&&0<=c&&256>c)?qa(a,b,c):null}
function qa(a,b,c){b=a<<16|b<<8|c;return 16>a?"#"+(16777216|b).toString(16).substr(1):"#"+b.toString(16)}function ra(a){a=oa(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]}
function sa(a){var b=0,c=0,d=0,e=Math.floor(a/60),f=a/60-e;a=165.75*.55;var h=165.75*(1-.45*f);f=165.75*(1-.45*(1-f));switch(e){case 1:b=h;c=165.75;d=a;break;case 2:b=a;c=165.75;d=f;break;case 3:b=a;c=h;d=165.75;break;case 4:b=f;c=a;d=165.75;break;case 5:b=165.75;c=a;d=h;break;case 6:case 0:b=165.75,c=f,d=a}return qa(Math.floor(b),Math.floor(c),Math.floor(d))}
function ta(a,b,c){a=oa(a);if(!a)return null;b=oa(b);if(!b)return null;a=ra(a);b=ra(b);return qa(Math.round(b[0]+c*(a[0]-b[0])),Math.round(b[1]+c*(a[1]-b[1])),Math.round(b[2]+c*(a[2]-b[2])))}var pa={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};function r(a,b){this.x=a;this.y=b}function ua(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1}function va(a,b){var c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)}function wa(a,b){return new r(a.x-b.x,a.y-b.y)}function xa(a,b){return new r(a.x+b.x,a.y+b.y)}r.prototype.clone=function(){return new r(this.x,this.y)};r.prototype.scale=function(a){this.x*=a;this.y*=a;return this};r.prototype.translate=function(a,b){this.x+=a;this.y+=b;return this};function ya(a,b,c,d){this.top=a;this.bottom=b;this.left=c;this.right=d}ya.prototype.contains=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};function za(a){return a.length?a.reduce(function(b,c){return b.length<c.length?b:c}).length:0}function Aa(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var c=0;b=b||za(a);for(var d=0;d<b;d++){for(var e=a[0][d],f=1;f<a.length;f++)if(e!=a[f][d])return c;" "==e&&(c=d+1)}for(f=1;f<a.length;f++)if((e=a[f][d])&&" "!=e)return c;return b}
function Ba(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var c=0;b=b||za(a);for(var d=0;d<b;d++){for(var e=a[0].substr(-d-1,1),f=1;f<a.length;f++)if(e!=a[f].substr(-d-1,1))return c;" "==e&&(c=d+1)}for(f=1;f<a.length;f++)if((e=a[f].charAt(a[f].length-d-1))&&" "!=e)return c;return b}
function Ca(a,b){a=a.split("\n");for(var c=0;c<a.length;c++){var d=c;var e=a[c],f=b;if(e.length<=f)var h=e;else{for(var k=e.trim().split(/\s+/),m=0;m<k.length;m++)k[m].length>f&&(f=k[m].length);m=-Infinity;var n=1;do{var p=m;h=e;e=[];var t=k.length/n,x=1;for(m=0;m<k.length-1;m++)x<(m+1.5)/t?(x++,e[m]=!0):e[m]=!1;e=Da(k,e,f);m=Ea(k,e,f);t=k;x=[];for(var C=0;C<t.length;C++)x.push(t[C]),void 0!==e[C]&&x.push(e[C]?"\n":" ");e=x.join("");n++}while(m>p)}a[d]=h}return a.join("\n")}
function Ea(a,b,c){for(var d=[0],e=[],f=0;f<a.length;f++)d[d.length-1]+=a[f].length,!0===b[f]?(d.push(0),e.push(a[f].charAt(a[f].length-1))):!1===b[f]&&d[d.length-1]++;a=Math.max.apply(Math,d);for(f=b=0;f<d.length;f++)b-=2*Math.pow(Math.abs(c-d[f]),1.5),b-=Math.pow(a-d[f],1.5),-1!=".?!".indexOf(e[f])?b+=c/3:-1!=",;)]}".indexOf(e[f])&&(b+=c/4);1<d.length&&d[d.length-1]<=d[d.length-2]&&(b+=.5);return b}
function Da(a,b,c){for(var d=Ea(a,b,c),e,f=0;f<b.length-1;f++)if(b[f]!=b[f+1]){var h=[].concat(b);h[f]=!h[f];h[f+1]=!h[f+1];var k=Ea(a,h,c);k>d&&(d=k,e=h)}return e?Da(a,e,c):b};function Fa(a,b){this.width=a;this.height=b};function Ga(a){var b;(b=Ha(a,"display"))||(b=a.currentStyle?a.currentStyle.display:null);if("none"!=(b||a.style&&a.style.display))return new Fa(a.offsetWidth,a.offsetHeight);b=a.style;var c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";var f=a.offsetWidth;a=a.offsetHeight;b.display=c;b.position=e;b.visibility=d;return new Fa(f,a)}
function Ha(a,b){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[b]||a.getPropertyValue(b)||"":""}function Ia(a){var b=new r(0,0);a=a.getBoundingClientRect();var c=document.documentElement;c=new r(window.pageXOffset||c.scrollLeft,window.pageYOffset||c.scrollTop);b.x=a.left+c.x;b.y=a.top+c.y;return b};var Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va;
(function(a){function b(d){return-1!=c.indexOf(d.toUpperCase())}Va=a;var c=Va.toUpperCase();Ja=b("Trident")||b("MSIE");Ka=b("Edge");La=b("JavaFX");!b("Chrome")&&b("CriOS");Ma=b("WebKit")&&!Ka;Na=b("Gecko")&&!Ma&&!Ja&&!Ka;Oa=b("Android");a=na.navigator&&na.navigator.maxTouchPoints;Pa=b("iPad")||b("Macintosh")&&0<a;Qa=b("iPod");Ra=b("iPhone")&&!Pa&&!Qa;Sa=b("Macintosh");Ta=Pa||Oa&&!b("Mobile")||b("Silk");Ua=!Ta&&(Qa||Ra||Oa||b("IEMobile"))})(na.navigator&&na.navigator.userAgent||"");function Wa(a){a.preventDefault();a.stopPropagation()}function Xa(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable||a.target.dataset&&"true"==a.target.dataset.Mv}
function Ya(a){var b=new r(0,0),c=a.getAttribute("x");c&&(b.x=parseInt(c,10));if(c=a.getAttribute("y"))b.y=parseInt(c,10);if(c=(c=a.getAttribute("transform"))&&c.match(Za))b.x+=Number(c[1]),c[3]&&(b.y+=Number(c[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match($a))&&(b.x+=Number(a[1]),a[3]&&(b.y+=Number(a[3])));return b}
function ab(a){for(var b=0,c=0;a;){var d=Ya(a);b+=d.x;c+=d.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new r(b,c)}var Za=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,$a=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;function bb(a){return a.ctrlKey&&Sa?!0:2==a.button}function cb(a,b,c){var d=b.createSVGPoint();d.x=a.clientX;d.y=a.clientY;c||(c=b.getScreenCTM().inverse());return d.matrixTransform(c)}
function db(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:40*a.deltaX,y:40*a.deltaY};case 2:return{x:125*a.deltaX,y:125*a.deltaY}}}function fb(a){if("string"!=typeof a)return a;a=gb(a,!1);return a.length?String(a[0]):""}function hb(a){for(var b=q,c=a.match(/%{BKY_[A-Z]\w*}/ig),d=0;d<c.length;d++)void 0==b[c[d].toUpperCase().slice(6,-1)]&&console.warn("No message string for "+c[d]+" in "+a)}
function gb(a,b){var c=[],d=a.split("");d.push("");var e=0;a=[];for(var f=null,h=0;h<d.length;h++){var k=d[h];0==e?"%"==k?((k=a.join(""))&&c.push(k),a.length=0,e=1):a.push(k):1==e?"%"==k?(a.push(k),e=0):b&&"0"<=k&&"9">=k?(e=2,f=k,(k=a.join(""))&&c.push(k),a.length=0):"{"==k?e=3:(a.push("%",k),e=0):2==e?"0"<=k&&"9">=k?f+=k:(c.push(parseInt(f,10)),h--,e=0):3==e&&(""==k?(a.splice(0,0,"%{"),h--,e=0):"}"!=k?a.push(k):(e=a.join(""),/[A-Z]\w*/i.test(e)?(k=e.toUpperCase(),(k=0==k.lastIndexOf("BKY_",0)?k.substring(4):
null)&&k in q?(e=q[k],"string"==typeof e?Array.prototype.push.apply(c,gb(e,b)):b?c.push(String(e)):c.push(e)):c.push("%{"+e+"}")):c.push("%{"+e+"}"),e=a.length=0))}(k=a.join(""))&&c.push(k);b=[];for(h=a.length=0;h<c.length;++h)"string"==typeof c[h]?a.push(c[h]):((k=a.join(""))&&b.push(k),a.length=0,b.push(c[h]));(k=a.join(""))&&b.push(k);a.length=0;return b}function ib(){for(var a=jb.length,b=[],c=0;20>c;c++)b[c]=jb.charAt(Math.random()*a);return b.join("")}var jb="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
function kb(){if(void 0!==lb)return lb;if(!na.getComputedStyle)return!1;var a=document.createElement("p"),b="none",c={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var d in c)if(void 0!==a.style[d]){a.style[d]="translate3d(1px,1px,1px)";b=na.getComputedStyle(a);if(!b)return document.body.removeChild(a),!1;b=b.getPropertyValue(c[d])}document.body.removeChild(a);return lb=
"none"!==b}var lb;function mb(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var b=setInterval(function(){"complete"==document.readyState&&(clearInterval(b),a())},10)}function nb(a,b){b=a.indexOf(b);if(-1==b)return!1;a.splice(b,1);return!0}
function ob(a,b){var c=Object.create(null),d=pb(a,!0);b&&(a=qb(a))&&(a=d.indexOf(a),d.splice(a,d.length-a));for(a=0;b=d[a];a++)c[b.type]?c[b.type]++:c[b.type]=1;return c}function rb(a){var b="string"==typeof a?fb(a):a,c=Number(b);if(!isNaN(c)&&0<=c&&360>=c)return{Yt:c,zi:sa(c)};if(c=oa(b))return{Yt:null,zi:c};c='Invalid colour: "'+b+'"';a!=b&&(c+=' (from "'+a+'")');throw Error(c);};var sb="ontouchstart"in na||!!(na.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!na.navigator||!na.navigator.maxTouchPoints&&!na.navigator.msMaxTouchPoints),tb=null,ub={};
na.PointerEvent?ub={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:sb&&(ub={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});var vb=0;
function wb(a,b){xb();a.changedTouches&&1!=a.changedTouches.length||(vb=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);b&&yb(b,a)},750))}function xb(){vb&&(clearTimeout(vb),vb=0)}function zb(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"}
function Ab(a){var b=zb(a);return void 0!==tb&&null!==tb?tb==b:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(tb=b,!0):!1}function Bb(a){return 0==a.type.lastIndexOf("touch",0)||0==a.type.lastIndexOf("mouse",0)||0==a.type.lastIndexOf("pointer",0)}function Cb(a){return 0==a.type.lastIndexOf("touch",0)||0==a.type.lastIndexOf("pointer",0)}
function Db(a){var b=[];if(a.changedTouches)for(var c=0;c<a.changedTouches.length;c++)b[c]={type:a.type,changedTouches:[a.changedTouches[c]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else b.push(a);return b};function u(a,b,c,d,e,f){function h(x){var C=!e;x=Db(x);for(var Y=0,Q;Q=x[Y];Y++)if(!C||!Bb(Q)||Ab(Q)){var eb=Q;if(0==eb.type.lastIndexOf("touch",0)){var Oe=eb.changedTouches[0];eb.clientX=Oe.clientX;eb.clientY=Oe.clientY}c?d.call(c,Q):d(Q);k=!0}}var k=!1,m=[];if(na.PointerEvent&&b in ub)for(var n=0,p;p=ub[b][n];n++)a.addEventListener(p,h,!1),m.push([a,p,h]);else if(a.addEventListener(b,h,!1),m.push([a,b,h]),b in ub){var t=function(x){h(x);var C=!f;k&&C&&x.preventDefault()};for(n=0;p=ub[b][n];n++)a.addEventListener(p,
t,!1),m.push([a,p,t])}return m}function Eb(a,b,c,d){function e(n){c?d.call(c,n):d(n)}var f=[];if(na.PointerEvent&&b in ub)for(var h=0,k;k=ub[b][h];h++)a.addEventListener(k,e,!1),f.push([a,k,e]);else if(a.addEventListener(b,e,!1),f.push([a,b,e]),b in ub){var m=function(n){if(n.changedTouches&&1==n.changedTouches.length){var p=n.changedTouches[0];n.clientX=p.clientX;n.clientY=p.clientY}e(n);n.preventDefault()};for(h=0;k=ub[b][h];h++)a.addEventListener(k,m,!1),f.push([a,k,m])}return f}
function v(a){for(;a.length;){var b=a.pop();b[0].removeEventListener(b[1],b[2],!1)}};var Fb=!1;function Gb(a){if(Fb)throw Error("CSS already injected");Array.prototype.push.apply(Hb,a);a.length=0}
var Hb=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;",
"}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {",
"max-height: 300px;","overflow: auto;","overflow-x: hidden;","position: relative;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;",
"border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;",
"}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;",
"}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;",
"}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",
".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {",
"margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;",
"}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",
".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",
".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;","}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {",
"box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .blocklyMenu {","background: inherit;","border: inherit;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","position: relative;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {",
"background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;","width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"];
function Ib(a){this.Ru=a}Ib.prototype.toString=function(){return this.Ru};var Jb=new Ib("animate"),Kb=new Ib("circle"),Lb=new Ib("clipPath"),Mb=new Ib("defs"),Nb=new Ib("feComposite"),Ob=new Ib("feGaussianBlur"),Pb=new Ib("fePointLight"),Qb=new Ib("feSpecularLighting"),Rb=new Ib("filter"),Sb=new Ib("foreignObject"),Tb=new Ib("g"),Ub=new Ib("image"),Vb=new Ib("line"),Wb=new Ib("path"),Xb=new Ib("pattern"),Yb=new Ib("polygon"),Zb=new Ib("rect"),$b=new Ib("svg"),ac=new Ib("text"),bc=new Ib("tspan");var cc=null,dc=0,ec=null;function w(a,b,c){a=document.createElementNS("http://www.w3.org/2000/svg",String(a));for(var d in b)a.setAttribute(d,b[d]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);c&&c.appendChild(a);return a}function y(a,b){var c=a.getAttribute("class")||"";a.setAttribute("class",c+" "+b)}
function fc(a,b){for(var c=(a.getAttribute("class")||"").split(/\s+/),d=0;d<c.length;d++)c[d]&&c[d]!=b||(c.splice(d,1),d--);c.length?a.setAttribute("class",c.join(" ")):a.removeAttribute("class")}function gc(a,b){return-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" "+b+" ")}function z(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function hc(a,b){var c=b.nextSibling;b=b.parentNode;if(!b)throw Error("Reference node has no parent.");c?b.insertBefore(a,c):b.appendChild(a)}
function ic(a,b){a.style.transform=b;a.style["-webkit-transform"]=b}function jc(){dc++;cc||(cc=Object.create(null))}function kc(){dc--;dc||(cc=null)}function lc(a,b,c,d){var e=a.textContent;a=e+"\n"+a.className.baseVal;var f;if(cc&&(f=cc[a]))return f;ec||(f=document.createElement("canvas"),f.className="blocklyComputeCanvas",document.body.appendChild(f),ec=f.getContext("2d"));ec.font=c+" "+b+" "+d;f=ec.measureText(e).width;cc&&(cc[a]=f);return f}
function mc(a,b,c,d){var e=document.createElement("span");e.style.font=c+" "+b+" "+d;e.textContent=a;a=document.createElement("div");a.style.width="1px";a.style.height="0px";b=document.createElement("div");b.setAttribute("style","position: fixed; top: 0; left: 0; display: flex;");b.appendChild(e);b.appendChild(a);document.body.appendChild(b);try{c={},b.style.alignItems="baseline",c.Ec=a.offsetTop-e.offsetTop,b.style.alignItems="flex-end",c.height=a.offsetTop-e.offsetTop}finally{document.body.removeChild(b)}return c}
;
function nc(a,b,c,d){this.g=a;this.Gl=b;this.He=c.text;this.lg=new r(0,0);this.pe=d;this.dk=c.callbackKey||c.callbackkey;this.Up=c["web-class"]||null;this.qf=null;this.info=c}g=nc.prototype;g.width=0;g.height=0;
g.va=function(){var a=this.pe?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.Up&&(a+=" "+this.Up);this.u=w(Tb,{"class":a},this.g.qa);if(!this.pe)var b=w(Zb,{"class":"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.u);a=w(Zb,{"class":this.pe?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.u);var c=w(ac,{"class":this.pe?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.u),d=fb(this.He);this.g.s&&(d+="\u200f");c.textContent=d;this.pe&&(this.Yo=
c,this.g.Wa.subscribe(this.Yo,"flyoutForegroundColour","fill"));var e=Ha(c,"fontSize"),f=Ha(c,"fontWeight"),h=Ha(c,"fontFamily");this.width=lc(c,e,f,h);d=mc(d,e,f,h);this.height=d.height;this.pe||(this.width+=10,this.height+=4,b.setAttribute("width",this.width),b.setAttribute("height",this.height));a.setAttribute("width",this.width);a.setAttribute("height",this.height);c.setAttribute("x",this.width/2);c.setAttribute("y",this.height/2-d.height/2+d.Ec);oc(this);this.qf=u(this.u,"mouseup",this,this.vu);
return this.u};g.show=function(){oc(this);this.u.setAttribute("display","block")};function oc(a){a.u.setAttribute("transform","translate("+a.lg.x+","+a.lg.y+")")}g.moveTo=function(a,b){this.lg.x=a;this.lg.y=b;oc(this)};g.m=function(){this.qf&&v(this.qf);this.u&&z(this.u);this.Yo&&this.g.Wa.unsubscribe(this.Yo)};
g.vu=function(a){(a=this.Gl.ce(a))&&a.cancel();this.pe&&this.dk?console.warn("Labels should not have callbacks. Label text: "+this.He):this.pe||this.dk&&pc(this.Gl,this.dk)?this.pe||pc(this.Gl,this.dk)(this):console.warn("Buttons should have callbacks. Button text: "+this.He)};Gb(".blocklyFlyoutButton {,fill: #888;,cursor: default;,},.blocklyFlyoutButtonShadow {,fill: #666;,},.blocklyFlyoutButton:hover {,fill: #aaa;,},.blocklyFlyoutLabel {,cursor: default;,},.blocklyFlyoutLabelBackground {,opacity: 0;,}".split(","));var qc=Object.create(null);function rc(a){this.ue=a}rc.prototype.toString=function(){return this.ue};var sc=new rc("connectionChecker"),tc=new rc("cursor"),uc=new rc("event"),vc=new rc("field"),wc=new rc("renderer"),xc=new rc("toolbox"),yc=new rc("theme"),zc=new rc("toolboxItem"),Ac=new rc("flyoutsVerticalToolbox"),Bc=new rc("metricsManager"),Cc=new rc("blockDragger");
function A(a,b,c){if(!(a instanceof rc)&&"string"!=typeof a||""==String(a).trim())throw Error('Invalid type "'+a+'". The type must be a non-empty string or a Blockly.registry.Type.');a=String(a).toLowerCase();if("string"!=typeof b||""==b.trim())throw Error('Invalid name "'+b+'". The name must be a non-empty string.');b=b.toLowerCase();if(!c)throw Error("Can not register a null value");var d=qc[a];d||(d=qc[a]=Object.create(null));switch(a){case String(vc):if("function"!=typeof c.N)throw Error('Type "'+
a+'" must have a fromJson function');}if(d[b])throw Error('Name "'+b+'" with type "'+a+'" already registered.');d[b]=c}function Dc(a,b,c){a=String(a).toLowerCase();b=b.toLowerCase();var d=qc[a];if(!d||!d[b]){b="Unable to find ["+b+"]["+a+"] in the registry.";if(c)throw Error(b+" You must require or register a "+a+" plugin.");console.warn(b);return null}return d[b]}function Ec(a,b,c){b=b.plugins[a.toString()]||"default";return"function"==typeof b?b:Dc(a,b,c)};var Fc="",Gc=!0,B=0,Hc=["create","move"],Ic=[];function D(a){0==B&&(Ic.length||setTimeout(Jc,0),Ic.push(a))}function Jc(){for(var a=Kc(Ic,!0),b=Ic.length=0,c;c=a[b];b++)if(c.Db){var d=Lc[c.Db]||null;if(d){var e=c;if(e.Ab)for(d.tg.push(e),d.Ui.length=0;d.tg.length>d.sp&&0<=d.sp;)d.tg.shift();for(var f=0;c=d.cb[f];f++)c(e)}}}
function Kc(a,b){a=a.slice();b||a.reverse();for(var c=[],d=Object.create(null),e=0,f;f=a[e];e++)if(!f.Rk()){var h=[f.yn?"ui":f.type,f.ga,f.Db].join(" "),k=d[h],m=k?k.event:null;if(!k)d[h]={event:f,index:e},c.push(f);else if("move"==f.type&&k.index==e-1)m.gg=f.gg,m.fg=f.fg,m.nf=f.nf,k.index=e;else if("change"==f.type&&f.element==m.element&&f.name==m.name)m.newValue=f.newValue;else if("viewport_change"==f.type)m.$c=f.$c,m.Zc=f.Zc,m.scale=f.scale,m.Ni=f.Ni;else if("click"!=f.type||"bubble_open"!=m.type)d[h]=
{event:f,index:e},c.push(f)}a=c.filter(function(n){return!n.Rk()});b||a.reverse();for(e=1;f=a[e];e++)"change"==f.type&&"mutation"==f.element&&a.unshift(a.splice(e,1)[0]);return a}function E(a){Fc="boolean"==typeof a?a?ib():"":a}function Mc(a){var b=[];a=pb(a,!1);for(var c=0,d;d=a[c];c++)b[c]=d.id;return b}function F(a){return Dc(uc,a)}
function Nc(a){if(("move"==a.type||"create"==a.type)&&a.Db){var b=Lc[a.Db]||null,c=b.rc(a.ga);if(c){a=Gc;try{Gc=!1;var d=c.getParent();if(d&&d.isEnabled()){var e=pb(c,!1);b=0;for(var f;f=e[b];b++)f.Zb(!0)}else if((c.v||c.H)&&!b.Ta()){do c.Zb(!1),c=qb(c);while(c)}}finally{Gc=a}}}};
function G(a){return document.createElementNS("https://developers.google.com/blockly/xml",a)};
function Oc(a,b){if(a.Vb()&&(a=Pc(a,!1)[0],!a))return new DocumentFragment;var c;a.h.s&&(c=a.h.ie());b=Qc(a,b);var d=a.ea();b.setAttribute("x",Math.round(a.h.s?c-d.x:d.x));b.setAttribute("y",Math.round(d.y));return b}
function Qc(a,b){if(a.Vb())return(a=Pc(a,!1)[0])?Qc(a):new DocumentFragment;var c=G(a.X?"shadow":"block");c.setAttribute("type",a.type);b||c.setAttribute("id",a.id);if(a.xa){var d=a.xa();d&&(d.hasChildNodes()||d.hasAttributes())&&c.appendChild(d)}d=0;for(var e;e=a.B[d];d++)for(var f=0,h;h=e.ba[f];f++){var k=!1;h.name&&(h.Lf?k=!0:h.Ij&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),
k=!0));k?(k=G("field"),k.setAttribute("name",h.name||""),h=h.Ur(k)):h=null;h&&c.appendChild(h)}if(d=a.mc.text)e=a.mc.size,f=a.mc.zo,h=G("comment"),h.appendChild(document.createTextNode(d)),h.setAttribute("pinned",f),h.setAttribute("h",e.height),h.setAttribute("w",e.width),c.appendChild(h);a.data&&(d=G("data"),d.appendChild(document.createTextNode(a.data)),c.appendChild(d));for(d=0;e=a.B[d];d++){var m;f=!0;5!=e.type&&(k=e.connection.L(),1==e.type?m=G("value"):3==e.type&&(m=G("statement")),h=e.connection.$g(),
!h||k&&k.X||m.appendChild(Rc(h,b)),k&&(h=Qc(k,b),1==h.nodeType&&(m.appendChild(h),f=!1)),m.setAttribute("name",e.name),f||c.appendChild(m))}void 0!=a.ne&&a.ne!=a.Zt&&c.setAttribute("inline",a.ne);a.isCollapsed()&&c.setAttribute("collapsed",!0);a.isEnabled()||c.setAttribute("disabled",!0);a.Pc()||a.X||c.setAttribute("deletable",!1);a.bb()||a.X||c.setAttribute("movable",!1);a.Ub()||c.setAttribute("editable",!1);if(d=qb(a))h=Qc(d,b),1==h.nodeType&&(m=G("next"),m.appendChild(h),c.appendChild(m));h=a.F&&
a.F.$g();!h||d&&d.X||m.appendChild(Rc(h,b));return c}function Rc(a,b){for(var c=a=a.cloneNode(!0),d;c;)if(b&&"shadow"==c.nodeName&&c.removeAttribute("id"),c.firstChild)c=c.firstChild;else{for(;c&&!c.nextSibling;)d=c,c=c.parentNode,3==d.nodeType&&""==d.data.trim()&&c.firstChild!=d&&z(d);c&&(d=c,c=c.nextSibling,3==d.nodeType&&""==d.data.trim()&&z(d))}return a}function Sc(a){return(new XMLSerializer).serializeToString(a).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")}
function Tc(a){var b=(new DOMParser).parseFromString(a,"text/xml");if(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return b.documentElement}
function Uc(a,b){var c;b.s&&(c=b.ie());var d=[];jc();var e=Fc;e||E(!0);b.Ib&&b.Ib(!1);var f=!0;try{for(var h=0,k;k=a.childNodes[h];h++){var m=k.nodeName.toLowerCase(),n=k;if("block"==m||"shadow"==m&&!Gc){var p=Vc(n,b);d.push(p.id);var t=n.hasAttribute("x")?parseInt(n.getAttribute("x"),10):10,x=n.hasAttribute("y")?parseInt(n.getAttribute("y"),10):10;isNaN(t)||isNaN(x)||p.moveBy(b.s?c-t:t,x);f=!1}else{if("shadow"==m)throw TypeError("Shadow block cannot be a top-level block.");if("variables"==m){if(f)for(var C=
void 0,Y=b,Q=0;C=n.childNodes[Q];Q++){if(1==C.nodeType){var eb=C.getAttribute("type"),Oe=C.getAttribute("id");Y.ad(C.textContent,eb,Oe)}}else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");f=!1}}}}finally{e||E(!1),kc()}b.Ib&&b.Ib(!0);D(new (F("finished_loading"))(b))}
function Vc(a,b){if(a instanceof Wc){var c=a;a=b;b=c;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}B++;c=b.Qf();try{var d=Xc(a,b),e=pb(d,!1);if(b.I){Yc(d,!1);for(var f=e.length-1;0<=f;f--)e[f].me();for(f=e.length-1;0<=f;f--)e[f].P(!1);setTimeout(function(){d.Jc||Yc(d,!0)},1);Zc(d);$c(b)}else for(f=e.length-1;0<=f;f--)e[f].Xf()}finally{B--}if(0==B){a=ad(b,c);for(f=0;f<a.length;f++)b=a[f],D(new (F("var_create"))(b));D(new (F("create"))(d))}return d}
function bd(a,b){for(var c=0,d;d=a[c];c++){var e=d.textContent,f="true"==d.getAttribute("pinned"),h=parseInt(d.getAttribute("w"),10);d=parseInt(d.getAttribute("h"),10);b.Ld(e);b.mc.zo=f;isNaN(h)||isNaN(d)||(b.mc.size=new Fa(h,d));f&&b.Kt&&!b.Da&&setTimeout(function(){b.Gc.ma(!0)},1)}}function cd(a){for(var b={Sh:null,Th:null},c=0,d;d=a.childNodes[c];c++)1==d.nodeType&&("block"==d.nodeName.toLowerCase()?b.Sh=d:"shadow"==d.nodeName.toLowerCase()&&(b.Th=d));return b}
function Xc(a,b,c,d){var e=a.getAttribute("type");if(!e)throw TypeError("Block type unspecified: "+a.outerHTML);var f=a.getAttribute("id");f=b.mh(e,f);for(var h=[],k=[],m=[],n=[],p=[],t=[],x=0,C;C=a.childNodes[x];x++)if(3!=C.nodeType)switch(C.nodeName.toLowerCase()){case "mutation":h.push(C);break;case "comment":if(!dd){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}k.push(C);break;case "data":m.push(C);break;case "title":case "field":n.push(C);break;case "value":case "statement":p.push(C);
break;case "next":t.push(C);break;default:console.warn("Ignoring unknown tag: "+C.nodeName)}x=!1;C=0;for(var Y;Y=h[C];C++)f.$a&&(f.$a(Y),f.me&&(x=!0));h=x;bd(k,f);for(k=0;x=m[k];k++)f.data=x.textContent;if(c)if(d)if(f.H)c.connect(f.H);else throw TypeError("Next block does not have previous statement.");else if(f.v)c.connect(f.v);else if(f.H)c.connect(f.H);else throw TypeError("Child block does not have output or previous statement.");for(c=0;k=n[c];c++)m=k.getAttribute("name"),d=f,(x=ed(d,m))?x.Dk(k):
console.warn("Ignoring non-existent field "+m+" in block "+d.type);for(n=0;d=p[n];n++){m=d.getAttribute("name");c=H(f,m);if(!c){console.warn("Ignoring non-existent input "+m+" in block "+e);break}d=cd(d);if(d.Sh){if(!c.connection)throw TypeError("Input connection does not exist.");Xc(d.Sh,b,c.connection,!1)}d.Th&&c.connection.gj(d.Th)}for(e=0;p=t[e];e++){p=cd(p);if(p.Sh){if(!f.F)throw TypeError("Next statement does not exist.");if(f.F.isConnected())throw TypeError("Next statement is already connected.");
Xc(p.Sh,b,f.F,!0)}p.Th&&f.F&&f.F.gj(p.Th)}h&&f.me();(b=a.getAttribute("inline"))&&f.Wc("true"==b);(b=a.getAttribute("disabled"))&&f.Zb("true"!=b&&"disabled"!=b);if(b=a.getAttribute("deletable"))f.xm="true"==b;(b=a.getAttribute("movable"))&&f.yl("true"==b);(b=a.getAttribute("editable"))&&f.Oo("true"==b);(b=a.getAttribute("collapsed"))&&f.Bf("true"==b);if("shadow"==a.nodeName.toLowerCase()){a=Pc(f,!1);for(b=0;t=a[b];b++)if(!t.X)throw TypeError("Shadow block not allowed non-shadow child.");if(f.fe().length)throw TypeError("Shadow blocks cannot have variable references.");
f.Ro(!0)}return f};
function fd(){this.Ve=Object.create(null);this.Pg=Object.create(null)}function gd(a,b){var c=b.component.id;if(a.Ve[c])throw Error('Plugin "'+c+'" with capabilities "'+a.Ve[c].sd+'" already added.');a.Ve[c]=b;for(var d=[],e=0;e<b.sd.length;e++){var f=String(b.sd[e]).toLowerCase();d.push(f);void 0===a.Pg[f]?a.Pg[f]=[c]:a.Pg[f].push(c)}a.Ve[c].sd=d}
function hd(a,b){var c=a.Ve[b];if(c){for(var d=0;d<c.sd.length;d++){var e=String(c.sd[d]).toLowerCase();a.Pg[e].splice(a.Pg[e].indexOf(b),1)}delete a.Ve[b]}}function id(a,b){var c=jd;c=String(c).toLowerCase();return-1!==a.Ve[b].sd.indexOf(c)}function kd(a,b){b=String(b).toLowerCase();b=a.Pg[b];if(!b)return[];var c=[],d=[],e=a.Ve;b.forEach(function(f){d.push(e[f])});d.sort(function(f,h){return f.weight-h.weight});d.forEach(function(f){c.push(f.component)});return c}function ld(a){this.ue=a}
ld.prototype.toString=function(){return this.ue};var md=new ld("positionable"),nd=new ld("drag_target"),jd=new ld("delete_area"),od=new ld("autohideable");function pd(){this.Dd=null;this.Db=void 0;this.group=Fc;this.Ab=Gc}g=pd.prototype;g.yn=!1;g.R=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};g.N=function(a){this.Dd=!1;this.group=a.group};g.Rk=function(){return!1};g.run=function(){};function qd(a){if(a.Db)var b=Lc[a.Db]||null;if(!b)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return b};function I(a,b){a.j=b.prototype;a.prototype=Object.create(b.prototype);a.prototype.constructor=a}function rd(a,b){for(var c in b)a[c]=b[c]}function sd(a){return Object.values?Object.values(a):Object.keys(a).map(function(b){return a[b]})};function td(a){td.j.constructor.call(this);this.Dd="undefined"==typeof a;this.Db=a?a:"";this.Ab=!1}I(td,pd);td.prototype.yn=!0;function ud(a,b,c,d){ud.j.constructor.call(this,a?a.h.id:void 0);this.ga=a?a.id:null;this.element="undefined"==typeof b?"":b;this.oldValue="undefined"==typeof c?"":c;this.newValue="undefined"==typeof d?"":d}I(ud,td);ud.prototype.type="ui";
ud.prototype.R=function(){var a=ud.j.R.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.ga&&(a.blockId=this.ga);return a};ud.prototype.N=function(a){ud.j.N.call(this,a);this.element=a.element;this.newValue=a.newValue;this.ga=a.blockId};A(uc,"ui",ud);function vd(a,b,c){vd.j.constructor.call(this,a?a.h.id:b);this.ga=a?a.id:null;this.Rr=c}I(vd,td);vd.prototype.type="click";vd.prototype.R=function(){var a=vd.j.R.call(this);a.targetType=this.Rr;this.ga&&(a.blockId=this.ga);return a};vd.prototype.N=function(a){vd.j.N.call(this,a);this.Rr=a.targetType;this.ga=a.blockId};A(uc,"click",vd);function wd(a,b,c,d,e){this.g=a;b=void 0===b?!0:b;c=void 0===c?!0:c;var f=b&&c;b&&(this.sa=new xd(a,!0,f,d,e));c&&(this.na=new xd(a,!1,f,d,e));f&&(this.bi=w(Zb,{height:yd,width:yd,"class":"blocklyScrollbarBackground"},null),hc(this.bi,a.nd));this.oa=null}g=wd.prototype;g.m=function(){z(this.bi);this.oa=this.g=this.bi=null;this.sa&&(this.sa.m(),this.sa=null);this.na&&(this.na.m(),this.na=null)};
g.resize=function(){var a=this.g.Qb();if(a){var b=!1,c=!1;this.oa&&this.oa.kb==a.kb&&this.oa.jb==a.jb&&this.oa.Lb==a.Lb&&this.oa.Eb==a.Eb?(this.oa&&this.oa.scrollWidth==a.scrollWidth&&this.oa.Zc==a.Zc&&this.oa.scrollLeft==a.scrollLeft||(b=!0),this.oa&&this.oa.scrollHeight==a.scrollHeight&&this.oa.$c==a.$c&&this.oa.scrollTop==a.scrollTop||(c=!0)):c=b=!0;if(b||c){try{B++,this.sa&&b&&this.sa.resize(a),this.na&&c&&this.na.resize(a)}finally{B--}zd(this.g)}this.sa&&this.na&&(this.oa&&this.oa.kb==a.kb&&
this.oa.Eb==a.Eb||this.bi.setAttribute("x",this.na.position.x),this.oa&&this.oa.jb==a.jb&&this.oa.Lb==a.Lb||this.bi.setAttribute("y",this.sa.position.y));this.oa=a}};g.zl=function(a,b){this.sa&&this.sa.zl(a,b);this.na&&this.na.zl(a,b)};g.set=function(a,b,c){this.sa&&this.sa.set(a,!1);this.na&&this.na.set(b,!1);if(c||void 0===c)a={},this.sa&&(a.x=Ad(this.sa)),this.na&&(a.y=Ad(this.na)),this.g.dj(a)};g.ng=function(a){this.sa&&this.sa.ng(a);this.na&&this.na.ng(a)};
g.isVisible=function(){var a=!1;this.sa&&(a=this.sa.isVisible());this.na&&(a=a||this.na.isVisible());return a};
function xd(a,b,c,d,e){this.g=a;this.sf=c||!1;this.Vf=b;this.ag=void 0!==e?e:.5;this.ratio=this.oa=null;this.Vd(d);this.position=new r(0,0);a=yd;b?(this.Bb.setAttribute("height",a),this.Gd.setAttribute("height",a),this.Ac.setAttribute("height",a-5),this.Ac.setAttribute("y",2.5),this.Tk="width",this.xr="x"):(this.Bb.setAttribute("width",a),this.Gd.setAttribute("width",a),this.Ac.setAttribute("width",a-5),this.Ac.setAttribute("x",2.5),this.Tk="height",this.xr="y");this.mr=u(this.Bb,"mousedown",this,
this.qu);this.nr=u(this.Ac,"mousedown",this,this.su)}var Bd,Cd;g=xd.prototype;g.po=new r(0,0);g.Lr=0;g.Vc=0;g.cf=0;g.yi=0;g.wc=!0;g.Of=!0;var yd=15;sb&&(yd=25);g=xd.prototype;g.m=function(){Dd();v(this.mr);this.mr=null;v(this.nr);this.nr=null;z(this.Gd);this.Bb=this.u=this.Gd=null;this.Ac&&(this.g.Wa.unsubscribe(this.Ac),this.Ac=null);this.g=null};function Ed(a,b){return b=0>=b||isNaN(b)?0:Math.min(b,a.Vc)}function Fd(a,b){a.cf=b;a.Ac.setAttribute(a.Tk,a.cf)}
function Gd(a,b){return b=0>=b||isNaN(b)?0:Math.min(b,a.Vc-a.cf)}function Hd(a,b){a.yi=b;a.Ac.setAttribute(a.xr,a.yi)}function Id(a,b){a.Vc=b;a.Gd.setAttribute(a.Tk,a.Vc);a.Bb.setAttribute(a.Tk,a.Vc)}g.setPosition=function(a,b){this.position.x=a;this.position.y=b;ic(this.Gd,"translate("+(this.position.x+this.po.x)+"px,"+(this.position.y+this.po.y)+"px)")};
g.resize=function(a){if(!a&&(a=this.g.Qb(),!a))return;var b;(b=!this.oa)||(b=this.oa,b=!(a.kb==b.kb&&a.jb==b.jb&&a.Zc==b.Zc&&a.$c==b.$c&&a.Lb==b.Lb&&a.Eb==b.Eb&&a.scrollWidth==b.scrollWidth&&a.scrollHeight==b.scrollHeight&&a.scrollLeft==b.scrollLeft&&a.scrollTop==b.scrollTop));b&&(this.Vf?(b=a,Jd(this,b)?Kd(this,b):Ld(this,b)):(b=a,Jd(this,b)?Md(this,b):Nd(this,b)),this.oa=a,Od(this))};function Jd(a,b){return a.oa?a.oa.kb!==b.kb||a.oa.jb!==b.jb||a.oa.Eb!==b.Eb||a.oa.Lb!==b.Lb:!0}
function Kd(a,b){var c=b.kb-2*a.ag;a.sf&&(c-=yd);Id(a,Math.max(0,c));c=b.Eb+a.ag;a.sf&&a.g.s&&(c+=yd);a.setPosition(c,b.Lb+b.jb-yd-a.ag);Ld(a,b)}function Ld(a,b){if(b.kb>=b.scrollWidth)Fd(a,a.Vc),Hd(a,0),a.sf||a.ma(!1);else{a.sf||a.ma(!0);var c=a.Vc*b.kb/b.scrollWidth;c=Ed(a,c);Fd(a,c);c=b.scrollWidth-b.kb;var d=a.Vc-a.cf;b=(b.Zc-b.scrollLeft)/c*d;b=Gd(a,b);Hd(a,b);a.ratio=d/c}}
function Md(a,b){var c=b.jb-2*a.ag;a.sf&&(c-=yd);Id(a,Math.max(0,c));a.setPosition(a.g.s?b.Eb+a.ag:b.Eb+b.kb-yd-a.ag,b.Lb+a.ag);Nd(a,b)}function Nd(a,b){if(b.jb>=b.scrollHeight)Fd(a,a.Vc),Hd(a,0),a.sf||a.ma(!1);else{a.sf||a.ma(!0);var c=a.Vc*b.jb/b.scrollHeight;c=Ed(a,c);Fd(a,c);c=b.scrollHeight-b.jb;var d=a.Vc-a.cf;b=(b.$c-b.scrollTop)/c*d;b=Gd(a,b);Hd(a,b);a.ratio=d/c}}
g.Vd=function(a){var b="blocklyScrollbar"+(this.Vf?"Horizontal":"Vertical");a&&(b+=" "+a);this.Gd=w($b,{"class":b},null);this.u=w(Tb,{},this.Gd);this.Bb=w(Zb,{"class":"blocklyScrollbarBackground"},this.u);a=Math.floor((yd-5)/2);this.Ac=w(Zb,{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.u);this.g.Wa.subscribe(this.Ac,"scrollbarColour","fill");this.g.Wa.subscribe(this.Ac,"scrollbarOpacity","fill-opacity");hc(this.Gd,J(this.g))};g.isVisible=function(){return this.wc};
g.ng=function(a){var b=a!=this.Of;this.Of=a;b&&this.wj()};g.ma=function(a){var b=a!=this.isVisible();if(this.sf)throw Error("Unable to toggle visibility of paired scrollbars.");this.wc=a;b&&this.wj()};g.wj=function(){this.Of&&this.isVisible()?this.Gd.setAttribute("display","block"):this.Gd.setAttribute("display","none")};
g.qu=function(a){Pd(this.g);tb=null;Dd();if(bb(a))a.stopPropagation();else{var b=cb(a,J(this.g),Qd(this.g));b=this.Vf?b.x:b.y;var c=ab(this.Ac);c=this.Vf?c.x:c.y;var d=this.yi,e=.95*this.cf;b<=c?d-=e:b>=c+this.cf&&(d+=e);Hd(this,Gd(this,d));Od(this);a.stopPropagation();a.preventDefault()}};
g.su=function(a){Pd(this.g);Dd();bb(a)?a.stopPropagation():(this.Lu=this.yi,Rd(this.g),this.Lr=this.Vf?a.clientX:a.clientY,Bd=u(document,"mouseup",this,this.uu),Cd=u(document,"mousemove",this,this.tu),a.stopPropagation(),a.preventDefault())};g.tu=function(a){Hd(this,Gd(this,this.Lu+((this.Vf?a.clientX:a.clientY)-this.Lr)));Od(this)};g.uu=function(){Sd(this.g);tb=null;Dd()};function Dd(){Td(!0);Bd&&(v(Bd),Bd=null);Cd&&(v(Cd),Cd=null)}function Ad(a){a=a.yi/(a.Vc-a.cf);isNaN(a)&&(a=0);return a}
function Od(a){var b=Ad(a),c={};a.Vf?c.x=b:c.y=b;a.g.dj(c)}g.set=function(a,b){Hd(this,Gd(this,a*this.ratio));(b||void 0===b)&&Od(this)};g.zl=function(a,b){this.po=new r(a,b)};function Ud(a){if(!a)return null;if(a instanceof Element||"string"==typeof a){if(a){if("string"!=typeof a&&(Ja&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=Tc(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;var b={contents:Vd(a)};a instanceof Node&&Wd(a,b);a=b}b=a.kind;var c=a.contents;if(b&&"flyoutToolbox"!=b&&"categoryToolbox"!=b)throw Error("Invalid toolbox kind "+b+". Please supply either flyoutToolbox or categoryToolbox");
if(!c)throw Error("Toolbox must have a contents attribute.");return a}function Xd(a){return a?a.contents?a.contents:Array.isArray(a)&&0<a.length&&!a[0].nodeType?a:Vd(a):[]}function Yd(a){if(!a)return!1;var b=a.kind;return b?"categoryToolbox"==b:!!a.contents.filter(function(c){return"CATEGORY"==c.kind.toUpperCase()}).length}
function Vd(a){var b=[],c=a.childNodes;c||(c=a);a=0;for(var d;d=c[a];a++)if(d.tagName){var e={},f=d.tagName.toUpperCase();e.kind=f;"BLOCK"==f?e.blockxml=d:d.childNodes&&0<d.childNodes.length&&(e.contents=Vd(d));Wd(d,e);b.push(e)}return b}function Wd(a,b){for(var c=0;c<a.attributes.length;c++){var d=a.attributes[c];-1<d.nodeName.indexOf("css-")?(b.cssconfig=b.cssconfig||{},b.cssconfig[d.nodeName.replace("css-","")]=d.value):b[d.nodeName]=d.value}};function Zd(a,b,c,d,e,f){var h=f.la&&!!f.la.na;0===a.Ai?(c=e.Xj.left+c,h&&f.s&&(c+=yd)):(c=e.Xj.left+e.gs.width-b.width-c,h&&!f.s&&(c-=yd));0===a.vertical?a=e.Xj.top+d:(a=e.Xj.top+e.gs.height-b.height-d,f.la&&f.la.sa&&(a-=yd));return new ya(a,a+b.height,c,c+b.width)}function $d(a){return{Ai:2!==a.Su.position?0:1,vertical:1}}
function ae(a,b,c,d){for(var e=a.left,f=a.right-a.left,h=a.bottom-a.top,k=0,m;m=d[k];k++)a.left>m.right||a.right<m.left||a.top>m.bottom||a.bottom<m.top||(a=0===c?m.top-h-b:m.bottom+b,a=new ya(a,a+h,e,e+f),k=-1);return a};
function be(a){this.g=a;this.id="zoomControls";this.Me=this.Ej=this.Eh=this.mo=this.lo=this.no=null}g=be.prototype;g.Rd=32;g.Ne=32;g.Vj=2;g.Nj=11;g.Gh=20;g.Ql=20;g.u=null;g.re=0;g.Ie=0;g.Bi=!1;
g.va=function(){this.u=w(Tb,{},null);var a=String(Math.random()).substring(2);this.Ej=w(Tb,{"class":"blocklyZoom"},this.u);var b=w(Lb,{id:"blocklyZoomoutClipPath"+a},this.Ej);w(Zb,{width:32,height:32},b);w(Ub,{width:96,height:124,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+a+")"},this.Ej).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.uf+"sprites.png");this.mo=u(this.Ej,"mousedown",null,this.os.bind(this,-1));this.Eh=w(Tb,{"class":"blocklyZoom"},this.u);b=w(Lb,
{id:"blocklyZoominClipPath"+a},this.Eh);w(Zb,{width:32,height:32},b);w(Ub,{width:96,height:124,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+a+")"},this.Eh).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.uf+"sprites.png");this.lo=u(this.Eh,"mousedown",null,this.os.bind(this,1));this.g.bb()&&(this.Me=w(Tb,{"class":"blocklyZoom"},this.u),b=w(Lb,{id:"blocklyZoomresetClipPath"+a},this.Me),w(Zb,{width:32,height:32},b),w(Ub,{width:96,height:124,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+
a+")"},this.Me).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.uf+"sprites.png"),this.no=u(this.Me,"mousedown",null,this.Bu.bind(this)));return this.u};g.D=function(){gd(this.g.nc,{component:this,weight:2,sd:[md]});this.Bi=!0};g.m=function(){hd(this.g.nc,"zoomControls");this.u&&z(this.u);this.no&&v(this.no);this.lo&&v(this.lo);this.mo&&v(this.mo)};g.Xg=function(){var a=this.Vj+2*this.Ne;this.Me&&(a+=this.Nj+this.Ne);return new ya(this.Ie,this.Ie+a,this.re,this.re+this.Rd)};
g.position=function(a,b){if(this.Bi){var c=$d(a),d=this.Vj+2*this.Ne;this.Me&&(d+=this.Nj+this.Ne);var e=c.vertical;a=ae(Zd(c,new Fa(this.Rd,d),this.Ql,this.Gh,a,this.g),this.Gh,0===e?1:0,b);0===e?(e=this.Vj+this.Ne,this.Eh.setAttribute("transform","translate(0, "+e+")"),this.Me&&this.Me.setAttribute("transform","translate(0, "+(e+this.Nj+this.Ne)+")")):(e=this.Me?this.Nj+this.Ne:0,this.Eh.setAttribute("transform","translate(0, "+e+")"),this.Ej.setAttribute("transform","translate(0, "+(e+this.Vj+
this.Ne)+")"));this.Ie=a.top;this.re=a.left;this.u.setAttribute("transform","translate("+this.re+","+this.Ie+")")}};g.os=function(a,b){Pd(this.g);ce(this.g,a);de(this);tb=null;b.stopPropagation();b.preventDefault()};
g.Bu=function(a){Pd(this.g);var b=Math.log(this.g.options.Ba.Nr/this.g.scale)/Math.log(this.g.options.Ba.Gr),c=this.g;y(c.qa,"blocklyCanvasTransitioning");y(c.nd,"blocklyCanvasTransitioning");ce(this.g,b);b=this.g;if(b.bb()){c=b.Qb();var d=(c.scrollWidth-c.kb)/2,e=(c.scrollHeight-c.jb)/2;d=-d-c.scrollLeft;e=-e-c.scrollTop;b.scroll(d,e)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.");setTimeout(this.g.Ft.bind(this.g),500);de(this);tb=null;
a.stopPropagation();a.preventDefault()};function de(a){a=new (F("click"))(null,a.g.id,"zoom_controls");D(a)}Gb([".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}"]);function ee(a){return a*Math.PI/180}function fe(a,b,c){if(c<a){var d=c;c=a;a=d}return Math.max(a,Math.min(b,c))};
var ge,he,ie,je=null,ke=null,le=null,me=null,ne="",oe="";
function pe(){if(!ge){var a=document.createElement("div");a.className="blocklyDropDownDiv";(qe||document.body).appendChild(a);ge=a;var b=document.createElement("div");b.className="blocklyDropDownContent";a.appendChild(b);he=b;b=document.createElement("div");b.className="blocklyDropDownArrow";a.appendChild(b);ie=b;ge.style.opacity=0;ge.style.transition="transform 0.25s, opacity 0.25s";a.addEventListener("focusin",function(){y(a,"blocklyFocused")});a.addEventListener("focusout",function(){fc(a,"blocklyFocused")})}}
function re(a,b){var c=se(a);var d=new ya(c.top,c.bottom,c.left,c.right);c=d.left+(d.right-d.left)/2;var e=d.bottom;d=d.top;for(var f=a.C(),h=f.h;h.options.Na;)h=h.options.Na;je=J(h).parentNode;f=f.s;ke=a;me=b||null;a=ge;a.style.direction=f?"rtl":"ltr";b=te;ne=b.za.ed();oe=b.ee().ed();y(a,ne);y(a,oe);a=Ia(je);b=Ga(je);a={left:a.x,right:a.x+b.width,top:a.y,bottom:a.y+b.height,width:b.width,height:b.height};b=Ga(ge);e+b.height<a.bottom?c=ue(c,e,a,b):d-b.height>a.top?c=ve(c,d,a,b):e+b.height<document.documentElement.clientHeight?
c=ue(c,e,a,b):d-b.height>document.documentElement.clientTop?c=ve(c,d,a,b):(c=we(c,a.left,a.right,b.width),c={sn:c.Vg,tn:0,Rm:c.Vg,Sm:0,cm:null,Ng:null,em:null,dm:!1});a=c;a.dm?(ie.style.display="",ie.style.transform="translate("+a.Ng+"px,"+a.em+"px) rotate(45deg)",ie.setAttribute("class",a.cm?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):ie.style.display="none";c=Math.floor(a.sn);e=Math.floor(a.tn);d=Math.floor(a.Rm);a=Math.floor(a.Sm);b=ge;b.style.left=c+"px";
b.style.top=e+"px";b.style.display="block";b.style.opacity=1;b.style.transform="translate("+(d-c)+"px,"+(a-e)+"px)"}function ue(a,b,c,d){a=we(a,c.left,c.right,d.width);return{sn:a.Vg,tn:b,Rm:a.Vg,Sm:b+16,Ng:a.Ng,em:-9,cm:!0,dm:!0}}function ve(a,b,c,d){a=we(a,c.left,c.right,d.width);return{sn:a.Vg,tn:b-d.height,Rm:a.Vg,Sm:b-d.height-16,Ng:a.Ng,em:d.height-2-8,cm:!1,dm:!0}}function we(a,b,c,d){var e=a;a=fe(b,a-d/2,c-d);b=fe(12,e-8-a,d-12-16);return{Ng:b,Vg:a}}
function xe(){var a=ge;a.style.transform="translate(0, 0)";a.style.opacity=0;le=setTimeout(function(){ye()},250);me&&(me(),me=null)}function ye(){if(ke){le&&clearTimeout(le);var a=ge;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";a.style.backgroundColor="";a.style.borderColor="";me&&(me(),me=null);he.textContent="";he.style.width="";ke=null;ne&&(fc(a,ne),ne="");oe&&(fc(a,oe),oe="");Pd(te)}};function ze(a){ze.j.constructor.call(this);this.ga=(this.Dd="undefined"==typeof a)?"":a.id;this.Db=this.Dd?"":a.h.id}I(ze,pd);ze.prototype.R=function(){var a=ze.j.R.call(this);a.blockId=this.ga;return a};ze.prototype.N=function(a){ze.j.N.call(this,a);this.ga=a.blockId};function Ae(a,b,c,d,e){Ae.j.constructor.call(this,a);a&&(this.element="undefined"==typeof b?"":b,this.name="undefined"==typeof c?"":c,this.oldValue="undefined"==typeof d?"":d,this.newValue="undefined"==typeof e?"":e)}I(Ae,ze);g=Ae.prototype;
g.type="change";g.R=function(){var a=Ae.j.R.call(this);a.element=this.element;this.name&&(a.name=this.name);a.oldValue=this.oldValue;a.newValue=this.newValue;return a};g.N=function(a){Ae.j.N.call(this,a);this.element=a.element;this.name=a.name;this.oldValue=a.oldValue;this.newValue=a.newValue};g.Rk=function(){return this.oldValue==this.newValue};
g.run=function(a){var b=qd(this).rc(this.ga);if(b)switch(b.zb&&b.zb.ma(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(b=ed(b,this.name))?Be(b,a):console.warn("Can't set non-existent field: "+this.name);break;case "comment":b.Ld(a||null);break;case "collapsed":b.Bf(!!a);break;case "disabled":b.Zb(!a);break;case "inline":b.Wc(!!a);break;case "mutation":var c="";b.xa&&(c=(c=b.xa())&&Sc(c));if(b.$a){var d=Tc(a||"<mutation/>");b.$a(d)}D(new Ae(b,"mutation",null,c,a));break;default:console.warn("Unknown change type: "+
this.element)}else console.warn("Can't change non-existent block: "+this.ga)};function Ce(a){Ce.j.constructor.call(this,a);a&&(a.X&&(this.Ab=!1),this.xml=a.h.I?Oc(a):Qc(a),this.ff=Mc(a))}I(Ce,ze);Ce.prototype.type="create";Ce.prototype.R=function(){var a=Ce.j.R.call(this);a.xml=Sc(this.xml);a.ids=this.ff;this.Ab||(a.recordUndo=this.Ab);return a};Ce.prototype.N=function(a){Ce.j.N.call(this,a);this.xml=Tc(a.xml);this.ff=a.ids;void 0!==a.recordUndo&&(this.Ab=a.recordUndo)};
Ce.prototype.run=function(a){var b=qd(this);if(a)a=G("xml"),a.appendChild(this.xml),Uc(a,b);else{a=0;for(var c;c=this.ff[a];a++){var d=b.rc(c);d?d.m(!1):c==this.ga&&console.warn("Can't uncreate non-existent block: "+c)}}};function De(a){De.j.constructor.call(this,a);if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");a.X&&(this.Ab=!1);this.nh=a.h.I?Oc(a):Qc(a);this.ff=Mc(a)}}I(De,ze);De.prototype.type="delete";
De.prototype.R=function(){var a=De.j.R.call(this);a.oldXml=Sc(this.nh);a.ids=this.ff;this.Ab||(a.recordUndo=this.Ab);return a};De.prototype.N=function(a){De.j.N.call(this,a);this.nh=Tc(a.oldXml);this.ff=a.ids;void 0!==a.recordUndo&&(this.Ab=a.recordUndo)};De.prototype.run=function(a){var b=qd(this);if(a){a=0;for(var c;c=this.ff[a];a++){var d=b.rc(c);d?d.m(!1):c==this.ga&&console.warn("Can't delete non-existent block: "+c)}}else a=G("xml"),a.appendChild(this.nh),Uc(a,b)};
function Ee(a){Ee.j.constructor.call(this,a);a&&(a.X&&(this.Ab=!1),a=Fe(this),this.gr=a.qr,this.$q=a.Cq,this.Vn=a.Tp)}I(Ee,ze);g=Ee.prototype;g.type="move";g.R=function(){var a=Ee.j.R.call(this);this.gg&&(a.newParentId=this.gg);this.fg&&(a.newInputName=this.fg);this.nf&&(a.newCoordinate=Math.round(this.nf.x)+","+Math.round(this.nf.y));this.Ab||(a.recordUndo=this.Ab);return a};
g.N=function(a){Ee.j.N.call(this,a);this.gg=a.newParentId;this.fg=a.newInputName;if(a.newCoordinate){var b=a.newCoordinate.split(",");this.nf=new r(Number(b[0]),Number(b[1]))}void 0!==a.recordUndo&&(this.Ab=a.recordUndo)};function Ge(a){var b=Fe(a);a.gg=b.qr;a.fg=b.Cq;a.nf=b.Tp}function Fe(a){var b=qd(a).rc(a.ga);a={};var c=b.getParent();if(c){if(a.qr=c.id,b=He(c,b))a.Cq=b.name}else a.Tp=b.ea();return a}g.Rk=function(){return this.gr==this.gg&&this.$q==this.fg&&ua(this.Vn,this.nf)};
g.run=function(a){var b=qd(this),c=b.rc(this.ga);if(c){var d=a?this.gg:this.gr,e=a?this.fg:this.$q,f=a?this.nf:this.Vn;a=null;if(d&&(a=b.rc(d),!a)){console.warn("Can't connect to non-existent block: "+d);return}c.getParent()&&Ie(c);if(f)e=c.ea(),c.moveBy(f.x-e.x,f.y-e.y);else{c=c.v||c.H;b=c.type;if(e){if(a=H(a,e))var h=a.connection}else 4==b&&(h=a.F);h?c.connect(h):console.warn("Can't connect to non-existent input: "+e)}}else console.warn("Can't move non-existent block: "+this.ga)};
A(uc,"create",Ce);A(uc,"delete",De);A(uc,"change",Ae);A(uc,"move",Ee);function Je(a){this.Dd="undefined"==typeof a;this.Db=a?a.id:"";this.group=Fc;this.Ab=!1}I(Je,pd);Je.prototype.type="finished_loading";Je.prototype.R=function(){var a={type:this.type};this.group&&(a.group=this.group);this.Db&&(a.workspaceId=this.Db);return a};Je.prototype.N=function(a){this.Dd=!1;this.Db=a.workspaceId;this.group=a.group};A(uc,"finished_loading",Je);function Ke(a){Ke.j.constructor.call(this);this.If=(this.Dd="undefined"==typeof a)?"":a.T();this.Db=this.Dd?"":a.h.id}I(Ke,pd);Ke.prototype.R=function(){var a=Ke.j.R.call(this);a.varId=this.If;return a};Ke.prototype.N=function(a){Ke.j.R.call(this);this.If=a.varId};function Le(a){Le.j.constructor.call(this,a);a&&(this.wg=a.type,this.vg=a.name)}I(Le,Ke);Le.prototype.type="var_create";Le.prototype.R=function(){var a=Le.j.R.call(this);a.varType=this.wg;a.varName=this.vg;return a};
Le.prototype.N=function(a){Le.j.N.call(this,a);this.wg=a.varType;this.vg=a.varName};Le.prototype.run=function(a){var b=qd(this);a?b.ad(this.vg,this.wg,this.If):b.Zd(this.If)};function Me(a){Me.j.constructor.call(this,a);a&&(this.wg=a.type,this.vg=a.name)}I(Me,Ke);Me.prototype.type="var_delete";Me.prototype.R=function(){var a=Me.j.R.call(this);a.varType=this.wg;a.varName=this.vg;return a};Me.prototype.N=function(a){Me.j.N.call(this,a);this.wg=a.varType;this.vg=a.varName};
Me.prototype.run=function(a){var b=qd(this);a?b.Zd(this.If):b.ad(this.vg,this.wg,this.If)};function Ne(a,b){Ne.j.constructor.call(this,a);a&&(this.Wn=a.name,this.Tn="undefined"==typeof b?"":b)}I(Ne,Ke);Ne.prototype.type="var_rename";Ne.prototype.R=function(){var a=Ne.j.R.call(this);a.oldName=this.Wn;a.newName=this.Tn;return a};Ne.prototype.N=function(a){Ne.j.N.call(this,a);this.Wn=a.oldName;this.Tn=a.newName};Ne.prototype.run=function(a){var b=qd(this);a?b.yf(this.If,this.Tn):b.yf(this.If,this.Wn)};
A(uc,"var_create",Le);A(uc,"var_delete",Me);A(uc,"var_rename",Ne);function Pe(a){this.$h=a;this.va()}g=Pe.prototype;g.ra=null;g.yd=null;g.$h=null;g.Af=1;g.oj=null;g.Pp=new r(0,0);g.va=function(){this.ra||(this.ra=w($b,{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyBlockDragSurface"},this.$h),this.yd=w(Tb,{},this.ra))};
function Qe(a,b){if(a.yd.childNodes.length)throw Error("Already dragging a block.");a.yd.appendChild(b);a.ra.style.display="block";a.oj=new r(0,0)}g.sg=function(a,b){this.oj=new r(a*this.Af,b*this.Af);a=this.oj.x;b=this.oj.y;a=a.toFixed(0);b=b.toFixed(0);this.ra.style.display="block";ic(this.ra,"translate3d("+a+"px, "+b+"px, 0px)")};g.dn=function(){var a=Ya(this.ra);return new r(a.x/this.Af,a.y/this.Af)};g.U=function(){return this.ra};
g.fk=function(a){a?a.appendChild(this.yd.firstChild):this.yd.removeChild(this.yd.firstChild);this.ra.style.display="none";if(this.yd.childNodes.length)throw Error("Drag group was not cleared.");this.oj=null};function Re(a,b){this.ah=a;this.Wo=b.spacing;this.Oq=b.length;this.au=(this.Fn=a.firstChild)&&this.Fn.nextSibling;this.Iu=b.snap}Re.prototype.Af=1;Re.prototype.m=function(){this.ah=null};Re.prototype.update=function(a){this.Af=a;var b=this.Wo*a||100;this.ah.setAttribute("width",b);this.ah.setAttribute("height",b);b=Math.floor(this.Wo/2)+.5;var c=b-this.Oq/2,d=b+this.Oq/2;b*=a;c*=a;d*=a;Se(this.Fn,a,c,d,b,b);Se(this.au,a,b,b,c,d)};
function Se(a,b,c,d,e,f){a&&(a.setAttribute("stroke-width",b),a.setAttribute("x1",c),a.setAttribute("y1",e),a.setAttribute("x2",d),a.setAttribute("y2",f))}Re.prototype.moveTo=function(a,b){this.ah.setAttribute("x",a);this.ah.setAttribute("y",b);(Ja||Ka)&&this.update(this.Af)};function Te(){this.name="classic";A(yc,"classic",this)}Te.prototype.ed=function(){return this.name+"-theme"};var Ue={};Ue=new Te;function Ve(a){var b=!!a.readOnly;if(b)var c=null,d=!1,e=!1,f=!1,h=!1,k=!1,m=!1;else{c=Ud(a.toolbox);d=Yd(c);e=a.trashcan;void 0===e&&(e=d);var n=a.maxTrashcanContents;e?void 0===n&&(n=32):n=0;f=a.collapse;void 0===f&&(f=d);h=a.comments;void 0===h&&(h=d);k=a.disable;void 0===k&&(k=d);m=a.sounds;void 0===m&&(m=!0)}var p=!!a.rtl;var t="end"!==a.toolboxPosition==p?3:2;var x=a.css;void 0===x&&(x=!0);var C="https://blockly-demo.appspot.com/static/media/";a.media?C=a.media:a.path&&(C=a.path+"media/");var Y=
void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,Q=a.renderer||"geras",eb=a.plugins||{};this.s=p;this.Pi=Y;this.collapse=f;this.Wh=h;this.disable=k;this.readOnly=b;this.Nn=a.maxBlocks||Infinity;this.Wk=a.maxInstances;this.uf=C;this.tq=d;b=a.move||{};f={};void 0===b.scrollbars&&void 0===a.scrollbars?f.scrollbars=d:"object"==typeof b.scrollbars?(f.scrollbars={},f.scrollbars.Ai=!!b.scrollbars.horizontal,f.scrollbars.vertical=!!b.scrollbars.vertical,f.scrollbars.Ai&&f.scrollbars.vertical?f.scrollbars=!0:
f.scrollbars.Ai||f.scrollbars.vertical||(f.scrollbars=!1)):f.scrollbars=!!b.scrollbars||!!a.scrollbars;f.Bh=f.scrollbars&&void 0!==b.wheel?!!b.wheel:"object"==typeof f.scrollbars;f.ae=f.scrollbars?void 0===b.drag?!0:!!b.drag:!1;this.Hb=f;this.wq=e;this.Xk=n;this.Vt=m;this.Tt=x;this.Fd=c;c=a.grid||{};d={};d.spacing=Number(c.spacing)||0;d.pm=c.colour||"#888";d.length=void 0===c.length?1:Number(c.length);d.Tv=0<d.spacing&&!!c.snap;this.rq=d;c=a.zoom||{};d={};d.controls=void 0===c.controls?!1:!!c.controls;
d.Bh=void 0===c.wheel?!1:!!c.wheel;d.Nr=void 0===c.startScale?1:Number(c.startScale);d.Ji=void 0===c.maxScale?3:Number(c.maxScale);d.Li=void 0===c.minScale?.3:Number(c.minScale);d.Gr=void 0===c.scaleSpeed?1.2:Number(c.scaleSpeed);d.wr=void 0===c.pinch?d.Bh||d.controls:!!c.pinch;this.Ba=d;this.Xa=t;this.Xi=Q;this.Yi=a.rendererOverrides;this.jn=null;this.Na=a.parentWorkspace;this.plugins=eb};var We=!1,Xe=!1,Ye=0,Ze=0,$e=0,af=0,bf=null,cf=null,df=null;function ef(a){for(;a&&a.Yc;){if("string"==typeof a.Yc||"function"==typeof a.Yc)return a;a=a.Yc}return null}function ff(a){a.fu=Eb(a,"mouseover",null,gf);a.cu=Eb(a,"mouseout",null,hf);a.addEventListener("mousemove",jf,!1)}function kf(a){a&&(v(a.fu),v(a.cu),a.removeEventListener("mousemove",jf))}function gf(a){Xe||(a=ef(a.currentTarget),bf!=a&&(lf(),cf=null,bf=a),clearTimeout(Ye))}
function hf(){Xe||(Ye=setTimeout(function(){cf=bf=null;lf()},1),clearTimeout(Ze))}function jf(a){if(bf&&bf.Yc&&!Xe)if(We){var b=$e-a.pageX;a=af-a.pageY;10<Math.sqrt(b*b+a*a)&&lf()}else cf!=bf&&(clearTimeout(Ze),$e=a.pageX,af=a.pageY,Ze=setTimeout(mf,750))}function lf(){We&&(We=!1,df&&(df.style.display="none"));Ze&&clearTimeout(Ze)}
function mf(){if(!Xe&&(cf=bf,df)){df.textContent="";var a;if(a=ef(bf)){for(a=a.Yc;"function"==typeof a;)a=a();if("string"!=typeof a)throw Error("Tooltip function must return a string.");}else a="";a=Ca(a,50);a=a.split("\n");for(var b=0;b<a.length;b++){var c=document.createElement("div");c.appendChild(document.createTextNode(a[b]));df.appendChild(c)}a=bf.s;b=document.documentElement.clientWidth;c=document.documentElement.clientHeight;df.style.direction=a?"rtl":"ltr";df.style.display="block";We=!0;
var d=$e;d=a?d-(0+df.offsetWidth):d+0;var e=af+10;e+df.offsetHeight>c+window.scrollY&&(e-=df.offsetHeight+20);a?d=Math.max(5-window.scrollX,d):d+df.offsetWidth>b+window.scrollX-10&&(d=b-df.offsetWidth-10);df.style.top=e+"px";df.style.left=d+"px"}};function nf(a,b,c){Array.isArray(c)&&(c=c.join(" "));a.setAttribute("aria-"+b,c)};function of(a,b){this.o=a;this.type=b}g=of.prototype;g.J=null;g.Jc=!1;g.Te=null;g.Bl=null;g.x=0;g.y=0;g.kk=function(a){var b=this.C(),c=a.C();a.isConnected()&&a.disconnect();if(this.isConnected()){var d=this.$g(!0);this.Bl=null;var e=this.L();if(e.X)e.m(!1);else{this.disconnect();var f=e}this.Bl=d}var h;0==B&&(h=new (F("move"))(c));if(!this||!a)throw Error("Cannot connect null connections.");this.J=a;a.J=this;c.Al(b);h&&(Ge(h),D(h));f&&(a=1===this.type?f.v:f.H,(c=pf(c,a))?a.connect(c):a.$n(this))};
g.m=function(){if(this.isConnected()){this.gj(null);var a=this.L();a&&Ie(a)}this.Jc=!0};g.C=function(){return this.o};function qf(a){return 1==a.type||3==a.type}g.isConnected=function(){return!!this.J};g.$n=function(){};g.connect=function(a){if(this.J!=a&&0==rf(this,a,!1)){var b=Fc;b||E(!0);qf(this)?this.kk(a):a.kk(this);b||E(!1)}};function sf(a,b){var c=null;b=b.v;for(var d=0,e;e=a.B[d];d++)if((e=e.connection)&&0==rf(b,e,!1)){if(c)return null;c=e}return c}
function pf(a,b){if(2===b.type){a:{b=b.C();for(var c;c=sf(a,b);)if(a=c.L(),!a||a.X){b=c;break a}b=null}return b}return(a=a.Sk(!0))&&0==rf(b,a,!1)?a:null}g.disconnect=function(){var a=this.J;if(!a)throw Error("Source connection not connected.");if(a.J!=this)throw Error("Target connection not connected to source connection.");if(qf(this)){var b=this.o;var c=a.C();a=this}else b=a.C(),c=this.o;var d=Fc;d||E(!0);this.Bm(b,c);c.X||a.Zi();d||E(!1)};
g.Bm=function(a,b){var c;0==B&&(c=new (F("move"))(b));this.J=this.J.J=null;b.Al(null);c&&(Ge(c),D(c))};g.Zi=function(){var a=this.C(),b=this.$g();if(a.h&&b)if(a=Vc(b,a.h),a.v)this.connect(a.v);else if(a.H)this.connect(a.H);else throw Error("Child block does not have output or previous statement.");};g.L=function(){return this.isConnected()?this.J.C():null};g.kr=function(){!this.isConnected()||this.J&&0==rf(this,this.J,!1)||Ie(qf(this)?this.L():this.o)};
g.yc=function(a){a?(Array.isArray(a)||(a=[a]),this.Te=a,this.kr()):this.Te=null;return this};g.gj=function(a){this.Bl=a;a=this.L();a?a.X&&(a.m(!1),this.Zi()):this.Zi()};g.$g=function(a){return a&&this.L().X?Qc(this.L()):this.Bl};g.Vq=function(){return[]};g.Ad=function(){for(var a=null,b=this.o.B,c=0;c<b.length;c++)if(b[c].connection===this){a=b[c];break}return a};function rf(a,b,c,d){if(a&&b){if(qf(a)){var e=a.C();var f=b.C()}else f=a.C(),e=b.C();e=e==f?1:b.type!=ma[a.type]?2:e.h!==f.h?5:e.X&&!f.X?6:0}else e=3;return 0!=e?e:tf(a,b)?c&&!uf(a,b,d||0)?7:0:4}function tf(a,b){a=a.Te;b=b.Te;if(!a||!b)return!0;for(var c=0;c<a.length;c++)if(-1!=b.indexOf(a[c]))return!0;return!1}
function uf(a,b,c){if(vf(a,b)>c||b.C().Vb())return!1;switch(b.type){case 4:return a.J||-1!=wf.indexOf(b)?a=!1:b.J?(a=b.L(),a=a.Vb()?!(a.H&&a.H.L()):!1):a=!0,a;case 2:if(b.isConnected()&&!b.L().Vb()||a.isConnected())return!1;break;case 1:if(b.isConnected()&&!b.L().bb()&&!b.L().X)return!1;break;case 3:if(b.isConnected()&&!a.C().F&&!b.L().X&&b.L().F)return!1;break;default:return!1}return-1!=wf.indexOf(b)?!1:!0}A(sc,"default",function(){});function xf(a){this.Y=Object.create(null);this.h=a}g=xf.prototype;g.clear=function(){this.Y=Object.create(null)};g.yf=function(a,b){var c=this.hd(a);if(!c)throw Error("Tried to rename a variable that didn't exist. ID: "+a);a=this.Nc(b,c.type);var d=yf(this.h);E(!0);try{if(a&&a.T()!=c.T()){var e=c.type;b!=a.name&&zf(a,b,d);for(b=0;b<d.length;b++)d[b].vl(c.T(),a.T());D(new (F("var_delete"))(c));this.Y[e].splice(this.xi(e).indexOf(c),1)}else zf(c,b,d)}finally{E(!1)}};
function zf(a,b,c){D(new (F("var_rename"))(a,b));a.name=b;for(b=0;b<c.length;b++)c[b].Il(a)}g.ad=function(a,b,c){var d=this.Nc(a,b);if(d){if(c&&d.T()!=c)throw Error('Variable "'+a+'" is already in use and its id is "'+d.T()+'" which conflicts with the passed in id, "'+c+'".');return d}if(c&&this.hd(c))throw Error('Variable id, "'+c+'", is already in use.');b=b||"";d=new Af(this.h,a,b,c||ib());a=this.Y[b]||[];a.push(d);delete this.Y[b];this.Y[b]=a;return d};
g.Zd=function(a){var b=this.hd(a);if(b){var c=b.name,d=this.hn(a);a=0;for(var e;e=d[a];a++)if("procedures_defnoreturn"==e.type||"procedures_defreturn"==e.type){a=K(e,"NAME");c=q.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",c).replace("%2",a);Bf(c);return}var f=this;1<d.length?(c=q.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(d.length)).replace("%2",c),Cf(c,function(h){h&&b&&Df(f,b,d)})):Df(f,b,d)}else console.warn("Can't delete non-existent variable: "+a)};
function Df(a,b,c){var d=Fc;d||E(!0);try{for(var e=0;e<c.length;e++)c[e].m(!0);var f=a.Y[b.type];a=0;for(var h;h=f[a];a++)if(h.T()==b.T()){f.splice(a,1);D(new (F("var_delete"))(b));break}}finally{d||E(!1)}}g.Nc=function(a,b){if(b=this.Y[b||""])for(var c=0,d;d=b[c];c++)if(Ef(d.name,a))return d;return null};g.hd=function(a){for(var b=Object.keys(this.Y),c=0;c<b.length;c++)for(var d=b[c],e=0,f;f=this.Y[d][e];e++)if(f.T()==a)return f;return null};g.xi=function(a){return(a=this.Y[a||""])?a.slice():[]};
g.gn=function(a){var b={};rd(b,this.Y);a&&a.vf&&rd(b,a.vf.Y);a=Object.keys(b);b=!1;for(var c=0;c<a.length;c++)""==a[c]&&(b=!0);b||a.push("");return a};g.Qf=function(){var a=[],b;for(b in this.Y)a=a.concat(this.Y[b]);return a};g.Wm=function(){var a=[],b;for(b in this.Y)for(var c=this.Y[b],d=0,e;e=c[d];d++)a.push(e.name);return a};g.hn=function(a){for(var b=[],c=yf(this.h),d=0;d<c.length;d++){var e=c[d].fe();if(e)for(var f=0;f<e.length;f++)e[f].T()==a&&b.push(c[d])}return b};function Wc(a){this.id=ib();Lc[this.id]=this;this.options=a||new Ve({});this.s=!!this.options.s;this.Xa=this.options.Xa;new (Ec(sc,this.options,!0))(this);this.sj=[];this.Hl=[];Object.create(null);this.cb=[];this.tg=[];this.Ui=[];this.gm=Object.create(null);this.Ke=Object.create(null);this.Y=new xf(this);this.vf=null}g=Wc.prototype;g.I=!1;g.wn=!1;g.sp=1024;g.mk=null;g.m=function(){this.cb.length=0;this.clear();delete Lc[this.id]};
g.Od=function(a,b){a=a.ea();b=b.ea();return a.y+Wc.prototype.Od.offset*a.x-(b.y+Wc.prototype.Od.offset*b.x)};g.Zj=function(a){this.sj.push(a)};g.ul=function(a){if(!nb(this.sj,a))throw Error("Block not present in workspace's list of top-most blocks.");};g.Sa=function(a){var b=[].concat(this.sj);a&&1<b.length&&(this.Od.offset=Math.sin(ee(3)),this.s&&(this.Od.offset*=-1),b.sort(this.Od));return b};function Ff(a,b){return a.Ke[b]?a.Ke[b].slice(0):[]}
function yf(a){var b=a.Sa(!1);for(a=0;a<b.length;a++)b.push.apply(b,Pc(b[a],!1));return b.filter(function(c){return!c.Vb()})}g.clear=function(){this.wn=!0;try{var a=Fc;for(a||E(!0);this.sj.length;)this.sj[0].m(!1);for(;this.Hl.length;)this.Hl[this.Hl.length-1].m(!1);a||E(!1);this.Y.clear();this.vf&&this.vf.clear()}finally{this.wn=!1}};g.yf=function(a,b){this.Y.yf(a,b)};g.ad=function(a,b,c){return this.Y.ad(a,b,c)};g.hn=function(a){return this.Y.hn(a)};g.Zd=function(a){this.Y.Zd(a)};
g.Nc=function(a,b){return this.Y.Nc(a,b)};g.hd=function(a){return this.Y.hd(a)};g.xi=function(a){return this.Y.xi(a)};g.gn=function(){return this.Y.gn(this)};g.Qf=function(){return this.Y.Qf()};g.Wm=function(){return this.Y.Wm()};g.ie=function(){return 0};g.mh=function(a,b){return new Gf(this,a,b)};function Hf(a){return isNaN(a.options.Nn)?Infinity:a.options.Nn-yf(a).length}
function If(a,b){if(!Jf(a))return!0;var c=0,d;for(d in b){if(b[d]>(a.options.Wk?(void 0!==a.options.Wk[d]?a.options.Wk[d]:Infinity)-Ff(a,d).length:Infinity))return!1;c+=b[d]}return c>Hf(a)?!1:!0}function Jf(a){return Infinity!=a.options.Nn||!!a.options.Wk}function Kf(a,b){var c=b?a.Ui:a.tg;a=b?a.tg:a.Ui;var d=c.pop();if(d){for(var e=[d];c.length&&d.group&&d.group==c[c.length-1].group;)e.push(c.pop());for(c=0;d=e[c];c++)a.push(d);e=Kc(e,b);Gc=!1;try{for(c=0;d=e[c];c++)d.run(b)}finally{Gc=!0}}}
function Lf(a,b){a.cb.push(b)}g.rc=function(a){return this.gm[a]||null};g.To=function(a){this.Y=a};var Lc=Object.create(null);function Mf(){var a=[],b;for(b in Lc)a.push(Lc[b]);return a};function Nf(a){this.$h=a;this.va()}g=Nf.prototype;g.ra=null;g.$h=null;g.va=function(){this.ra||(this.ra=w($b,{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.$h.appendChild(this.ra))};g.sg=function(a,b){a=a.toFixed(0);b=b.toFixed(0);this.ra.style.display="block";ic(this.ra,"translate3d("+a+"px, "+b+"px, 0px)")};g.dn=function(){return Ya(this.ra)};
g.fk=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var b=this.ra.childNodes[0],c=this.ra.childNodes[1];if(!(b&&c&&gc(b,"blocklyBlockCanvas")&&gc(c,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.Do?hc(b,this.Do):a.insertBefore(b,a.firstChild);hc(c,b);this.ra.style.display="none";if(this.ra.childNodes.length)throw Error("Drag surface was not cleared.");ic(this.ra,"");this.Do=null};function Of(a,b,c){if(!b)throw Error("Cannot create a node without a location.");this.vj=a;this.V=b;this.ls=null;(a=c||null)&&a.ks&&(this.ls=a.ks)}var Pf=!1;function Qf(a){return a?new Of("field",a):null}function Rf(a){if(!a)return null;var b=a.type;return 1==b||3==b&&a.Ad()?Sf(a.Ad()):3==b?new Of("next",a):2==b?new Of("output",a):4==b?new Of("previous",a):null}function Sf(a){return a&&a.connection?new Of("input",a.connection):null}function Tf(a){return a?new Of("block",a):null}
function Uf(a){return a?new Of("stack",a):null}g=Of.prototype;g.getType=function(){return this.vj};function Vf(a,b){a=a.V;a instanceof Gf||(a=a.C());if(!a||!a.h)return null;var c=a.gd();a=c.h.Sa(!0);for(var d=0,e;e=a[d];d++)if(c.id==e.id)return b=d+(b?1:-1),-1==b||b==a.length?null:Uf(a[b]);throw Error("Couldn't find "+(b?"next":"previous")+" stack?!");}function Wf(a){if(!a)return null;do var b=a.H&&a.H.L();while(b&&qb(b)==a&&(a=b));return(b=a.H||a.v)&&b.J&&b.J.Ad()?Sf(b.J.Ad()):Uf(a)}
g.C=function(){return"block"===this.getType()?this.V:"stack"===this.getType()?this.V:"workspace"===this.getType()?null:this.V.C()};
g.next=function(){switch(this.vj){case "stack":return Vf(this,!0);case "output":var a=this.V;return Tf(a.C());case "field":a:{var b=this.V,c=b.Ad();a=b.C();b=c.ba.indexOf(b)+1;c=a.B.indexOf(c);for(var d;d=a.B[c];c++){for(var e=d.ba;b<e.length;){if(Xf(e[b])||Pf){a=Qf(e[b]);break a}b++}b=0;if(d.connection){a=Sf(d);break a}}a=null}return a;case "input":a:{b=this.V.Ad();a=b.C();for(b=a.B.indexOf(b)+1;c=a.B[b];b++){d=c.ba;e=0;for(var f;f=d[e];e++)if(Xf(f)||Pf){a=Qf(f);break a}if(c.connection){a=Sf(c);
break a}}a=null}return a;case "block":return Rf(this.V.F);case "previous":return a=this.V,Tf(a.C());case "next":return a=this.V,Rf(a.J)}return null};g.gf=function(){switch(this.vj){case "workspace":var a=this.V.Sa(!0);if(0<a.length)return Uf(a[0]);break;case "stack":a=this.V;var b=a.H||a.v;return b?Rf(b):Tf(a);case "block":a=this.V;a:{a=a.B;b=0;for(var c;c=a[b];b++){for(var d=c.ba,e=0,f;f=d[e];e++)if(Xf(f)||Pf){a=Qf(f);break a}if(c.connection){a=Sf(c);break a}}a=null}return a;case "input":return Rf(this.V.J)}return null};
g.we=function(){switch(this.vj){case "stack":return Vf(this,!1);case "field":a:{var a=this.V;var b=a.Ad();var c=a.C();a=b.ba.indexOf(a)-1;for(var d=c.B.indexOf(b),e;e=c.B[d];d--){if(e.connection&&e!==b){b=Sf(e);break a}for(e=e.ba;-1<a;){if(Xf(e[a])||Pf){b=Qf(e[a]);break a}a--}0<=d-1&&(a=c.B[d-1].ba.length-1)}b=null}return b;case "input":a:{b=this.V.Ad();c=b.C();for(a=c.B.indexOf(b);d=c.B[a];a--){if(d.connection&&d!==b){b=Sf(d);break a}d=d.ba;e=d.length-1;for(var f;f=d[e];e--)if(Xf(f)||Pf){b=Qf(f);
break a}}b=null}return b;case "block":return b=this.V,Rf(b.H||b.v);case "previous":b=this.V;if((b=b.J)&&!b.Ad())return Rf(b);break;case "next":return b=this.V,Tf(b.C())}return null};
g.rf=function(){switch(this.vj){case "stack":var a=this.V,b=a.ea();a=a.h;return(b=new r(b.x,b.y+-20),a)?new Of("workspace",a,{ks:b}):null;case "output":return b=this.V,(a=b.J)?Rf(a):Uf(b.C());case "field":return Tf(this.V.C());case "input":return b=this.V,Tf(b.C());case "block":return a=this.V,Wf(a);case "previous":return b=this.V,Wf(b.C());case "next":return b=this.V,Wf(b.C())}return null};var L=Object.create(null);var Yf=Object.create(null);function Zf(a,b){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(Yf[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof b)throw Error('Error: Extension "'+a+'" must be a function');Yf[a]=b}function $f(a,b){if(!b||"object"!=typeof b)throw Error('Error: Mixin "'+a+'" must be a object');Zf(a,function(){ag(this,b)})}
function bg(a,b,c,d){var e='Error when registering mutator "'+a+'": ';cg(e,b.$a,"domToMutation");cg(e,b.xa,"mutationToDom");var f=dg(b,e);if(c&&"function"!=typeof c)throw Error('Extension "'+a+'" is not a function');Zf(a,function(){if(f){if(!eg)throw Error(e+"Missing require for Blockly.Mutator");this.og(new eg(d||[]))}ag(this,b);c&&c.apply(this)})}
function fg(a,b,c){var d=Yf[a];if("function"!=typeof d)throw Error('Error: Extension "'+a+'" not found.');if(c){if(gg(b).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+b.id);}else var e=gg(b);d.apply(b);if(c){a='Error after applying mutator "'+a+'": ';if("function"!=typeof b.$a)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof b.xa)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');
dg(b,a)}else{a:if(c=e,b=gg(b),b.length!=c.length)b=!1;else{for(d=0;d<b.length;d++)if(c[d]!=b[d]){b=!1;break a}b=!0}if(!b)throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');}}function cg(a,b,c){if(!b)throw Error(a+'missing required property "'+c+'"');if("function"!=typeof b)throw Error(a+'" required property "'+c+'" must be a function');}
function dg(a,b){var c=void 0!==a.We,d=void 0!==a.Ze;if(c&&d){if("function"!=typeof a.We)throw Error(b+"compose must be a function.");if("function"!=typeof a.Ze)throw Error(b+"decompose must be a function.");return!0}if(!c&&!d)return!1;throw Error(b+'Must have both or neither of "compose" and "decompose"');}function gg(a){var b=[];void 0!==a.$a&&b.push(a.$a);void 0!==a.xa&&b.push(a.xa);void 0!==a.We&&b.push(a.We);void 0!==a.Ze&&b.push(a.Ze);return b}
function hg(a,b){var c=[];"object"==typeof document&&mb(function(){for(var d in b)hb(b[d])});return function(){this.type&&-1==c.indexOf(this.type)&&(ig(this,a,b),c.push(this.type));this.ib(function(){var d=String(K(this,a)),e=b[d];null==e?-1==c.indexOf(this.type)&&(d="No tooltip mapping for value "+d+" of field "+a,null!=this.type&&(d+=" of block type "+this.type),console.warn(d+".")):e=fb(e);return e}.bind(this))}}
function ig(a,b,c){var d=ed(a,b);if(!jg(d)){d=kg(d);for(var e=0;e<d.length;++e){var f=d[e][1];null==c[f]&&console.warn("No tooltip mapping for value "+f+" of field "+b+" of block type "+a.type)}}}function lg(a){"object"==typeof document&&mb(function(){hb(a)});return function(){this.ib(function(){var b=ed(this,"VAR");return fb(a).replace("%1",b?b.Rb():"")}.bind(this))}}Zf("parent_tooltip_when_inline",function(){this.Tu=this.Yc;this.ib(function(){var a=this.getParent();return a&&mg(a)&&a.Yc||this.Tu}.bind(this))});function ng(a){var b=Dc(vc,a.type);return b?b.N(a):(console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)};var og=0,pg=null;function qg(a,b,c,d){var e=(new Date-c)/150;1<e?z(a):(a.setAttribute("transform","translate("+(a.Vu+(b?-1:1)*a.Hp.width*d/2*e)+","+(a.Wu+a.Hp.height*d*e)+") scale("+(1-e)*d+")"),setTimeout(qg,10,a,b,c,d))}function rg(a,b,c){var d=(new Date-b)/150;1<d?z(a):(a.setAttribute("r",25*d*c),a.style.opacity=1-d,og=setTimeout(rg,10,a,b,c))}
function sg(a,b,c){var d=(new Date-c)/200;1<d?a.jj="":(a.jj="skewX("+Math.round(Math.sin(d*Math.PI*3)*(1-d)*b)+")",pg=a,og=setTimeout(sg,10,a,b,c));a.setAttribute("transform",a.uj+a.jj)}function tg(){if(pg){clearTimeout(og);var a=pg;a.jj="";a.setAttribute("transform",a.uj);pg=null}};function ug(a,b,c){ug.j.constructor.call(this,a?a.h.id:void 0);this.ga=a?a.id:null;this.Iq=b;this.Kp=c}I(ug,td);ug.prototype.type="drag";ug.prototype.R=function(){var a=ug.j.R.call(this);a.isStart=this.Iq;a.blockId=this.ga;a.blocks=this.Kp;return a};ug.prototype.N=function(a){ug.j.N.call(this,a);this.Iq=a.isStart;this.ga=a.blockId;this.Kp=a.blocks};A(uc,"drag",ug);function vg(a){this.Hf=M=a;this.g=a.h;this.jf=this.Bn=null;this.oi=wg(this,this.Hf);this.Wb=this.Qa=null;this.pd=!1;this.ni=this.nn=this.cg=null;this.$j=xg(this)}vg.prototype.m=function(){this.$j.length=0;B++;try{this.oi&&this.oi.m(),this.jf&&this.jf.m()}finally{B--}};
vg.prototype.update=function(a,b){var c=28;for(var d=null,e=null,f=0;f<this.$j.length;f++){var h=this.$j[f],k=h.closest(c,a);k.connection&&(d=k.connection,e=h,c=k.ql)}c={closest:d,local:e,ql:c};if((this.pd=this.Vo(c,b))||yg(this,c,a)){B++;c.closest?(a=this.Qa!=c.closest,b=this.Wb!=c.local,this.Qa&&this.Wb&&(a||b||this.pd)&&zg(this)):zg(this);this.Wb=this.Qa=this.cg=null;if(!this.pd&&(a=c.closest,b=c.local,a))if(a==this.Qa||a.C().Vb())console.log("Trying to connect to an insertion marker");else{this.Qa=
a;this.Wb=b;a=this.Qa;b=this.Wb;c=this.Hf;2==b.type||4==b.type?((d=!a.isConnected())||(d=a.L(),d=!!pf(c,2===b.type?d.v:d.H)),b=d?0:2):b=0;switch(b){case 1:this.nn=this.Qa.C();break;case 0:d=this.Wb;b=this.Qa;c=this.Bn&&d==this.Bn?this.jf:this.oi;d=c.cn(d.C(),d);if(d==this.cg)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");c.P();c.I=!0;c.U().setAttribute("visibility","visible");d&&b&&(3!=d.type&&1!=d.type||c.moveBy(b.x-d.x,b.y-d.y));b&&d.connect(b);this.cg=d;break;
case 2:this.ni=this.Qa.L(),Ag(this.ni.ya,"blocklyReplaceable",!0)}a&&(c=a.o.h.za.G(),b=Bg(c,a),1==a.type||2==a.type?(c=c.Mg,b=Cg(0,-c)+N("v",c)+b.Sc+N("v",c)):(c=c.Ih-c.ta,b=Cg(-c,0)+N("h",c)+b.tf+N("h",c)),c=a.o.ea(),of.Aq=w(Wb,{"class":"blocklyHighlightedConnectionPath",d:b,transform:"translate("+(a.x-c.x)+","+(a.y-c.y)+")"+(a.o.s?" scale(-1 1)":"")},a.o.U()))}B--}};
function wg(a,b){var c=b.type;B++;try{var d=a.g.mh(c);d.Ir(!0);if(b.xa){var e=b.xa();e&&d.$a(e)}for(a=0;a<b.B.length;a++){var f=b.B[a];if("_TEMP_COLLAPSED_INPUT"!=f.name){var h=d.B[a];if(!h)throw Error("The insertion marker manager tried to create a marker but the result is missing an input. If you are using a mutator, make sure your domToMutation method is properly defined.");for(c=0;c<f.ba.length;c++){var k=f.ba[c],m=h.ba[c];if(!m)throw Error("The insertion marker manager tried to create a marker but the result is missing a field. If you are using a mutator, make sure your domToMutation method is properly defined.");
Be(m,k.mb())}}}d.Bf(b.isCollapsed());d.Wc(mg(b));d.me();d.U().setAttribute("visibility","hidden")}finally{B--}return d}function xg(a){var b=a.Hf.fd(!1),c=a.Hf.Sk(!0);if(c&&c!=a.Hf.F){b.push(c);a.Bn=c;if(a.jf){B++;try{a.jf.m()}finally{B--}}a.jf=wg(a,c.C())}return b}
function yg(a,b,c){var d=b.local,e=b.closest;b=b.ql;if(d&&e){if(a.Wb&&a.Qa){if(a.Qa==e&&a.Wb==d)return!1;d=a.Wb.x+c.x-a.Qa.x;a=a.Wb.y+c.y-a.Qa.y;a=Math.sqrt(d*d+a*a);return!(e&&b>a-8)}if(a.Wb||a.Qa)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.Wb||!a.Qa);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}vg.prototype.Vo=function(a,b){return b&&id(this.g.nc,b.id)?b.gp(this.Hf,a&&!!a.closest):!1};
function zg(a){a.Qa&&a.Qa.L()&&(z(of.Aq),delete of.Aq);if(a.ni)Ag(a.ni.ya,"blocklyReplaceable",!1),a.ni=null;else if(a.nn)a.nn=null;else if(a.cg)if(a.cg){var b=a.cg,c=b.C(),d=c.F,e=c.H,f=c.v;f=1==b.type&&!(f&&f.J);!(b!=d||e&&e.J)||f?Ie(b.L(),!1):3==b.type&&b!=d?(d=b.J,Ie(d.C(),!1),e=e?e.J:null,Ie(c,!0),e&&e.connect(d)):Ie(c,!0);if(b.J)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.cg=null;(a=c.U())&&a.setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")}
vg.prototype.Zg=function(){var a=[];this.oi&&a.push(this.oi);this.jf&&a.push(this.jf);return a};function Dg(a,b){this.wa=a;this.g=b;this.zd=new vg(this.wa);this.Ra=null;this.pd=!1;this.Fe=this.wa.ea();b=[];a=pb(a,!1);for(var c=0,d;d=a[c];c++){d=Eg(d);for(var e=0;e<d.length;e++)b.push({location:d[e].Wf,icon:d[e]})}this.yk=b}g=Dg.prototype;g.m=function(){this.yk.length=0;this.zd&&this.zd.m()};
g.lj=function(a,b){Fc||E(!0);var c=new (F("drag"))(this.wa,!0,pb(this.wa,!1));D(c);this.g.Fi&&Fg(this.wa);jc();this.g.Ib(!1);tg();if(this.wa.getParent()||b&&this.wa.F&&this.wa.F.L())Ie(this.wa,b),a=this.oh(a),a=xa(this.Fe,a),this.wa.translate(a.x,a.y),a=this.wa,a.h.Pe.play("disconnect"),1>a.h.scale||(b=Gg(a).height,b=Math.atan(10/b)/Math.PI*180,a.s||(b*=-1),sg(a.U(),b,new Date)),a=this.zd,a.$j=xg(a);this.wa.Cf(!0);a=this.wa;a.Aj&&(b=a.ea(),a.U().removeAttribute("transform"),a.h.kc.sg(b.x,b.y),(b=
a.U())&&Qe(a.h.kc,b))};g.ae=function(a,b){b=this.oh(b);this.wa.Rn(xa(this.Fe,b));for(var c=0;c<this.yk.length;c++){var d=this.yk[c];Hg(d.icon,xa(d.location,b))}c=this.Ra;this.Ra=Ig(this.g,a);this.zd.update(b,this.Ra);a=this.pd;this.pd=this.zd.pd;a!=this.pd&&this.wa.No(this.pd);this.Ra!==c&&(c&&c.cl(),this.Ra&&this.Ra.Yn());this.Ra&&this.Ra.Zn()};
g.ki=function(a,b){this.ae(a,b);this.yk=[];a=new (F("drag"))(this.wa,!1,pb(this.wa,!1));D(a);kc();tg();b=this.oh(b);a=xa(this.Fe,b);var c=this.wa;c.Aj&&(c.translate(a.x,a.y),c.h.kc.fk(c.h.qa));this.Ra&&this.Ra.dl();this.pd?(Jg(this),this.wa.m(!1,!0),wf=[],a=!0):a=!1;if(!a)if(this.wa.Cf(!1),b){Kg(this.wa,b.x,b.y);Jg(this);if(this.zd.Qa){if(b=this.zd,b.Qa&&(B++,zg(b),B--,b.Wb.connect(b.Qa),b.Hf.I)){c=(qf(b.Wb)?b.Qa:b.Wb).C();var d=c.h;a=d.scale;d.Pe.play("click");if(!(1>a)){var e=Lg(d,c.U());c.v?(e.x+=
(c.s?3:-3)*a,e.y+=13*a):c.H&&(e.x+=(c.s?-23:23)*a,e.y+=3*a);c=w(Kb,{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},J(d));rg(c,new Date,a)}Fg(b.Hf.gd())}}else this.wa.P();Mg(this.wa)}else Ng(this.wa.h,this.g.Yb.bf(!0),this.wa);this.g.Ib(!0);E(!1)};function Jg(a){var b=new (F("move"))(a.wa);b.Vn=a.Fe;Ge(b);D(b)}g.oh=function(a){a=new r(a.x/this.g.scale,a.y/this.g.scale);this.g.Fi&&a.scale(1/this.g.options.Na.scale);return a};g.Zg=function(){return this.zd&&this.zd.Zg?this.zd.Zg():[]};
A(Cc,"default",Dg);function Og(a,b,c,d,e,f){this.g=a;this.ai=b;this.Hu=c;this.io=this.ho=this.Qn=this.Io=null;this.Jc=!1;c=Pg;this.g.s&&(c=-c);this.ot=ee(c);a.nd.appendChild(this.Vd(b,!(!e||!f)));this.Pa=d;this.Ho&&Qg(this);e&&f||(a=this.ai.getBBox(),e=a.width+2*Rg,f=a.height+2*Rg);this.cj(e,f);Qg(this);Sg(this);this.Ho=!0}var Rg=6,Pg=20,Tg=null,Ug=null;function Vg(){Tg&&(v(Tg),Tg=null);Ug&&(v(Ug),Ug=null)}function Wg(){tb=null;Vg()}g=Og.prototype;g.Ho=!1;g.Pa=null;g.Jd=0;g.xf=0;g.pa=0;g.vb=0;g.fm=!0;
g.Vd=function(a,b){this.Fc=w(Tb,{},null);var c={filter:"url(#"+this.g.za.G().zk+")"};La&&(c={});c=w(Tb,c,this.Fc);this.Lp=w(Wb,{},c);this.bk=w(Zb,{"class":"blocklyDraggable",x:0,y:0,rx:Rg,ry:Rg},c);b?(this.ze=w(Tb,{"class":this.g.s?"blocklyResizeSW":"blocklyResizeSE"},this.Fc),b=2*Rg,w(Yb,{points:"0,x x,x x,0".replace(/x/g,b.toString())},this.ze),w(Vb,{"class":"blocklyResizeLine",x1:b/3,y1:b-1,x2:b-1,y2:b/3},this.ze),w(Vb,{"class":"blocklyResizeLine",x1:2*b/3,y1:b-1,x2:b-1,y2:2*b/3},this.ze)):this.ze=
null;this.g.options.readOnly||(this.ho=u(this.bk,"mousedown",this,this.tt),this.ze&&(this.io=u(this.ze,"mousedown",this,this.Cu)));this.Fc.appendChild(a);return this.Fc};g.U=function(){return this.Fc};function Xg(a,b){a.Fc.dataset&&(a.Fc.dataset.blockId=b)}g.tt=function(a){var b=this.g.ce(a);if(b){if(b.Tf)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");b.zc||(b.zc=this);b.Qc=a}};g.ij=function(){};g.Pc=function(){return!1};g.No=function(){};
g.Cu=function(a){Yg(this);Vg();bb(a)||(this.g.lj(a,new r(this.g.s?-this.pa:this.pa,this.vb)),Tg=u(document,"mouseup",this,Wg),Ug=u(document,"mousemove",this,this.Du),Td());a.stopPropagation()};g.Du=function(a){this.fm=!1;var b=this.g;a=cb(a,J(b),Qd(b));a.x/=b.scale;a.y/=b.scale;b=xa(b.eq,a);this.cj(this.g.s?-b.x:b.x,b.y);this.g.s&&Qg(this)};function Yg(a){var b=a.Fc.parentNode;return b.lastChild!==a.Fc?(b.appendChild(a.Fc),!0):!1}
function Zg(a,b,c){var d=a.g.s?a.Pa.x-b.x-a.pa:b.x+a.Pa.x;b=b.y+a.Pa.y;return Math.max(0,Math.min(1,(Math.min(d+a.pa,c.left+c.width)-Math.max(d,c.left))*(Math.min(b+a.vb,c.top+c.height)-Math.max(b,c.top))/(a.pa*a.vb)))}function Qg(a){var b=a.Pa.x;b=a.g.s?b-(a.Jd+a.pa):b+a.Jd;a.moveTo(b,a.xf+a.Pa.y)}g.moveTo=function(a,b){this.Fc.setAttribute("transform","translate("+a+","+b+")")};g.Cf=function(a){!a&&this.Qn&&this.Qn()};g.Xm=function(){return new Fa(this.pa,this.vb)};
g.cj=function(a,b){var c=2*Rg;a=Math.max(a,c+45);b=Math.max(b,c+20);this.pa=a;this.vb=b;this.bk.setAttribute("width",a);this.bk.setAttribute("height",b);this.ze&&(this.g.s?this.ze.setAttribute("transform","translate("+2*Rg+","+(b-c)+") scale(-1 1)"):this.ze.setAttribute("transform","translate("+(a-c)+","+(b-c)+")"));if(this.fm){a=$g(this.g.Yb,!0);b=-this.pa/4;if(!(this.pa>a.width)){if(this.g.s){c=this.Pa.x-b;var d=c-this.pa;var e=a.left+a.width,f=a.left+yd/this.g.scale}else d=b+this.Pa.x,c=d+this.pa,
f=a.left,e=a.left+a.width-yd/this.g.scale;this.g.s?d<f?b=-(f-this.Pa.x+this.pa):c>e&&(b=-(e-this.Pa.x)):d<f?b=f-this.Pa.x:c>e&&(b=e-this.Pa.x-this.pa)}d=b;b=-this.vb/4;if(!(this.vb>a.height)){c=this.Pa.y+b;e=c+this.vb;f=a.top;var h=a.top+a.height-yd/this.g.scale,k=this.Pa.y;c<f?b=f-k:e>h&&(b=h-k-this.vb)}f=b;e=this.Hu.getBBox();b={x:d,y:-this.vb-this.g.za.G().Hh};c={x:-this.pa-30,y:f};f={x:e.width,y:f};h={x:d,y:e.height};d=e.width<e.height?f:h;e=e.width<e.height?h:f;f=Zg(this,b,a);h=Zg(this,c,a);
k=Zg(this,d,a);a=Math.max(f,h,k,Zg(this,e,a));f==a?(this.Jd=b.x,this.xf=b.y):h==a?(this.Jd=c.x,this.xf=c.y):k==a?(this.Jd=d.x,this.xf=d.y):(this.Jd=e.x,this.xf=e.y)}Qg(this);Sg(this);this.Io&&this.Io()};
function Sg(a){var b=[],c=a.pa/2,d=a.vb/2,e=-a.Jd,f=-a.xf;if(c==e&&d==f)b.push("M "+c+","+d);else{f-=d;e-=c;a.g.s&&(e*=-1);var h=Math.sqrt(f*f+e*e),k=Math.acos(e/h);0>f&&(k=2*Math.PI-k);var m=k+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var n=Math.sin(m),p=Math.cos(m),t=a.Xm();m=(t.width+t.height)/5;m=Math.min(m,t.width,t.height)/4;t=1-8/h;e=c+t*e;f=d+t*f;t=c+m*p;var x=d+m*n;c-=m*p;d-=m*n;n=k+a.ot;n>2*Math.PI&&(n-=2*Math.PI);k=Math.sin(n)*h/4;h=Math.cos(n)*h/4;b.push("M"+t+","+x);b.push("C"+(t+h)+","+
(x+k)+" "+e+","+f+" "+e+","+f);b.push("C"+e+","+f+" "+(c+h)+","+(d+k)+" "+c+","+d)}b.push("z");a.Lp.setAttribute("d",b.join(" "))}g.hb=function(a){this.bk.setAttribute("fill",a);this.Lp.setAttribute("fill",a)};g.m=function(){this.ho&&v(this.ho);this.io&&v(this.io);Vg();z(this.Fc);this.Jc=!0};g.Rn=function(a,b){a?a.sg(b.x,b.y):this.moveTo(b.x,b.y);this.Jd=this.g.s?this.Pa.x-b.x-this.pa:b.x-this.Pa.x;this.xf=b.y-this.Pa.y;Sg(this)};
g.ea=function(){return new r(this.g.s?-this.Jd+this.Pa.x-this.pa:this.Pa.x+this.Jd,this.Pa.y+this.xf)};function ah(a){var b=w(ac,{"class":"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:Rg},null);a=a.split("\n");for(var c=0;c<a.length;c++)w(bc,{dy:"1em",x:Rg},b).appendChild(document.createTextNode(a[c]));return b}
function bh(a,b,c){c=new Og(b.h,a,b.ya.Ga,c,null,null);Xg(c,b.id);if(b.s){b=a.getBBox().width;for(var d=0,e;e=a.childNodes[d];d++)e.setAttribute("text-anchor","end"),e.setAttribute("x",b+Rg)}return c};function ch(a,b){this.cc=a;this.g=b;this.Ra=null;this.Cj=!1;this.Fe=this.cc.ea();this.Pf=kb()&&b.kc?b.kc:null}ch.prototype.m=function(){this.Pf=this.g=this.cc=null};function dh(a,b,c){c=a.oh(c);a.cc.Rn(a.Pf,xa(a.Fe,c));c=a.Ra;a.Ra=Ig(a.g,b);b=a.Cj;a.Cj=a.Vo(a.Ra);b!=a.Cj&&a.cc.No(a.Cj);a.Ra!==c&&(c&&c.cl(),a.Ra&&a.Ra.Yn());a.Ra&&a.Ra.Zn()}ch.prototype.Vo=function(a){return a&&id(this.g.nc,a.id)?a.gp(this.cc,!1):!1};
function eh(a,b,c){dh(a,b,c);b=a.oh(c);b=xa(a.Fe,b);a.cc.moveTo(b.x,b.y);a.Ra&&a.Ra.dl();a.Cj?a.cc.m(!1,!0):(a.Pf&&a.Pf.fk(a.g.nd),a.cc.Cf&&a.cc.Cf(!1));a.g.Ib(!0);E(!1)}ch.prototype.oh=function(a){a=new r(a.x/this.g.scale,a.y/this.g.scale);this.g.Fi&&a.scale(1/this.g.options.Na.scale);return a};function fh(a){this.g=a;this.Bq=gh(this.g);this.fs=hh(this.g);this.Ou=new r(a.scrollX,a.scrollY)}fh.prototype.m=function(){this.g=null};fh.prototype.lj=function(){M&&ih(M);Rd(this.g)};fh.prototype.ki=function(a){this.ae(a);Sd(this.g)};fh.prototype.ae=function(a){a=xa(this.Ou,a);if(this.Bq&&this.fs)this.g.scroll(a.x,a.y);else if(this.Bq)this.g.scroll(a.x,this.g.scrollY);else if(this.fs)this.g.scroll(this.g.scrollX,a.y);else throw new TypeError("Invalid state.");};function jh(a,b){this.Tq=null;this.Nb=new r(0,0);this.Ua=this.Cb=this.wh=this.xh=this.zc=null;this.um=b;this.Di=this.Zf=this.Ei=this.Sf=!1;this.Qc=a;this.K=this.yg=this.rd=this.Se=this.ll=this.kl=null;this.xq=this.Nk=this.Tf=this.Np=!1}g=jh.prototype;g.m=function(){tb=null;Xe=!1;this.um.Fb=null;this.kl&&v(this.kl);this.ll&&v(this.ll);this.rd&&this.rd.m();this.yg&&this.yg.m();this.Se&&this.Se.m()};
function kh(a,b){a.Nb=wa(new r(b.clientX,b.clientY),a.Tq);if(a.Sf)var c=!1;else c=a.Nb,a.Sf=Math.sqrt(c.x*c.x+c.y*c.y)>(a.K?10:5),c=a.Sf;if(c){if(a.Np)throw Error("updateIsDragging_ should only be called once per gesture.");a.Np=!0;a.zc?(a.Di=!0,a.Se=new ch(a.zc,a.Ua),c=a.Se,Fc||E(!0),c.g.Ib(!1),c.cc.fm=!1,c.Pf&&(c.cc.moveTo(0,0),c.Pf.sg(c.Fe.x,c.Fe.y),Qe(c.Pf,c.cc.U())),c.cc.Cf&&c.cc.Cf(!0),dh(a.Se,a.Qc,a.Nb),c=!0):c=!1;if(!c){if(a.Cb){if(a.K){if(a.Cb&&a.Cb.isEnabled()){if(!(c=!lh(a.K))){c=a.Nb;
c=Math.atan2(c.y,c.x)/Math.PI*180;var d=a.K.Et;c=c<d&&c>-d||c<-180+d||c>180-d?!0:!1}c?(a.Ua=a.K.W,mh(a.Ua),Fc||E(!0),a.wh=null,a.Cb=nh(a.K,a.Cb),a.Cb.select(),c=!0):c=!1}else c=!1;a.Zf=c}else a.Cb.bb()&&(a.Zf=!0);a.Zf?(a.rd=new (Ec(Cc,a.um.options,!0))(a.Cb,a.Ua),a.rd.lj(a.Nb,a.xq),a.rd.ae(a.Qc,a.Nb),c=!0):c=!1}else c=!1;if(c=!c)if(a.K)c=lh(a.K);else if(c=a.Ua)c=a.Ua,c=c.options.Hb&&c.options.Hb.ae;c&&(a.yg=new fh(a.Ua),a.Ei=!0,a.yg.lj())}xb()}a.Qc=b}
g.Cm=function(a){Xa(a)?this.cancel():(this.Tf=!0,tg(),mh(this.Ua),this.Ua.Fi&&this.Ua.resize(),Td(!!this.K),Pd(this.Ua),this.Qc=a,lf(),Xe=!0,this.Cb&&this.Cb.select(),bb(a)?yb(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||wb(a,this),this.Tq=new r(a.clientX,a.clientY),this.xq=a.altKey||a.ctrlKey||a.metaKey,this.Ip(a)))};
g.Ip=function(a){this.kl=u(document,"mousemove",null,this.bh.bind(this));this.ll=u(document,"mouseup",null,this.Ik.bind(this));a.preventDefault();a.stopPropagation()};g.bh=function(a){kh(this,a);this.Ei?this.yg.ae(this.Nb):this.Zf?this.rd.ae(this.Qc,this.Nb):this.Di&&dh(this.Se,this.Qc,this.Nb);a.preventDefault();a.stopPropagation()};
g.Ik=function(a){kh(this,a);xb();if(this.Nk)console.log("Trying to end a gesture recursively.");else{this.Nk=!0;if(this.Di)eh(this.Se,a,this.Nb);else if(this.Zf)this.rd.ki(a,this.Nb);else if(this.Ei)this.yg.ki(this.Nb);else if(this.zc&&!this.Sf)this.zc.Fu&&this.zc.Fu(),this.zc.select&&this.zc.select();else if(oh(this)){var b=this.xh,c=this.Qc;Xf(b)&&b.Nd(c);ph(this)}else!this.wh||this.Sf||oh(this)?this.wh||this.zc||this.xh||this.Sf||(b=this.um,M&&ih(M),b=this.Ua||b,D(new (F("click"))(null,b.id,"workspace"))):
(this.K&&this.K.Qe?this.Cb.isEnabled()&&(Fc||E(!0),Mg(nh(this.K,this.Cb))):(b=new (F("click"))(this.wh,this.Ua.id,"block"),D(b)),ph(this),E(!1));a.preventDefault();a.stopPropagation();this.m()}};g.cancel=function(){this.Nk||(xb(),this.Di?eh(this.Se,this.Qc,this.Nb):this.Zf?this.rd.ki(this.Qc,this.Nb):this.Ei&&this.yg.ki(this.Nb),this.m())};function yb(a,b){a.Cb?(ph(a),Td(!!a.K),a.Cb.ij(b)):a.zc?a.zc.ij(b):a.Ua&&!a.K&&(Td(),a.Ua.ij(b));b.preventDefault();b.stopPropagation();a.m()}
function qh(a,b,c){if(a.Tf)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.Ua||(a.Ua=c);a.Qc=b;a.Cm(b)}function rh(a,b,c){if(a.Tf)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.K||(a.K=c);qh(a,b,c.g)}function ph(a){a.Cb&&!a.K&&Fg(a.Cb)}function sh(a,b){a.wh||a.zc||(a.wh=b,b.Da&&b!=b.gd()?th(a,b.gd()):th(a,b))}function th(a,b){b.X?th(a,b.getParent()):a.Cb=b}
function oh(a){return(a.xh?Xf(a.xh):!1)&&!a.Sf&&(!a.K||!a.K.Qe)}g.Ta=function(){return this.Ei||this.Zf||this.Di};g.Zg=function(){return this.rd?this.rd.Zg():[]};function uh(){for(var a=Mf(),b=0,c;c=a[b];b++)if(c.Fb)return!0;return!1};function vh(){this.Kc=this.pc=this.pm=null;this.type="marker"}function wh(a,b){var c=a.pc;a.pc=b;a.Kc&&a.Kc.dd(c,a.pc)}vh.prototype.dd=function(){this.Kc&&this.Kc.dd(this.pc,this.pc)};vh.prototype.xb=function(){this.Kc&&this.Kc.xb()};vh.prototype.m=function(){this.Kc&&this.Kc.m()};function xh(){xh.j.constructor.call(this);this.type="cursor"}I(xh,vh);xh.prototype.next=function(){var a=this.pc;if(!a)return null;for(a=a.next();a&&a.next()&&("next"==a.getType()||"block"==a.getType());)a=a.next();a&&wh(this,a);return a};xh.prototype.gf=function(){var a=this.pc;if(!a)return null;if("previous"==a.getType()||"output"==a.getType())a=a.next();(a=a.gf())&&wh(this,a);return a};
xh.prototype.we=function(){var a=this.pc;if(!a)return null;for(a=a.we();a&&a.we()&&("next"==a.getType()||"block"==a.getType());)a=a.we();a&&wh(this,a);return a};xh.prototype.rf=function(){var a=this.pc;if(!a)return null;(a=a.rf())&&"block"==a.getType()&&(a=a.we()||a);a&&wh(this,a);return a};A(tc,"default",xh);function yh(a){this.Wd=this.Ic=null;this.Ii=Object.create(null);this.g=a}g=yh.prototype;g.Yg=function(){return this.Ic};g.ui=function(a){return this.Ii[a]||null};g.Ae=function(a){a?(this.g.qa.appendChild(a),this.Wd=a):this.Wd=null};g.Df=function(a){a?this.g.qa&&(this.Wd?this.g.qa.insertBefore(a,this.Wd):this.g.qa.appendChild(a)):this.te=null};
g.m=function(){for(var a=Object.keys(this.Ii),b=0,c;c=a[b];b++){var d=this.Ii[c];if(d)d.m(),delete this.Ii[c];else throw Error("Marker with ID "+c+" does not exist. Can only unregister markers that exist.");}this.Ii=null;this.Ic&&(this.Ic.m(),this.Ic=null)};var zh,Ah=null,Bh=null,Ch="",Dh="";function Eh(a,b,c){Fh();Ah=a;Bh=c;a=zh;a.style.direction=b?"rtl":"ltr";a.style.display="block";b=te;Ch=b.za.ed();Dh=b.ee().ed();y(a,Ch);y(a,Dh)}function Fh(){if(Ah){Ah=null;var a=zh;a.style.display="none";a.style.left="";a.style.top="";Bh&&Bh();Bh=null;a.textContent="";Ch&&(fc(a,Ch),Ch="");Dh&&(fc(a,Dh),Dh="");Pd(te)}}function Gh(a,b,c){zh.style.left=a+"px";zh.style.top=b+"px";zh.style.height=c+"px"};function Hh(a,b,c){this.Ya=this.Ag;this.Xr=this.ug=null;this.$b=new Fa(0,0);this.i=this.Pn=this.Ge=this.Va=this.Ka=this.qc=this.te=this.Wd=null;c&&this.bc(c);Be(this,a);b&&(this.ug=b)}g=Hh.prototype;g.Ag=null;g.name=void 0;g.Jc=!1;g.Sq=50;g.o=null;g.oe=!0;g.Jf=!0;g.om=null;g.Ij=!0;g.Lf=!1;g.bc=function(a){var b=a.tooltip;"string"==typeof b&&(b=fb(a.tooltip));b&&this.ib(b)};g.So=function(a){if(this.o)throw Error("Field already bound to a block.");this.o=a};
g.G=function(){!this.i&&this.o&&this.o.h&&this.o.h.I&&(this.i=this.o.h.za.G());return this.i};g.C=function(){return this.o};g.D=function(){this.qc||(this.qc=w(Tb,{},null),this.isVisible()||(this.qc.style.display="none"),this.o.U().appendChild(this.qc),this.hf(),this.Le(),this.ib(this.Xr),ff(Ih(this)),this.Pn=u(Ih(this),"mousedown",this,this.pf),this.Xf())};g.hf=function(){Jh(this);Kh(this)};g.Xf=function(){};
function Jh(a){a.Ka=w(Zb,{rx:a.G().Jj,ry:a.G().Jj,x:0,y:0,height:a.$b.height,width:a.$b.width,"class":"blocklyFieldRect"},a.qc)}function Kh(a){a.Va=w(ac,{"class":"blocklyText"},a.qc);a.G().Ol&&a.Va.setAttribute("dominant-baseline","central");a.Ge=document.createTextNode("");a.Va.appendChild(a.Ge)}g.Dk=function(a){Be(this,a.textContent)};g.Ur=function(a){a.textContent=this.mb();return a};g.m=function(){ke===this&&xe();Ah==this&&Fh();kf(Ih(this));this.Pn&&v(this.Pn);z(this.qc);this.Jc=!0};
g.Le=function(){var a=this.qc;this.Ij&&a&&(this.o.Ub()?(y(a,"blocklyEditableText"),fc(a,"blocklyNonEditableText"),a.style.cursor=this.Ml):(y(a,"blocklyNonEditableText"),fc(a,"blocklyEditableText"),a.style.cursor=""))};function Xf(a){return!!a.o&&a.o.Ub()&&!!a.Nd&&"function"===typeof a.Nd}g.isVisible=function(){return this.Jf};g.ma=function(a){if(this.Jf!=a){this.Jf=a;var b=this.U();b&&(b.style.display=a?"block":"none")}};function Lh(a,b){a.ug=b}g.qq=function(){return this.ug};g.U=function(){return this.qc};
g.Ia=function(){};g.zf=function(){this.Ge&&(this.Ge.nodeValue=this.Hk());Mh(this)};function Mh(a,b){var c=a.G();b=void 0!=b?b:a.Ka?a.G().Bg:0;var d=2*b,e=c.Kj,f=0;a.Va&&(f=lc(a.Va,c.Dg+"pt",c.Eg,c.Cg),d+=f);a.Ka&&(e=Math.max(e,c.mp));a.$b.height=e;a.$b.width=d;Nh(a,b,f);Oh(a)}function Nh(a,b,c){if(a.Va){var d=a.G(),e=a.$b.height/2;a.Va.setAttribute("x",a.o.s?a.$b.width-c-b:b);a.Va.setAttribute("y",d.Ol?e:e-d.Kj/2+d.op)}}
function Oh(a){a.Ka&&(a.Ka.setAttribute("width",a.$b.width),a.Ka.setAttribute("height",a.$b.height),a.Ka.setAttribute("rx",a.G().Jj),a.Ka.setAttribute("ry",a.G().Jj))}g.wi=function(){if(!this.isVisible())return new Fa(0,0);this.oe?(this.zf(),this.oe=!1):this.Jf&&0==this.$b.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.zf());return this.$b};
function se(a){if(a.Ka)b=a.Ka.getBoundingClientRect(),a=Ia(a.Ka),d=b.width,b=b.height;else{var b=Gg(a.o),c=a.o.h.scale;a=Ia(Ih(a));var d=b.width*c;b=b.height*c;Na?(a.x+=1.5*c,a.y+=1.5*c):Ka||Ja||(a.x-=.5*c,a.y-=.5*c);d+=1*c;b+=1*c}return new ya(a.y,a.y+b,a.x,a.x+d)}g.Hk=function(){var a=this.Rb();if(!a)return"\u00a0";a.length>this.Sq&&(a=a.substring(0,this.Sq-2)+"\u2026");a=a.replace(/\s/g,"\u00a0");this.o&&this.o.s&&(a+="\u200f");return a};
g.Rb=function(){if(this.fn){var a=this.fn.call(this);if(null!==a)return String(a)}return String(this.mb())};g.Hi=function(){this.oe=!0;this.i=null};function Ph(a){a.oe=!0;a.o&&a.o.I&&(a.o.P(),a.o.Ha(),a.cp())}function Be(a,b){if(null!==b){var c=a.$e(b);b=Qh(a,b,c);if(!(b instanceof Error)){if(c=a.qq())if(c=c.call(a,b),b=Qh(a,b,c),b instanceof Error)return;c=a.o;if(!c||!c.Jc){var d=a.mb();d===b?a.$d(b):(c&&0==B&&D(new (F("change"))(c,"field",a.name||null,d,b)),a.$d(b),a.oe&&Ph(a))}}}}
function Qh(a,b,c){if(null===c)return a.cq(),a.oe&&Ph(a),Error();void 0!==c&&(b=c);return b}g.mb=function(){return this.Ya};g.$e=function(a){return null===a||void 0===a?null:a};g.$d=function(a){this.Ya=a;this.oe=!0};g.cq=function(){};g.pf=function(a){if(this.o&&this.o.h&&(a=this.o.h.ce(a))){if(a.Tf)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.xh||(a.xh=this)}};g.ib=function(a){a||""===a||(a=this.o);var b=Ih(this);b?b.Yc=a:this.Xr=a};
function Ih(a){return a.om||a.U()}g.Vi=function(){return!1};g.Ad=function(){for(var a=null,b=this.o,c=b.B,d=0;d<b.B.length;d++)for(var e=c[d],f=e.ba,h=0;h<f.length;h++)if(f[h]===this){a=e;break}return a};g.Jq=function(){return!1};g.Ae=function(a){a?(this.qc.appendChild(a),this.Wd=a):this.Wd=null};g.Df=function(a){a?(this.qc.appendChild(a),this.te=a):this.te=null};g.cp=function(){var a=this.o.h;a.kh&&this.Wd&&a.Yg().dd();a.kh&&this.te&&a.ui("local_marker_1").dd()};function Rh(a,b,c){this.ek=null;Rh.j.constructor.call(this,a,null,c);c||(this.ek=b||null)}I(Rh,Hh);Rh.prototype.Ag="";Rh.N=function(a){var b=fb(a.text);return new Rh(b,void 0,a)};Rh.prototype.Ij=!1;Rh.prototype.bc=function(a){Rh.j.bc.call(this,a);this.ek=a["class"]};Rh.prototype.hf=function(){Kh(this);this.ek&&y(this.Va,this.ek)};Rh.prototype.$e=function(a){return null===a||void 0===a?null:String(a)};A(vc,"field_label",Rh);function Sh(a,b,c,d){if(5!=a&&!b)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=b;this.o=c;this.connection=d;this.ba=[]}g=Sh.prototype;g.align=-1;g.Jf=!0;g.C=function(){return this.o};function O(a,b,c){Th(a,a.ba.length,b,c);return a}
function Th(a,b,c,d){if(0>b||b>a.ba.length)throw Error("index "+b+" out of bounds.");if(!(c||""==c&&d))return b;"string"==typeof c&&(c=ng({type:"field_label",text:c}));c.So(a.o);a.o.I&&(c.D(),c.Ia());c.name=d;c.ma(a.isVisible());c.Bo&&(b=Th(a,b,c.Bo));a.ba.splice(b,0,c);++b;c.Xo&&(b=Th(a,b,c.Xo));a.o.I&&(a.o=a.o,a.o.P(),a.o.Ha());return b}
function Uh(a,b){for(var c=0,d;d=a.ba[c];c++)if(d.name===b){d.m();a.ba.splice(c,1);a.o.I&&(a.o=a.o,a.o.P(),a.o.Ha());return}throw Error('Field "'+b+'" not found.');}g.isVisible=function(){return this.Jf};
g.ma=function(a){if(this.Jf!=a){this.Jf=a;for(var b=0,c;c=this.ba[b];b++)c.ma(a);if(this.connection){this.connection=this.connection;if(a)Vh(this.connection);else if(b=this.connection,Wh(b,!1),b.J)for(b=pb(b.L(),!1),c=0;c<b.length;c++){for(var d=b[c],e=d.fd(!0),f=0;f<e.length;f++)Wh(e[f],!1);d=Eg(d);for(f=0;f<d.length;f++)d[f].ma(!1)}if(b=this.connection.L())b.U().style.display=a?"block":"none"}}};g.Hi=function(){for(var a=0,b;b=this.ba[a];a++)b.Hi()};
g.yc=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.yc(a);return this};function Xh(a,b){a.align=b;a.o.I&&(a.o=a.o,a.o.P());return a}g.gj=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.gj(a)};g.$g=function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.$g()};g.D=function(){if(this.o.h.I)for(var a=0;a<this.ba.length;a++)this.ba[a].D()};
g.m=function(){for(var a=0,b;b=this.ba[a];a++)b.m();this.connection&&this.connection.m();this.o=null};function Gf(a,b,c){if(Yh&&"undefined"!=typeof Yh.prototype[b])throw Error('Block prototypeName "'+b+'" conflicts with Blockly.Generator members.');this.id=c&&!a.rc(c)?c:ib();a.gm[this.id]=this;this.H=this.F=this.v=null;this.B=[];this.ne=void 0;this.disabled=!1;this.Yc="";this.contextMenu=!0;this.Hd=null;this.Td=[];this.hq=this.Uq=this.xm=!0;this.Nf=this.X=!1;this.Vh=null;this.mc={text:null,zo:!1,size:new Fa(160,80)};this.ns=new r(0,0);this.h=a;this.Da=a.jd;this.s=a.s;this.hh=!1;this.Bd=void 0;this.I=
null;if(b){this.type=b;c=L[b];if(!c||"object"!=typeof c)throw TypeError("Unknown block type: "+b);rd(this,c)}a.Zj(this);a.Ke[this.type]||(a.Ke[this.type]=[]);a.Ke[this.type].push(this);(a=Fc)||E(!0);b=Gc;try{"function"==typeof this.D&&(Gc=!1,this.D(),Gc=b),0==B&&D(new (F("create"))(this))}finally{a||E(!1),Gc=b}this.Zt=this.ne;if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=typeof a)throw Error("onchange must be a function.");this.Oi&&nb(this.h.cb,this.Oi);if(this.onchange=a)this.Oi=
a.bind(this),Lf(this.h,this.Oi)}}g=Gf.prototype;g.data=null;g.Jc=!1;g.tb="#000000";g.pg="";
g.m=function(a){if(this.h){this.Oi&&nb(this.h.cb,this.Oi);Ie(this,a);0==B&&D(new (F("delete"))(this));B++;try{if(this.h){this.h.ul(this);var b=this.h;b.Ke[this.type].splice(b.Ke[this.type].indexOf(this),1);b.Ke[this.type].length||delete b.Ke[this.type];delete this.h.gm[this.id];this.h=null}M==this&&(M=null);for(var c=this.Td.length-1;0<=c;c--)this.Td[c].m(!1);c=0;for(var d;d=this.B[c];c++)d.m();this.B.length=0;var e=this.fd(!0);c=0;for(var f;f=e[c];c++)f.m()}finally{B--,this.Jc=!0}}};
g.Xf=function(){for(var a=0,b;b=this.B[a];a++)for(var c=0,d;d=b.ba[c];c++)d.Xf&&d.Xf()};
function Ie(a,b){if(a.v){var c=null;a.v.isConnected()&&(c=a.v.J,a.v.disconnect());if(c&&b){a:{b=null;for(var d=0;d<a.B.length;d++){var e=a.B[d].connection;if(e&&1==e.type&&e.J){if(b){a=null;break a}b=e}}a=b}a&&a.isConnected()&&!a.L().X&&(a=a.J,a.disconnect(),0==rf(a,c,!1)?c.connect(a):a.$n(c))}}else a.H&&(c=null,a.H.isConnected()&&(c=a.H.J,a.H.disconnect()),d=qb(a),b&&d&&!d.X&&(a=a.F.J,a.disconnect(),c&&0==rf(c,a,!1)&&c.connect(a)))}
g.fd=function(){var a=[];this.v&&a.push(this.v);this.H&&a.push(this.H);this.F&&a.push(this.F);for(var b=0,c;c=this.B[b];b++)c.connection&&a.push(c.connection);return a};g.Sk=function(a){for(var b=this.F;b;){var c=b.L();if(!c||a&&c.X)return b;b=c.F}return null};g.Ha=function(){};g.getParent=function(){return this.Hd};function He(a,b){for(var c=0,d;d=a.B[c];c++)if(d.connection&&d.connection.L()==b)return d;return null}
function Zh(a){do{var b=a;a=a.getParent();if(!a)return null}while(qb(a)==b);return a}function qb(a){return a.F&&a.F.L()}g.gd=function(){var a=this;do{var b=a;a=b.Hd}while(a);return b};function Pc(a,b){if(!b)return a.Td;b=[];for(var c=0,d;d=a.B[c];c++)d.connection&&(d=d.connection.L())&&b.push(d);(a=qb(a))&&b.push(a);return b}
g.Al=function(a){if(a!=this.Hd){if(this.Hd){nb(this.Hd.Td,this);if(this.H&&this.H.isConnected())throw Error("Still connected to previous block.");if(this.v&&this.v.isConnected())throw Error("Still connected to parent block.");this.Hd=null}else this.h.ul(this);(this.Hd=a)?a.Td.push(this):this.h.Zj(this)}};function pb(a,b){var c=[a];a=Pc(a,b);for(var d,e=0;d=a[e];e++)c.push.apply(c,pb(d,b));return c}g.Pc=function(){return this.xm&&!this.X&&!(this.h&&this.h.options.readOnly)};
g.bb=function(){return this.Uq&&!this.X&&!(this.h&&this.h.options.readOnly)};g.yl=function(a){this.Uq=a};g.Ro=function(a){this.X=a};g.Vb=function(){return this.hh};g.Ir=function(a){this.hh=a};g.Ub=function(){return this.hq&&!(this.h&&this.h.options.readOnly)};g.Oo=function(a){this.hq=a;a=0;for(var b;b=this.B[a];a++)for(var c=0,d;d=b.ba[c];c++)d.Le()};
g.cn=function(a,b){var c=this.fd(!0);a=a.fd(!0);if(c.length!=a.length)throw Error("Connection lists did not match in length.");for(var d=0;d<a.length;d++)if(a[d]==b)return c[d];return null};g.ib=function(a){this.Yc=a};g.$m=function(){return this.tb};g.hb=function(a){this.tb=rb(a).zi};g.Ee=function(a){this.pg=a};
function ed(a,b){if("string"!==typeof b)throw TypeError("Blockly.Block.prototype.getField expects a string with the field name but received "+(void 0===b?"nothing":b+" of type "+typeof b)+" instead");for(var c=0,d;d=a.B[c];c++)for(var e=0,f;f=d.ba[e];e++)if(f.name===b)return f;return null}g.ge=function(){for(var a=[],b=0,c;c=this.B[b];b++)for(var d=0,e;e=c.ba[d];d++)e.Vi()&&a.push(e.mb());return a};
g.fe=function(){for(var a=[],b=0,c;c=this.B[b];b++)for(var d=0,e;e=c.ba[d];d++)e.Vi()&&(e=this.h.hd(e.mb()))&&a.push(e);return a};g.Il=function(a){for(var b=0,c;c=this.B[b];b++)for(var d=0,e;e=c.ba[d];d++)e.Vi()&&a.T()==e.mb()&&Ph(e)};g.vl=function(a,b){for(var c=0,d;d=this.B[c];c++)for(var e=0,f;f=d.ba[e];e++)f.Vi()&&a==f.mb()&&Be(f,b)};function K(a,b){return(a=ed(a,b))?a.mb():null}function $h(a,b,c){a=ed(a,c);if(!a)throw Error('Field "'+c+'" not found.');Be(a,b)}
g.De=function(a,b){if(a){void 0===b&&(b=null);if(!this.H){if(this.v)throw Error("Remove output connection prior to adding previous connection.");this.H=this.Gi(4)}this.H.yc(b)}else if(this.H){if(this.H.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.H.m();this.H=null}};
g.Ce=function(a,b){if(a)void 0===b&&(b=null),this.F||(this.F=this.Gi(3)),this.F.yc(b);else if(this.F){if(this.F.isConnected())throw Error("Must disconnect next statement before removing connection.");this.F.m();this.F=null}};
g.ej=function(a,b){if(a){void 0===b&&(b=null);if(!this.v){if(this.H)throw Error("Remove previous connection prior to adding output connection.");this.v=this.Gi(2)}this.v.yc(b)}else if(this.v){if(this.v.isConnected())throw Error("Must disconnect output value before removing connection.");this.v.m();this.v=null}};g.Wc=function(a){this.ne!=a&&(D(new (F("change"))(this,"inline",null,this.ne,a)),this.ne=a)};
function mg(a){if(void 0!=a.ne)return a.ne;for(var b=1;b<a.B.length;b++)if(5==a.B[b-1].type&&5==a.B[b].type)return!1;for(b=1;b<a.B.length;b++)if(1==a.B[b-1].type&&5==a.B[b].type)return!0;return!1}g.isEnabled=function(){return!this.disabled};g.Zb=function(a){this.isEnabled()!=a&&(D(new (F("change"))(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function ai(a){for(a=Zh(a);a;){if(a.disabled)return!0;a=Zh(a)}return!1}g.isCollapsed=function(){return this.Nf};
g.Bf=function(a){this.Nf!=a&&(D(new (F("change"))(this,"collapsed",null,this.Nf,a)),this.Nf=a)};
g.toString=function(a,b){function c(n){var p=n.Te;!p&&n.J&&(p=n.J.Te);return!!p&&(-1!=p.indexOf("Boolean")||-1!=p.indexOf("Number"))}function d(){h&&h.getType()==k.getType()&&h.V==k.V&&(h=null)}var e=[];b=b||"?";var f=Pf;Pf=!0;for(var h=Tf(this),k=h;h;){switch(h.getType()){case "input":var m=h.V;h.gf()?c(m)&&e.push("("):e.push(b);break;case "field":m=h.V,"_TEMP_COLLAPSED_FIELD"!=m.name&&e.push(m.Rb())}m=h;h=m.gf()||m.next();if(!h){h=m.rf();for(d();h&&!h.next();)h=h.rf(),d(),h&&"input"==h.getType()&&
c(h.V)&&e.push(")");h&&(h=h.next())}}Pf=f;for(b=2;b<e.length;b++)"("==e[b-2]&&")"==e[b]&&(e[b-2]=e[b-1],e.splice(b-1,2));e=e.reduce(function(n,p){return n+("("==n.substr(-1)||")"==p?"":" ")+p},"");e=e.trim()||"???";a&&e.length>a&&(e=e.substring(0,a-3)+"...");return e};function P(a,b){return a.Fa(5,b||"")}
function bi(a,b){var c=b.type?'Block "'+b.type+'": ':"";if(b.output&&b.previousStatement)throw Error(c+"Must not have both an output and a previousStatement.");b.style&&b.style.Bd&&(a.Bd=b.style.Bd,b.style=null);if(b.style&&b.colour)throw Error(c+"Must not have both a colour and a style.");if(b.style){var d=b.style;try{a.Ee(d)}catch(eb){console.warn(c+"Style does not exist: ",d)}}else if("colour"in b)if(void 0===b.colour)console.warn(c+"Undefined colour value.");else{d=b.colour;try{a.hb(d)}catch(eb){console.warn(c+
"Illegal colour value: ",d)}}for(d=0;void 0!==b["message"+d];){var e=a,f=b["args"+d]||[],h=b["lastDummyAlign"+d],k=c,m=gb(b["message"+d],!0),n=e;var p=m;for(var t=f.length,x=[],C=0,Y=0;Y<p.length;Y++){var Q=p[Y];if("number"==typeof Q){if(1>Q||Q>t)throw Error('Block "'+n.type+'": Message index %'+Q+" out of range.");if(x[Q])throw Error('Block "'+n.type+'": Message index %'+Q+" duplicated.");x[Q]=!0;C++}}if(C!=t)throw Error('Block "'+n.type+'": Message does not reference all '+t+" arg(s).");n=f;f=[];
for(p=0;p<m.length;p++){t=m[p];"number"==typeof t&&(t=n[t-1]);if("string"==typeof t&&(t=ci(t),!t))continue;f.push(t)}(m=f.length)&&!di(f[m-1].type)&&(m={type:"input_dummy"},h&&(m.align=h),f.push(m));h=f;f=[];for(m=0;p=h[m];m++)if(di(p.type)){n=e;t=k;C={LEFT:-1,RIGHT:1,CENTRE:0,CENTER:0};x=null;switch(p.type){case "input_value":x=n.Fa(1,p.name);break;case "input_statement":x=n.Fa(3,p.name);break;case "input_dummy":x=P(n,p.name)}x?(p.check&&x.yc(p.check),p.align&&(n=C[p.align.toUpperCase()],void 0===
n?console.warn(t+"Illegal align value: ",p.align):Xh(x,n)),n=x):n=null;if(n){for(p=0;t=f[p];p++)O(n,t[0],t[1]);f.length=0}}else(n=ei(e,p))&&f.push([n,p.name]);d++}void 0!==b.inputsInline&&a.Wc(b.inputsInline);void 0!==b.output&&a.ej(!0,b.output);void 0!==b.previousStatement&&a.De(!0,b.previousStatement);void 0!==b.nextStatement&&a.Ce(!0,b.nextStatement);void 0!==b.tooltip&&(d=b.tooltip,d=fb(d),a.ib(d));void 0!==b.enableContextMenu&&(d=b.enableContextMenu,a.contextMenu=!!d);void 0!==b.helpUrl&&(d=
b.helpUrl,d=fb(d),a.wb=d);"string"==typeof b.extensions&&(console.warn(c+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+b.type+"' block."),b.extensions=[b.extensions]);void 0!==b.mutator&&fg(b.mutator,a,!0);b=b.extensions;if(Array.isArray(b))for(c=0;c<b.length;++c)fg(b[c],a,!1)}function ag(a,b){var c=[],d;for(d in b)void 0!==a[d]&&c.push(d);if(c.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(c));rd(a,b)}
function ei(a,b){var c=ng(b);return!c&&b.alt?"string"==typeof b.alt?(b=ci(b.alt))?ei(a,b):null:ei(a,b.alt):c}function di(a){return"input_value"==a||"input_statement"==a||"input_dummy"==a}function ci(a){return(a=a.trim())?{type:"field_label",text:a}:null}g.Fa=function(a,b){var c=null;if(1==a||3==a)c=this.Gi(a);a=new Sh(a,b,this,c);this.B.push(a);return a};
function fi(a,b,c){if(b!=c){for(var d=-1,e=c?-1:a.B.length,f=0,h;h=a.B[f];f++)if(h.name==b){if(d=f,-1!=e)break}else if(c&&h.name==c&&(e=f,-1!=d))break;if(-1==d)throw Error('Named input "'+b+'" not found.');if(-1==e)throw Error('Reference input "'+c+'" not found.');a.Sn(d,e)}}
g.Sn=function(a,b){if(a==b)throw Error("Can't move input to itself.");if(a>=this.B.length)throw RangeError("Input index "+a+" out of bounds.");if(b>this.B.length)throw RangeError("Reference input "+b+" out of bounds.");var c=this.B[a];this.B.splice(a,1);a<b&&b--;this.B.splice(b,0,c)};g.fb=function(a,b){for(var c=0,d;d=this.B[c];c++)if(d.name==a)return d.m(),this.B.splice(c,1),!0;if(b)return!1;throw Error("Input not found: "+a);};
function H(a,b){for(var c=0,d;d=a.B[c];c++)if(d.name==b)return d;return null}function gi(a,b){return(a=H(a,b))&&a.connection&&a.connection.L()}g.Ld=function(a){this.mc.text!=a&&(D(new (F("change"))(this,"comment",null,this.mc.text,a)),this.Vh=this.mc.text=a)};g.vh=function(){};g.og=function(){};g.ea=function(){return this.ns};g.moveBy=function(a,b){if(this.Hd)throw Error("Block has parent.");var c=new (F("move"))(this);this.ns.translate(a,b);Ge(c);D(c)};g.Gi=function(a){return new of(this,a)};function hi(){this.ld=[];this.mg=this.ub=this.hl=this.Zk=this.Yk=this.gk=this.$k=this.Uf=this.oo=null}g=hi.prototype;
g.P=function(a){var b=document.createElement("div");b.className="blocklyMenu goog-menu blocklyNonSelectable";b.tabIndex=0;this.mg&&b.setAttribute("role",this.mg);this.ub=b;for(var c=0,d;d=this.ld[c];c++)b.appendChild(d.va());this.$k=u(b,"mouseover",this,this.Rt,!0);this.gk=u(b,"click",this,this.Mt,!0);this.Yk=u(b,"mouseenter",this,this.Pt,!0);this.Zk=u(b,"mouseleave",this,this.Qt,!0);this.hl=u(b,"keydown",this,this.Nt);a.appendChild(b)};
g.focus=function(){var a=this.ub;a&&(a.focus({preventScroll:!0}),y(a,"blocklyFocused"))};g.fj=function(a){this.mg=a};g.m=function(){this.$k&&(v(this.$k),this.$k=null);this.gk&&(v(this.gk),this.gk=null);this.Yk&&(v(this.Yk),this.Yk=null);this.Zk&&(v(this.Zk),this.Zk=null);this.hl&&(v(this.hl),this.hl=null);for(var a=0,b;b=this.ld[a];a++)b.m();this.ub=null};
function ii(a,b){for(var c=a.ub;b&&b!=c;){if(gc(b,"blocklyMenuItem"))for(var d=0,e;e=a.ld[d];d++)if(e.ub==b)return e;b=b.parentElement}return null}
g.Be=function(a){var b=this.Uf;b&&(b.Be(!1),this.Uf=null);if(a){a.Be(!0);this.Uf=a;b=this.ub;var c=a.ub,d=Ia(c),e=Ia(b);var f=Ha(b,"borderLeftWidth");Ha(b,"borderRightWidth");var h=Ha(b,"borderTopWidth");Ha(b,"borderBottomWidth");f=d.x-e.x-parseFloat(f);d=d.y-e.y-parseFloat(h);c=new Fa(c.offsetWidth,c.offsetHeight);e=b.clientHeight-c.height;h=b.scrollLeft;var k=b.scrollTop;h+=Math.min(f,Math.max(f-(b.clientWidth-c.width),0));k+=Math.min(d,Math.max(d-e,0));f=new r(h,k);b.scrollLeft=f.x;b.scrollTop=
f.y;nf(b,"activedescendant",a.T())}};function ji(a,b,c){b+=c;for(var d;d=a.ld[b];){if(d.isEnabled()){a.Be(d);break}b+=c}}g.Rt=function(a){(a=ii(this,a.target))&&(a.isEnabled()?this.Uf!=a&&this.Be(a):this.Be(null))};g.Mt=function(a){var b=this.oo;this.oo=null;b&&"number"==typeof a.clientX&&1>va(b,new r(a.clientX,a.clientY))||(a=ii(this,a.target))&&a.isEnabled()&&a.Ph&&a.Ph(a)};g.Pt=function(){this.focus()};g.Qt=function(){if(this.ub){var a=this.ub;a&&(a.blur(),fc(a,"blocklyFocused"));this.Be(null)}};
g.Nt=function(a){if(this.ld.length&&!(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)){var b=this.Uf;switch(a.keyCode){case 13:case 32:b&&b.isEnabled()&&b.Ph&&b.Ph(b);break;case 38:b=this.ld.indexOf(this.Uf);ji(this,0>b?this.ld.length:b,-1);break;case 40:ji(this,this.ld.indexOf(this.Uf),1);break;case 33:case 36:ji(this,-1,1);break;case 34:case 35:ji(this,this.ld.length,-1);break;default:return}a.preventDefault();a.stopPropagation()}};g.wi=function(){var a=this.ub,b=Ga(a);b.height=a.scrollHeight;return b};var ki=0;function li(a,b){this.ai=a;this.Ya=b;this.Ak=!0;this.ub=null;this.Ko=!1;this.mg=null;this.zq=this.nm=this.mm=!1;this.Ph=null}g=li.prototype;
g.va=function(){var a=document.createElement("div");a.id="blockly-"+(ki++).toString(36);this.ub=a;a.className="blocklyMenuItem goog-menuitem "+(this.Ak?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.nm?"blocklyMenuItemSelected goog-option-selected ":"")+(this.zq?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.Ko?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var b=document.createElement("div");b.className="blocklyMenuItemContent goog-menuitem-content";if(this.mm){var c=document.createElement("div");
c.className="blocklyMenuItemCheckbox goog-menuitem-checkbox";b.appendChild(c)}c=this.ai;"string"==typeof this.ai&&(c=document.createTextNode(this.ai));b.appendChild(c);a.appendChild(b);this.mg&&a.setAttribute("role",this.mg);nf(a,"selected",this.mm&&this.nm||!1);nf(a,"disabled",!this.Ak);return a};g.m=function(){this.ub=null};g.T=function(){return this.ub.id};g.mb=function(){return this.Ya};g.fj=function(a){this.mg=a};
g.Be=function(a){this.zq=a;var b=this.ub;b&&this.isEnabled()&&(a?(y(b,"blocklyMenuItemHighlight"),y(b,"goog-menuitem-highlight")):(fc(b,"blocklyMenuItemHighlight"),fc(b,"goog-menuitem-highlight")))};g.isEnabled=function(){return this.Ak};g.Zb=function(a){this.Ak=a};function mi(a,b,c){a.Ph=b.bind(c)};var ni={pk:null,Xb:null,show:function(a,b,c){Eh(ni,c,ni.m);if(b.length){var d=ni.xu(b,c);ni.Xb=d;ni.lg(d,a,c);setTimeout(function(){d.focus()},1);ni.pk=null}else ni.xb()},xu:function(a,b){var c=new hi;c.fj("menu");for(var d=0,e;e=a[d];d++){var f=new li(e.text);f.Ko=b;f.fj("menuitem");c.ld.push(f);f.Zb(e.enabled);e.enabled&&mi(f,function(){ni.xb();this.ka(this.scope)},e)}return c},lg:function(a,b,c){var d=document.body;var e=document.documentElement;d=new r(d.scrollLeft||e.scrollLeft,d.scrollTop||
e.scrollTop);d=new ya(d.y,document.documentElement.clientHeight+d.y,d.x,document.documentElement.clientWidth+d.x);var f=new ya(b.clientY+d.top,b.clientY+d.top,b.clientX+d.left,b.clientX+d.left);ni.yt(a);b=a.wi();c&&(f.left+=b.width,f.right+=b.width,d.left+=b.width,d.right+=b.width);e=f.bottom+b.height>=d.bottom?f.top-b.height:f.bottom;c?(c=Math.max(f.right-b.width,d.left),c=Math.min(c,d.right-b.width)):(c=Math.min(f.left,d.right-b.width),c=Math.max(c,d.left));0>e?Gh(c,0,b.height+e):Gh(c,e,b.height);
a.focus()},yt:function(a){a.P(zh);var b=a.ub;y(b,"blocklyContextMenu");u(b,"contextmenu",null,Wa);a.focus()},xb:function(){Ah==ni&&Fh();ni.pk=null},m:function(){ni.Xb&&(ni.Xb.m(),ni.Xb=null)},ck:function(a,b){return function(){B++;try{var c=Vc(b,a.h),d=a.ea();d.x=a.s?d.x-28:d.x+28;d.y+=56;c.moveBy(d.x,d.y)}finally{B--}0==B&&!c.X&&D(new (F("create"))(c));c.select()}}};function oi(){pi=this;this.Tc=Object.create(null)}var pi=null;oi.prototype.register=function(a){if(this.Tc[a.id])throw Error('Menu item with ID "'+a.id+'" is already registered.');this.Tc[a.id]=a};oi.prototype.unregister=function(a){if(!this.Tc[a])throw Error('Menu item with ID "'+a+'" not found.');delete this.Tc[a]};oi.prototype.getItem=function(a){return this.Tc[a]||null};
function qi(a,b){var c=[],d=pi.Tc;Object.keys(d).forEach(function(e){e=d[e];if(a==e.xc){var f=e.Oa(b);"hidden"!=f&&(e={text:"function"==typeof e.Ob?e.Ob(b):e.Ob,enabled:"enabled"==f,ka:e.ka,scope:b,weight:e.weight},c.push(e))}});c.sort(function(e,f){return e.weight-f.weight});return c}new oi;function ri(a,b,c){ri.j.constructor.call(this,c);this.Zq=a;this.Wq=b}I(ri,td);ri.prototype.type="selected";ri.prototype.R=function(){var a=ri.j.R.call(this);a.oldElementId=this.Zq;a.newElementId=this.Wq;return a};ri.prototype.N=function(a){ri.j.N.call(this,a);this.Zq=a.oldElementId;this.Wq=a.newElementId};A(uc,"selected",ri);function si(a,b){si.j.constructor.call(this,a,b);this.vd=a.h.mk[b];this.Vp=a.h.mk[ma[b]];this.hg=new r(0,0);this.Je=ti;this.J=null}I(si,of);var ti=-1;g=si.prototype;g.m=function(){si.j.m.call(this);1==this.Je&&ui(this.vd,this,this.y)};g.C=function(){return si.j.C.call(this)};g.L=function(){return si.j.L.call(this)};function vf(a,b){var c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)}
function vi(a,b){if(!a.o.h.Ta()){var c=a.o.gd();if(!c.Da){var d=!1;if(!c.bb()){c=b.C().gd();if(!c.bb())return;b=a;d=!0}var e=M==c;e||c.Yj();var f=b.x+28+Math.floor(10*Math.random())-a.x,h=b.y+28+Math.floor(10*Math.random())-a.y;d&&(h=-h);c.s&&(f=b.x-28-Math.floor(10*Math.random())-a.x);c.moveBy(f,h);e||c.Wi()}}}
g.moveTo=function(a,b){if(this.Je==ti){var c=this.vd;c.Ma.splice(wi(c,b),0,this);this.Je=1}else 1==this.Je&&(ui(this.vd,this,this.y),c=this.vd,c.Ma.splice(wi(c,b),0,this));this.x=a;this.y=b};g.moveBy=function(a,b){this.moveTo(this.x+a,this.y+b)};function xi(a,b){a.moveTo(b.x+a.hg.x,b.y+a.hg.y)}function yi(a,b,c){a.hg.x=b;a.hg.y=c}
function zi(a){var b=a.J.x-a.x,c=a.J.y-a.y;if(0!=b||0!=c){a=a.L();var d=a.U();if(!d)throw Error("block is not rendered.");d=Ya(d);a.U().setAttribute("transform","translate("+(d.x-b)+","+(d.y-c)+")");Kg(a,-b,-c)}}
g.closest=function(a,b){var c=this.Vp;if(c.Ma.length){var d=this.y,e=this.x;this.x=e+b.x;this.y=d+b.y;var f=wi(c,this.y);b=null;for(var h=a,k,m=f-1;0<=m&&Math.abs(c.Ma[m].y-this.y)<=a;)k=c.Ma[m],0==rf(this,k,!0,h)&&(b=k,h=vf(k,this)),m--;for(;f<c.Ma.length&&Math.abs(c.Ma[f].y-this.y)<=a;)k=c.Ma[f],0==rf(this,k,!0,h)&&(b=k,h=vf(k,this)),f++;this.x=e;this.y=d;a={connection:b,ql:h}}else a={connection:null,ql:a};return a};
function Wh(a,b){b&&1==a.Je||!b&&0==a.Je||a.o.Da||(b?(b=a.vd,b.Ma.splice(wi(b,a.y),0,a),a.Je=1):(1==a.Je&&ui(a.vd,a,a.y),a.Je=0))}function Vh(a){Wh(a,!0);var b=[];if(1!=a.type&&3!=a.type)return b;if(a=a.L()){if(a.isCollapsed()){var c=[];a.v&&c.push(a.v);a.F&&c.push(a.F);a.H&&c.push(a.H)}else c=a.fd(!0);for(var d=0;d<c.length;d++)b.push.apply(b,Vh(c[d]));b.length||(b[0]=a)}return b}
g.$n=function(a){var b=this.C();if(Gc){var c=Fc;setTimeout(function(){b.Jc||b.getParent()||(E(c),vi(this,a),E(!1))}.bind(this),250)}};g.Bm=function(a,b){si.j.Bm.call(this,a,b);a.I&&a.P();b.I&&(Zc(b),b.P(),b.U().style.display="block")};g.Zi=function(){si.j.Zi.call(this);var a=this.L();a&&(a.me(),a.P(!1),a=this.C(),a.I&&a.P())};g.Vq=function(a){return Ai(this.Vp,this,a)};
g.kk=function(a){si.j.kk.call(this,a);var b=this.C();a=a.C();var c=b.I,d=a.I;c&&Zc(b);d&&Zc(a);c&&d&&(3==this.type||4==this.type?a.P():b.P());if(b=He(b,a))b=b.isVisible(),a.U().style.display=b?"block":"none"};g.kr=function(){!this.isConnected()||this.J&&0==rf(this,this.J,!1)||(Ie(qf(this)?this.L():this.o),this.o.Ha())};function Bi(){Bi.j.constructor.call(this)}I(Bi,xh);g=Bi.prototype;g.next=function(){var a=this.pc;if(!a)return null;(a=Ci(this,a,this.ep))&&wh(this,a);return a};g.gf=function(){return this.next()};g.we=function(){var a=this.pc;if(!a)return null;(a=Di(this,a,this.ep))&&wh(this,a);return a};g.rf=function(){return this.we()};function Ci(a,b,c){if(!b)return null;var d=b.gf()||b.next();if(c(d))return d;if(d)return Ci(a,d,c);b=Ei(a,b.rf());return c(b)?b:b?Ci(a,b,c):null}
function Di(a,b,c){if(!b)return null;var d=b.we();d=d?Fi(a,d):b.rf();return c(d)?d:d?Di(a,d,c):null}g.ep=function(a){var b=!1;a=a&&a.getType();if("output"==a||"input"==a||"field"==a||"next"==a||"previous"==a||"workspace"==a)b=!0;return b};function Ei(a,b){if(!b)return null;var c=b.next();return c?c:Ei(a,b.rf())}function Fi(a,b){if(!b.gf())return b;for(b=b.gf();b.next();)b=b.next();return Fi(a,b)}A(tc,"basicCursor",Bi);function Gi(){Gi.j.constructor.call(this)}I(Gi,Bi);Gi.prototype.ep=function(a){var b=!1,c=a&&a.getType();a&&(a=a.V,"field"==c&&a&&a.Jq()&&Xf(a)&&(b=!0));return b};function R(a,b,c){this.u=w(Tb,{},null);this.u.uj="";this.style=Hi(a.za.G(),null);this.ya=a.za.Qq(this.u,this.style);this.Go=this.I=!1;this.h=a;this.H=this.F=this.v=null;this.Aj=kb()&&!!a.kc;var d=this.ya.Ga;d.Yc=this;ff(d);R.j.constructor.call(this,a,b,c);this.u.dataset?this.u.dataset.id=this.id:Ja&&this.u.setAttribute("data-id",this.id)}I(R,Gf);g=R.prototype;g.height=0;g.width=0;g.ic=null;
g.me=function(){if(!this.h.I)throw TypeError("Workspace is headless.");for(var a=0,b;b=this.B[a];a++)b.D();b=Eg(this);for(a=0;a<b.length;a++)Ii(b[a]);this.Ia();Ag(this.ya,"blocklyDraggable",this.bb());a=this.U();this.h.options.readOnly||this.Gt||!a||u(a,"mousedown",this,this.pf);this.Gt=!0;a.parentNode||this.h.qa.appendChild(a)};
g.select=function(){if(this.X&&this.getParent())this.getParent().select();else if(M!=this){var a=null;if(M){a=M.id;B++;try{ih(M)}finally{B--}}a=new (F("selected"))(a,this.id,this.h.id);D(a);M=this;this.Yj()}};function ih(a){if(M==a){var b=new (F("selected"))(a.id,null,a.h.id);b.Db=a.h.id;D(b);M=null;a.Wi()}}g.zb=null;g.Vh=null;g.Gc=null;g.Cc=null;function Eg(a){var b=[];a.zb&&b.push(a.zb);a.Gc&&b.push(a.Gc);a.Cc&&b.push(a.Cc);return b}
g.Al=function(a){var b=this.Hd;if(a!=b){jc();R.j.Al.call(this,a);kc();var c=this.U();if(!this.h.wn&&c){var d=this.ea();a?(a.U().appendChild(c),a=this.ea(),Kg(this,a.x-d.x,a.y-d.y)):b&&(this.h.qa.appendChild(c),this.translate(d.x,d.y));this.Ia()}}};g.ea=function(){var a=0,b=0,c=this.Aj?this.h.kc.yd:null,d=this.U();if(d){do{var e=Ya(d);a+=e.x;b+=e.y;this.Aj&&this.h.kc.yd.firstChild==d&&(e=this.h.kc.dn(),a+=e.x,b+=e.y);d=d.parentNode}while(d&&d!=this.h.qa&&d!=c)}return new r(a,b)};
g.moveBy=function(a,b){if(this.Hd)throw Error("Block has parent.");var c=0==B;if(c)var d=new (F("move"))(this);var e=this.ea();this.translate(e.x+a,e.y+b);Kg(this,a,b);c&&(Ge(d),D(d));$c(this.h)};g.translate=function(a,b){this.U().setAttribute("transform","translate("+a+","+b+")")};g.moveTo=function(a){var b=this.ea();this.moveBy(a.x-b.x,a.y-b.y)};g.Rn=function(a){this.Aj?this.h.kc.sg(a.x,a.y):(this.u.uj="translate("+a.x+","+a.y+")",this.u.setAttribute("transform",this.u.uj+this.u.jj))};
function Ji(a){if(a.h&&!a.h.Ta()&&!a.getParent()&&!a.Da){var b=a.h.Oc;if(b&&b.Iu){var c=b.Wo,d=c/2,e=a.ea();b=Math.round((e.x-d)/c)*c+d-e.x;c=Math.round((e.y-d)/c)*c+d-e.y;b=Math.round(b);c=Math.round(c);0==b&&0==c||a.moveBy(b,c)}}}g.Xg=function(){var a=this.ea(),b=Gg(this);if(this.s){var c=a.x-b.width;var d=a.x}else c=a.x,d=a.x+b.width;return new ya(a.y,a.y+b.height,c,d)};g.Hi=function(){this.ya.Zh=this.h.za.G();for(var a=0,b;b=this.B[a];a++)b.Hi()};
g.Bf=function(a){this.Nf!=a&&(R.j.Bf.call(this,a),a?this.I&&this.P():Ki(this))};function Ki(a){for(var b=a.isCollapsed(),c=0,d;d=a.B[c];c++)"_TEMP_COLLAPSED_INPUT"!=d.name&&d.ma(!b);if(b){d=Eg(a);for(c=0;b=d[c];c++)b.ma(!1);c=a.toString(30);(d=ed(a,"_TEMP_COLLAPSED_FIELD"))?Be(d,c):(d=H(a,"_TEMP_COLLAPSED_INPUT")||P(a,"_TEMP_COLLAPSED_INPUT"),O(d,new Rh(c),"_TEMP_COLLAPSED_FIELD"))}else Zc(a),a.fb("_TEMP_COLLAPSED_INPUT")}
g.pf=function(a){var b=this.h&&this.h.ce(a);if(b){if(b.Tf)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");sh(b,this);b.Qc=a}};g.showHelp=function(){var a="function"==typeof this.wb?this.wb():this.wb;a&&window.open(a)};g.ij=function(a){if(this.h.options.readOnly||!this.contextMenu)var b=null;else b=qi("block",{block:this}),this.Xd&&this.Xd(b);b&&b.length&&(ni.show(a,b,this.s),ni.pk=this)};
function Kg(a,b,c){if(a.I){for(var d=a.fd(!1),e=0;e<d.length;e++)d[e].moveBy(b,c);d=Eg(a);for(e=0;e<d.length;e++)Li(d[e]);for(e=0;e<a.Td.length;e++)Kg(a.Td[e],b,c)}}g.Cf=function(a){if(a){var b=this.U();b.uj="";b.jj="";wf=wf.concat(this.fd(!0));y(this.u,"blocklyDragging")}else wf=[],fc(this.u,"blocklyDragging");for(b=0;b<this.Td.length;b++)this.Td[b].Cf(a)};g.yl=function(a){R.j.yl.call(this,a);Ag(this.ya,"blocklyDraggable",a)};g.Oo=function(a){R.j.Oo.call(this,a);a=Eg(this);for(var b=0;b<a.length;b++)a[b].Le()};
g.Ro=function(a){R.j.Ro.call(this,a);this.Ia()};g.Ir=function(a){this.hh!=a&&(this.hh=a)&&(this.hb(this.h.za.G().Ps),Ag(this.ya,"blocklyInsertionMarker",!0))};g.U=function(){return this.u};
g.m=function(a,b){if(this.h){cf=bf=null;lf();kf(this.ya.Ga);jc();var c=this.h;M==this&&(ih(this),Mi(this.h));ni.pk==this&&ni.xb();if(b&&this.I){Ie(this,a);b=this.h;var d=this.U();b.Pe.play("delete");var e=Lg(b,d);d=d.cloneNode(!0);d.Vu=e.x;d.Wu=e.y;d.setAttribute("transform","translate("+e.x+","+e.y+")");J(b).appendChild(d);d.Hp=d.getBBox();qg(d,b.s,new Date,b.scale)}this.I=!1;if(this.ic){for(var f in this.ic)clearTimeout(this.ic[f]);this.ic=null}f=Eg(this);for(b=0;b<f.length;b++)f[b].m();R.j.m.call(this,
!!a);z(this.u);$c(c);this.u=null;kc()}};g.Ia=function(){this.ya.Ia(this);for(var a=Eg(this),b=0;b<a.length;b++)a[b].Ia();for(a=0;b=this.B[a];a++)for(var c=0,d;d=b.ba[c];c++)d.Ia()};function Zc(a){var b=Pc(a,!1);a.Ia();if(!a.isCollapsed()){a=0;for(var c;c=b[a];a++)c.I&&Zc(c)}}g.Kt=function(){return this.Gc};
g.Ld=function(a){if(!dd)throw Error("Missing require for Blockly.Comment");this.mc.text!=a&&(R.j.Ld.call(this,a),a=null!=a,!!this.Gc==a?(a=this.Gc,a.rg?a.rg.value=a.yb.text:a.kg&&(a.kg.firstChild.textContent=a.yb.text)):(a?this.Vh=this.Gc=new dd(this):(this.Gc.m(),this.Vh=this.Gc=null),this.I&&(this.P(),this.Ha())))};
g.vh=function(a,b){if(!Ni)throw Error("Missing require for Blockly.Warning");this.ic||(this.ic=Object.create(null));var c=b||"";if(c)this.ic[c]&&(clearTimeout(this.ic[c]),delete this.ic[c]);else for(var d in this.ic)clearTimeout(this.ic[d]),delete this.ic[d];if(this.h.Ta()){var e=this;this.ic[c]=setTimeout(function(){e.h&&(delete e.ic[c],e.vh(a,c))},100)}else{this.Da&&(a=null);b=!1;if("string"==typeof a){d=Zh(this);for(var f=null;d;)d.isCollapsed()&&(f=d),d=Zh(d);f&&f.vh(q.COLLAPSED_WARNINGS_WARNING,
"TEMP_COLLAPSED_WARNING_");this.Cc||(this.Cc=new Ni(this),b=!0);Oi(this.Cc,a,c)}else this.Cc&&!c?(this.Cc.m(),b=!0):this.Cc&&(b=this.Cc.Rb(),Oi(this.Cc,"",c),(d=this.Cc.Rb())||this.Cc.m(),b=b!=d);b&&this.I&&(this.P(),this.Ha())}};g.og=function(a){this.zb&&this.zb!==a&&this.zb.m();a&&(a.A=this,this.zb=a,Ii(a));this.I&&(this.P(),this.Ha())};g.Zb=function(a){this.isEnabled()!=a&&(R.j.Zb.call(this,a),this.I&&!ai(this)&&Zc(this))};g.Be=function(a){this.I&&this.ya.Zr(a)};
g.Yj=function(){Ag(this.ya,"blocklySelected",!0)};g.Wi=function(){Ag(this.ya,"blocklySelected",!1)};g.No=function(a){Ag(this.ya,"blocklyDraggingDelete",a)};g.$m=function(){return this.style.Ud};g.hb=function(a){R.j.hb.call(this,a);a=Pi(this.h.za.G(),this.tb);this.ya.Ee(a.style);this.style=a.style;this.pg=a.name;this.Ia()};g.Ee=function(a){var b=Hi(this.h.za.G(),a);this.pg=a;if(b)this.Bd=b.Bd,this.ya.Ee(b),this.tb=b.Ud,this.style=b,this.Ia();else throw Error("Invalid style name: "+a);};
function Fg(a){do{var b=a.U(),c=b.parentNode,d=c.childNodes;d[d.length-1]!==b&&c.appendChild(b);a=a.getParent()}while(a)}g.De=function(a,b){R.j.De.call(this,a,b);this.I&&(this.P(),this.Ha())};g.Ce=function(a,b){R.j.Ce.call(this,a,b);this.I&&(this.P(),this.Ha())};g.ej=function(a,b){R.j.ej.call(this,a,b);this.I&&(this.P(),this.Ha())};g.Wc=function(a){R.j.Wc.call(this,a);this.I&&(this.P(),this.Ha())};g.fb=function(a,b){a=R.j.fb.call(this,a,b);this.I&&(this.P(),this.Ha());return a};
g.Sn=function(a,b){R.j.Sn.call(this,a,b);this.I&&(this.P(),this.Ha())};g.Fa=function(a,b){a=R.j.Fa.call(this,a,b);this.I&&(this.P(),this.Ha());return a};function Yc(a,b){a.H&&Wh(a.H,b);a.v&&Wh(a.v,b);if(a.F){Wh(a.F,b);var c=a.F.L();c&&Yc(c,b)}if(!a.Nf)for(c=0;c<a.B.length;c++){var d=a.B[c].connection;d&&(Wh(d,b),(d=d.L())&&Yc(d,b))}}
g.fd=function(a){var b=[];if(a||this.I)if(this.v&&b.push(this.v),this.H&&b.push(this.H),this.F&&b.push(this.F),a||!this.Nf){a=0;for(var c;c=this.B[a];a++)c.connection&&b.push(c.connection)}return b};g.Sk=function(a){return R.j.Sk.call(this,a)};g.cn=function(a,b){return R.j.cn.call(this,a,b)};g.Gi=function(a){return new si(this,a)};
g.Ha=function(){if(this.h&&!this.h.Ta()){var a=this.gd();if(!a.Da)for(var b=this.fd(!1),c=0,d;d=b[c];c++){d.isConnected()&&qf(d)&&d.L().Ha();for(var e=d.Vq(28),f=0,h;h=e[f];f++)d.isConnected()&&h.isConnected()||h.C().gd()!=a&&(qf(d)?vi(h,d):vi(d,h))}}};function Mg(a){var b=Fc;setTimeout(function(){E(b);Ji(a);E(!1)},125);setTimeout(function(){E(b);a.Ha();E(!1)},250)}g.getParent=function(){return R.j.getParent.call(this)};g.gd=function(){return R.j.gd.call(this)};
g.P=function(a){if(!this.Go){this.Go=!0;try{this.I=!0;jc();this.isCollapsed()&&Ki(this);this.h.za.P(this);var b=this.ea();this.H&&xi(this.H,b);this.v&&xi(this.v,b);for(var c=0;c<this.B.length;c++){var d=this.B[c].connection;d&&(xi(d,b),d.isConnected()&&zi(d))}this.F&&(xi(this.F,b),this.F.isConnected()&&zi(this.F));if(!1!==a){var e=this.getParent();e?e.P(!0):$c(this.h)}kc();this.cp()}finally{this.Go=!1}}};g.cp=function(){this.h.kh&&this.ya.ei&&this.h.Yg().dd();this.h.kh&&this.ya.Ln&&this.h.ui("local_marker_1").dd()};
g.Ae=function(a){this.ya.Ae(a)};g.Df=function(a){this.ya.Df(a)};function Gg(a){var b=a.height,c=a.width,d=qb(a);d&&(d=Gg(d),a=a.h.za.G().Rl,b+=d.height-a,c=Math.max(c,d.width));return{height:b,width:c}};function Qi(){this.Ma=[]}function Ri(a,b,c){if(!a.Ma.length)return-1;var d=wi(a,c);if(d>=a.Ma.length)return-1;c=b.y;for(var e=d;0<=e&&a.Ma[e].y==c;){if(a.Ma[e]==b)return e;e--}for(e=d;e<a.Ma.length&&a.Ma[e].y==c;){if(a.Ma[e]==b)return e;e++}return-1}function wi(a,b){if(!a.Ma.length)return 0;for(var c=0,d=a.Ma.length;c<d;){var e=Math.floor((c+d)/2);if(a.Ma[e].y<b)c=e+1;else if(a.Ma[e].y>b)d=e;else{c=e;break}}return c}
function ui(a,b,c){b=Ri(a,b,c);if(-1==b)throw Error("Unable to find connection in connectionDB.");a.Ma.splice(b,1)}function Ai(a,b,c){function d(n){var p=f-e[n].x,t=h-e[n].y;Math.sqrt(p*p+t*t)<=c&&m.push(e[n]);return t<c}var e=a.Ma,f=b.x,h=b.y;a=0;for(var k=b=e.length-2;a<k;)e[k].y<h?a=k:b=k,k=Math.floor((a+b)/2);var m=[];b=a=k;if(e.length){for(;0<=a&&d(a);)a--;do b++;while(b<e.length&&d(b))}return m};function Si(a,b){Si.j.constructor.call(this,b);this.Sr=a}I(Si,td);Si.prototype.type="theme_change";Si.prototype.R=function(){var a=Si.j.R.call(this);a.themeName=this.Sr;return a};Si.prototype.N=function(a){Si.j.N.call(this,a);this.Sr=a.themeName};A(uc,"theme_change",Si);function Ti(a,b,c,d,e){Ti.j.constructor.call(this,d);this.$c=a;this.Zc=b;this.scale=c;this.Ni=e}I(Ti,td);Ti.prototype.type="viewport_change";Ti.prototype.R=function(){var a=Ti.j.R.call(this);a.viewTop=this.$c;a.viewLeft=this.Zc;a.scale=this.scale;a.oldScale=this.Ni;return a};Ti.prototype.N=function(a){Ti.j.N.call(this,a);this.$c=a.viewTop;this.Zc=a.viewLeft;this.scale=a.scale;this.Ni=a.oldScale};A(uc,"viewport_change",Ti);function Ui(a){this.g=a}function Vi(a){var b=0,c=0;a&&(b=a.ie(),c=a.vb);return new Fa(b,c)}function Wi(a){var b=Vi(a.g.tc(!0));return{width:b.width,height:b.height,position:a.g.Xa}}function Xi(a){var b=Vi(a.g.Aa);return{width:b.width,height:b.height,position:a.g.Xa}}function Yi(a){var b=0,c=Xi(a),d=Wi(a),e=!!a.g.Aa;a=!!a.g.tc(!0);var f=2==(e?c.position:d.position);e&&f?b=c.width:a&&f&&(b=d.width);return{top:0,left:b}}
function $g(a,b){b=b?a.g.scale:1;var c=Zi(a.g),d=Xi(a),e=Wi(a),f=a.g.Aa?d.position:e.position;if(a.g.Aa){if(2==f||3==f)c.width-=d.width}else!a.g.tc(!0)||2!=f&&3!=f||(c.width-=e.width);return{height:c.height/b,width:c.width/b,top:-a.g.scrollY/b,left:-a.g.scrollX/b}}
Ui.prototype.Gk=function(){var a=this.g.scale;var b=[].concat(this.g.tj);if(b.length){for(var c=b[0].Xg(),d=1;d<b.length;d++){var e=b[d];e.Vb&&e.Vb()||(e=e.Xg(),e.top<c.top&&(c.top=e.top),e.bottom>c.bottom&&(c.bottom=e.bottom),e.left<c.left&&(c.left=e.left),e.right>c.right&&(c.right=e.right))}b=c}else b=new ya(0,0,0,0);return{height:(b.bottom-b.top)*a,width:(b.right-b.left)*a,top:b.top*a,left:b.left*a}};
Ui.prototype.bf=function(a,b,c){a=a?this.g.scale:1;var d=b||$g(this,!1);c=c||this.Gk();if(gh(this.g)&&hh(this.g))b={};else{b=gh(this.g);var e=hh(this.g),f=d||$g(this,!1);var h={};e||(h.top=f.top,h.bottom=f.top+f.height);b||(h.left=f.left,h.right=f.left+f.width);b=h}h=c.top+c.height;e=c.left+c.width;f=d.width;var k=d.height;var m=f/2,n=k/2;d=Math.min(c.top-n,h-k);h=Math.max(h+n,c.top+k);k=Math.min(c.left-m,e-f);c=Math.max(e+m,c.left+f);d=void 0!==b.top?b.top:d;e=void 0!==b.left?b.left:k;return{top:d/
a,left:e/a,width:((void 0!==b.right?b.right:c)-e)/a,height:((void 0!==b.bottom?b.bottom:h)-d)/a}};Ui.prototype.Qb=function(){var a=Xi(this),b=Wi(this),c=Zi(this.g),d=Yi(this),e=$g(this),f=this.Gk(),h=this.bf(!1,e,f);return{Cv:f.height,Fv:f.width,Ev:f.top,Dv:f.left,scrollHeight:h.height,scrollWidth:h.width,scrollTop:h.top,scrollLeft:h.left,jb:e.height,kb:e.width,$c:e.top,Zc:e.left,Lb:d.top,Eb:d.left,Or:c.height,Pr:c.width,Wv:a.width,Vv:a.height,Xa:a.position,Iv:b.width,Hv:b.height}};
A(Bc,"default",Ui);function $i(a,b){this.K=b;$i.j.constructor.call(this,a)}I($i,Ui);$i.prototype.Gk=function(){try{var a=this.g.qa.getBBox()}catch(c){a={height:0,y:0,width:0,x:0}}var b=this.g.scale;return{height:a.height*b,width:a.width*b,top:a.y*b,left:a.x*b}};$i.prototype.bf=function(a,b,c){b=c||this.Gk();c=this.K.Hg*this.g.scale;a=a?this.g.scale:1;return{height:(b.height+2*c)/a,width:(b.width+b.left+c)/a,top:0,left:0}};function aj(a){var b=Ue;this.g=a;this.rj=b;this.nj=[];this.Ue=Object.create(null)}g=aj.prototype;g.ee=function(){return this.rj};g.hj=function(a){var b=this.rj;this.rj=a;if(a=bj(this.g))b&&fc(a,b.ed()),y(a,this.rj.ed());for(b=0;a=this.nj[b];b++)a.qh();Td()};g.subscribe=function(a,b,c){this.Ue[b]||(this.Ue[b]=[]);this.Ue[b].push({element:a,propertyName:c});a.style[c]=""};
g.unsubscribe=function(a){if(a)for(var b=Object.keys(this.Ue),c=0,d;d=b[c];c++){for(var e=this.Ue[d],f=e.length-1;0<=f;f--)e[f].element===a&&e.splice(f,1);this.Ue[d].length||delete this.Ue[d]}};g.m=function(){this.Ue=this.nj=this.rj=null};function cj(a,b){cj.j.constructor.call(this,a,b);this.Qk=!1;this.lc=Object.create(null);this.Kr=this.Si=0;this.Hq=this.jo=null}I(cj,jh);g=cj.prototype;g.Cm=function(a){this.Hq=this.Ua.options.Ba&&this.Ua.options.Ba.wr;cj.j.Cm.call(this,a);!this.Nk&&Cb(a)&&dj(this,a)};g.Ip=function(a){this.jo=u(document,"mousedown",null,this.St.bind(this),!0);this.kl=u(document,"mousemove",null,this.bh.bind(this),!0);this.ll=u(document,"mouseup",null,this.Ik.bind(this),!0);a.preventDefault();a.stopPropagation()};
g.St=function(a){!this.Ta()&&Cb(a)&&(dj(this,a),this.Qk&&xb())};g.bh=function(a){if(this.Ta())Bb(a)&&!Ab(a)||cj.j.bh.call(this,a);else if(this.Qk){if(Cb(a)){this.lc[zb(a)]=ej(this,a);var b=Object.keys(this.lc);if(this.Hq&&2===b.length){b=Object.keys(this.lc);b=va(this.lc[b[0]],this.lc[b[1]])/this.Kr;if(0<this.Si&&Infinity>this.Si){var c=b-this.Si;c=0<c?5*c:6*c;var d=this.Ua,e=cb(a,J(d),Qd(d));d.zoom(e.x,e.y,c)}this.Si=b;a.preventDefault()}else cj.j.bh.call(this,a)}xb()}else cj.j.bh.call(this,a)};
g.Ik=function(a){if(Cb(a)&&!this.Ta()){var b=zb(a);this.lc[b]&&delete this.lc[b];2>Object.keys(this.lc).length&&(this.lc=Object.create(null),this.Si=0)}!this.Qk||this.Ta()?Bb(a)&&!Ab(a)||cj.j.Ik.call(this,a):(a.preventDefault(),a.stopPropagation(),this.m())};g.m=function(){cj.j.m.call(this);this.jo&&v(this.jo)};function dj(a,b){a.lc[zb(b)]=ej(a,b);var c=Object.keys(a.lc);2==c.length&&(a.Kr=va(a.lc[c[0]],a.lc[c[1]]),a.Qk=!0,b.preventDefault())}
function ej(a,b){return a.Ua?new r(b.changedTouches?b.changedTouches[0].pageX:b.pageX,b.changedTouches?b.changedTouches[0].pageY:b.pageY):null};function fj(a){this.vo=a;this.Nh=Object.create(null)}g=fj.prototype;g.Cn=null;g.m=function(){this.Nh=this.vo=null};g.load=function(a,b){if(a.length){try{var c=new na.Audio}catch(k){return}for(var d,e=0;e<a.length;e++){var f=a[e],h=f.match(/\.(\w+)$/);if(h&&c.canPlayType("audio/"+h[1])){d=new na.Audio(f);break}}d&&d.play&&(this.Nh[b]=d)}};g.preload=function(){for(var a in this.Nh){var b=this.Nh[a];b.volume=.01;var c=b.play();void 0!==c?c.then(b.pause).catch(function(){}):b.pause();if(Pa||Ra)break}};
g.play=function(a,b){var c=this.Nh[a];c?(a=new Date,null!=this.Cn&&100>a-this.Cn||(this.Cn=a,c=Pa||Oa?c:c.cloneNode(),c.volume=void 0===b?1:b,c.play())):this.vo&&this.vo.Pe.play(a,b)};function gj(a,b,c){gj.j.constructor.call(this,a);this.Yb=new (Ec(Bc,a,!0))(this);this.Qb=a.Qb||this.Yb.Qb.bind(this.Yb);this.dj=a.dj||hj;this.nc=new fd;var d=[];d[1]=new Qi;d[2]=new Qi;d[3]=new Qi;d[4]=new Qi;this.mk=d;b&&(this.kc=b);c&&(this.xg=c);this.Jl=!!this.xg&&kb();this.Pe=new fj(a.Na);this.Oc=this.options.jn?new Re(this.options.jn,a.rq):null;this.kd=new yh(this);this.Zo=Object.create(null);this.Um=Object.create(null);ij&&jj&&kj(this,"VARIABLE",jj);lj&&mj&&(kj(this,"PROCEDURE",mj),Lf(this,
nj));this.Wa=this.options.Na?this.options.Na.Wa:new aj(this);this.Wa.nj.push(this);c=this.options.Xi||"geras";a=this.ee();b=this.options.Yi;c=new (Dc(wc,c))(c);c.D(a,b);this.za=c;this.km=null;this.kh=!1;this.tj=[];this.Em=[];this.jm=new Fa(0,0)}I(gj,Wc);g=gj.prototype;g.wl=null;g.I=!0;g.wc=!0;g.jd=!1;g.Fi=!1;g.Jo=!0;g.scrollX=0;g.scrollY=0;g.eq=null;g.scale=1;g.Xn=1;g.ir=0;g.dr=0;g.Ah=null;g.la=null;g.K=null;g.Aa=null;g.Fb=null;g.kc=null;g.xg=null;g.Jl=!1;g.Mk=!1;g.un=null;g.Nq=null;g.W=null;
g.Fq=null;g.vn=!0;g.Ae=function(a){this.kd.Ae(a)};g.Df=function(a){this.kd.Df(a)};g.ui=function(a){return this.kd?this.kd.ui(a):null};g.Yg=function(){return this.kd?this.kd.Yg():null};g.ee=function(){return this.Wa.ee()};g.hj=function(a){a||(a=Ue);this.Wa.hj(a)};g.qh=function(){this.u&&this.za.Fo(this.u,this.ee());oj(yf(this).filter(function(b){return!!b.pg}));pj(this);this.Aa&&this.Aa.qh();this.isVisible()&&this.ma(!0);var a=new (F("theme_change"))(this.ee().name,this.id);D(a)};
function oj(a){for(var b=0,c;c=a[b];b++){var d=c.pg;if(d&&(c.Ee(d),c.zb)){var e=c.zb.g;if(e&&yf(e)){var f=yf(e);for(d=0;c=f[d];d++)c.Ee(c.pg);if(c=e.tc())for(e=yf(c.g),d=0;c=e[d];d++)c.Ee(c.pg)}}}}function Qd(a){if(a.vn){var b=J(a).getScreenCTM();b&&(a.Fq=b.inverse(),a.vn=!1)}return a.Fq}g.xj=function(){this.vn=!0};g.isVisible=function(){return this.wc};
function Lg(a,b){var c=0,d=0,e=1;if(a.qa.compareDocumentPosition(b)&16||a.nd.compareDocumentPosition(b)&16)e=a.scale;do{var f=Ya(b);if(b==a.qa||b==a.nd)e=1;c+=f.x*e;d+=f.y*e;b=b.parentNode}while(b&&b!=J(a));return new r(c,d)}function Zi(a){a=a.jm;return new Fa(a.width,a.height)}function bj(a){if(!a.un)for(var b=a.u;b;){if(-1!=(" "+(b.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.un=b;break}b=b.parentNode}return a.un}
g.va=function(a){this.u=w(Tb,{"class":"blocklyWorkspace"},null);a&&(this.Bb=w(Zb,{height:"100%",width:"100%","class":a},this.u),"blocklyMainBackground"==a&&this.Oc?this.Bb.style.fill="url(#"+this.Oc.ah.id+")":this.Wa.subscribe(this.Bb,"workspaceBackgroundColour","fill"));this.qa=w(Tb,{"class":"blocklyBlockCanvas"},this.u);this.nd=w(Tb,{"class":"blocklyBubbleCanvas"},this.u);this.jd||(u(this.u,"mousedown",this,this.pf,!1,!0),u(this.u,"wheel",this,this.wu));this.options.tq&&(this.Aa=new (Ec(xc,this.options,
!0))(this));this.Oc&&this.Oc.update(this.scale);qj(this);var b=Ec(tc,this.options);b&&(a=this.kd,b=new b,a.Ic&&a.Ic.Kc&&a.Ic.Kc.m(),a.Ic=b,a.Ic&&(b=a.Ic,b=new rj(a.g,a.g.za.G(),b),a.Ic.Kc=b,a.Ae(a.Ic.Kc.va())));this.za.va(this.u,this.ee());return this.u};
g.m=function(){this.I=!1;this.Fb&&this.Fb.cancel();this.u&&(z(this.u),this.u=null);this.nd=this.qa=null;this.Aa&&(this.Aa.m(),this.Aa=null);this.K&&(this.K.m(),this.K=null);this.Ah&&(this.Ah.m(),this.Ah=null);this.la&&(this.la.m(),this.la=null);this.Dj&&(this.Dj.m(),this.Dj=null);this.Pe&&(this.Pe.m(),this.Pe=null);this.Oc&&(this.Oc.m(),this.Oc=null);this.za.m();this.kd&&(this.kd.m(),this.kd=null);gj.j.m.call(this);if(this.Wa){var a=this.Wa,b=a.nj.indexOf(this);if(0>b)throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");
a.nj.splice(b,1);this.Wa.unsubscribe(this.Bb);this.options.Na||(this.Wa.m(),this.Wa=null)}this.Um=this.Zo=this.mk=null;this.options.Na||(a=J(this))&&a.parentNode&&z(a.parentNode);this.wl&&(v(this.wl),this.wl=null)};g.mh=function(a,b){return new R(this,a,b)};
function sj(a,b){var c=new Ve({parentWorkspace:a,rtl:a.s,oneBasedIndex:a.options.Pi,renderer:a.options.Xi,rendererOverrides:a.options.Yi,move:{scrollbars:!0}});c.Xa=a.options.Xa;a.K=new (Ec(Ac,a.options,!0))(c);a.K.Qe=!1;a.K.g.ma(!0);return a.K.va(b)}g.tc=function(a){return this.K||a?this.K:this.Aa?this.Aa.tc():null};function $c(a){a.Jo&&a.I&&(a.la&&a.la.resize(),a.xj())}
g.resize=function(){this.Aa&&this.Aa.position();this.K&&this.K.position();var a=kd(this.nc,md);var b=this.Yb;b={gs:$g(b),Xj:Yi(b),Su:Xi(b)};for(var c=[],d=0,e;e=a[d];d++)e.position(b,c),(e=e.Xg())&&c.push(e);this.la&&this.la.resize();this.xj();qj(this)};function mh(a){var b=document.documentElement;var c=window;b=Ja&&c.pageYOffset!=b.scrollTop?new r(b.scrollLeft,b.scrollTop):new r(c.pageXOffset||b.scrollLeft,c.pageYOffset||b.scrollTop);ua(a.Nq,b)||(a.Nq=b,a.xj(),qj(a))}
function tj(a,b,c){J(a);b&&(a.jm.width=b);c&&(a.jm.height=c)}function J(a){if(!a.km)for(var b=a.u;b;){if("svg"==b.tagName){a.km=b;break}b=b.parentNode}return a.km}function zd(a){if(0==B){var b=a.scale,c=-a.scrollY,d=-a.scrollX;if(!(b==a.Xn&&1>Math.abs(c-a.ir)&&1>Math.abs(d-a.dr))){var e=new (F("viewport_change"))(c,d,b,a.id,a.Xn);a.Xn=b;a.ir=c;a.dr=d;D(e)}}}
g.translate=function(a,b){if(this.Jl&&this.Mk)this.xg.sg(a,b);else{var c="translate("+a+","+b+") scale("+this.scale+")";this.qa.setAttribute("transform",c);this.nd.setAttribute("transform",c)}if(this.kc){c=this.kc;var d=this.scale;c.Af=d;var e=a.toFixed(0),f=b.toFixed(0);c.Pp.x=parseInt(e,10);c.Pp.y=parseInt(f,10);c.yd.setAttribute("transform","translate("+e+","+f+") scale("+d+")")}this.Oc&&this.Oc.moveTo(a,b);zd(this)};
function Sd(a){if(a.Jl){a.Mk=!1;var b=a.xg.dn();a.xg.fk(a.u);b="translate("+b.x+","+b.y+") scale("+a.scale+")";a.qa.setAttribute("transform",b);a.nd.setAttribute("transform",b)}}
function Rd(a){if(a.Jl&&!a.Mk){a.Mk=!0;var b=a.qa.previousSibling,c=parseInt(J(a).getAttribute("width"),10),d=parseInt(J(a).getAttribute("height"),10),e=Ya(a.qa),f=a.xg,h=a.qa,k=a.nd,m=a.scale;if(f.ra.childNodes.length)throw Error("Already dragging a block.");f.Do=b;h.setAttribute("transform","translate(0, 0) scale("+m+")");k.setAttribute("transform","translate(0, 0) scale("+m+")");f.ra.setAttribute("width",c);f.ra.setAttribute("height",d);f.ra.appendChild(h);f.ra.appendChild(k);f.ra.style.display=
"block";a.xg.sg(e.x,e.y)}}g.ie=function(){var a=this.Qb();return a?a.kb/this.scale:0};g.ma=function(a){this.wc=a;if(this.u)if(this.la&&this.la.ng(a),this.tc()&&this.tc().ng(a),J(this).style.display=a?"block":"none",this.Aa&&this.Aa.ma(a),a){a=yf(this);for(var b=a.length-1;0<=b;b--)a[b].Hi();this.P();this.Aa&&this.Aa.position()}else Td(!0)};g.P=function(){for(var a=yf(this),b=a.length-1;0<=b;b--)a[b].P(!1);if(this.Fb)for(a=this.Fb.Zg(),b=0;b<a.length;b++)a[b].P(!1);b=this.kd;b.g.kh&&b.Wd&&b.g.Yg().dd()};
function uj(a){var b=vj;if(a.I&&b.tagName&&!(b.getElementsByTagName("block").length>=Hf(a)))if(a.Fb&&a.Fb.cancel(),"comment"==b.tagName.toLowerCase()){B++;try{var c=ka.Bv.Dk(b),d=parseInt(b.getAttribute("x"),10),e=parseInt(b.getAttribute("y"),10);isNaN(d)||isNaN(e)||(a.s&&(d=-d),c.moveBy(d+50,e+50))}finally{B--}0==B&&ka.Av.Gv(c);c.select()}else{B++;try{var f=Vc(b,a),h=parseInt(b.getAttribute("x"),10),k=parseInt(b.getAttribute("y"),10);if(!isNaN(h)&&!isNaN(k)){a.s&&(h=-h);do{b=!1;var m=yf(a);c=0;for(var n;n=
m[c];c++){var p=n.ea();if(1>=Math.abs(h-p.x)&&1>=Math.abs(k-p.y)){b=!0;break}}if(!b){var t=f.fd(!1);c=0;for(var x;x=t[c];c++)if(x.closest(28,new r(h,k)).connection){b=!0;break}}b&&(h=a.s?h-28:h+28,k+=56)}while(b);f.moveBy(h,k)}}finally{B--}0==B&&!f.X&&D(new (F("create"))(f));f.select()}}function pj(a){(a=a.jd?a.W:a)&&!a.Fb&&a.Aa&&a.Aa.tc()&&(a=a.Aa,a.gb&&a.gb.qe()&&a.gb.Wg.length&&a.K.show(a.gb.Wg))}g.yf=function(a,b){gj.j.yf.call(this,a,b);pj(this)};g.Zd=function(a){gj.j.Zd.call(this,a);pj(this)};
g.ad=function(a,b,c){a=gj.j.ad.call(this,a,b,c);pj(this);return a};function qj(a){var b=kd(a.nc,nd);a.Em=[];for(var c=0,d;d=b[c];c++){var e=d.Zm();e&&a.Em.push({component:d,ut:e})}}function Ig(a,b){for(var c=0,d;d=a.Em[c];c++)if(d.ut.contains(b.clientX,b.clientY))return d.component;return null}g.pf=function(a){var b=this.ce(a);b&&qh(b,a,this)};g.lj=function(a,b){a=cb(a,J(this),Qd(this));a.x/=this.scale;a.y/=this.scale;this.eq=wa(b,a)};g.Ta=function(){return null!=this.Fb&&this.Fb.Ta()};
g.bb=function(){return this.options.Hb&&!!this.options.Hb.scrollbars||this.options.Hb&&this.options.Hb.Bh||this.options.Hb&&this.options.Hb.ae||this.options.Ba&&this.options.Ba.Bh||this.options.Ba&&this.options.Ba.wr};function gh(a){var b=!!a.la;return a.bb()&&(!b||b&&!!a.la.sa)}function hh(a){var b=!!a.la;return a.bb()&&(!b||b&&!!a.la.na)}
g.wu=function(a){if(uh())a.preventDefault(),a.stopPropagation();else{var b=this.options.Ba&&this.options.Ba.Bh,c=this.options.Hb&&this.options.Hb.Bh;if(b||c){var d=db(a);!b||!a.ctrlKey&&c?(b=this.scrollX-d.x,c=this.scrollY-d.y,a.shiftKey&&!d.x&&(b=this.scrollX-d.y,c=this.scrollY),this.scroll(b,c)):(d=-d.y/50,b=cb(a,J(this),Qd(this)),this.zoom(b.x,b.y,d));a.preventDefault()}}};g.ij=function(a){if(!this.options.readOnly&&!this.jd){var b=qi("workspace",{h:this});this.wt&&this.wt(b,a);ni.show(a,b,this.s)}};
function Pd(a){if(a.options.Na)Pd(a.options.Na);else{te=a;document.activeElement&&document.activeElement.blur&&document.activeElement.blur();try{J(a).focus({preventScroll:!0})}catch(b){try{J(a).parentNode.setActive()}catch(c){J(a).parentNode.focus({preventScroll:!0})}}}}
g.zoom=function(a,b,c){c=Math.pow(this.options.Ba.Gr,c);var d=this.scale*c;if(this.scale!=d){d>this.options.Ba.Ji?c=this.options.Ba.Ji/this.scale:d<this.options.Ba.Li&&(c=this.options.Ba.Li/this.scale);var e=this.qa.getCTM(),f=J(this).createSVGPoint();f.x=a;f.y=b;f=f.matrixTransform(e.inverse());a=f.x;b=f.y;e=e.translate(a*(1-c),b*(1-c)).scale(c);this.scrollX=e.e;this.scrollY=e.f;this.setScale(d)}};
function ce(a,b){var c=a.Qb();if(a.K){var d=c.Pr?c.Pr/2:0;c=c.Or?c.Or/2:0}else d=c.kb/2+c.Eb,c=c.jb/2+c.Lb;a.zoom(d,c,b)}g.Ft=function(){fc(this.qa,"blocklyCanvasTransitioning");fc(this.nd,"blocklyCanvasTransitioning")};
g.setScale=function(a){this.options.Ba.Ji&&a>this.options.Ba.Ji?a=this.options.Ba.Ji:this.options.Ba.Li&&a<this.options.Ba.Li&&(a=this.options.Ba.Li);this.scale=a;Td(!1);this.K&&(this.K.Eo(),qj(this));this.Oc&&this.Oc.update(this.scale);a=this.Qb();this.scrollX-=a.Eb;this.scrollY-=a.Lb;a.Zc+=a.Eb;a.$c+=a.Lb;this.scroll(this.scrollX,this.scrollY);if(this.la)if(this.K){var b=this.la;b.sa&&Kd(b.sa,a);b.na&&Md(b.na,a)}else b=this.la,b.sa&&Ld(b.sa,a),b.na&&Nd(b.na,a)};
function wj(a){return a.options.Na?wj(a.options.Na):a.scale}g.scroll=function(a,b){Td(!0);var c=this.Qb();a=Math.min(a,-c.scrollLeft);b=Math.min(b,-c.scrollTop);var d=c.scrollTop+Math.max(0,c.scrollHeight-c.jb);a=Math.max(a,-(c.scrollLeft+Math.max(0,c.scrollWidth-c.kb)));b=Math.max(b,-d);this.scrollX=a;this.scrollY=b;this.la&&this.la.set(-(a+c.scrollLeft),-(b+c.scrollTop),!1);a+=c.Eb;b+=c.Lb;this.translate(a,b)};
function hj(a){var b=this.Qb();"number"==typeof a.x&&(this.scrollX=-(b.scrollLeft+(b.scrollWidth-b.kb)*a.x));"number"==typeof a.y&&(this.scrollY=-(b.scrollTop+(b.scrollHeight-b.jb)*a.y));this.translate(this.scrollX+b.Eb,this.scrollY+b.Lb)}g.rc=function(a){return gj.j.rc.call(this,a)};g.Sa=function(a){return gj.j.Sa.call(this,a)};g.Zj=function(a){this.tj.push(a);gj.j.Zj.call(this,a)};g.ul=function(a){nb(this.tj,a);gj.j.ul.call(this,a)};g.Ib=function(a){var b=!this.Jo&&a;this.Jo=a;b&&$c(this)};
g.clear=function(){this.Ib(!1);gj.j.clear.call(this);this.tj=[];this.Ib(!0)};function xj(a,b){if("function"!=typeof b)throw TypeError("Button callbacks must be functions.");a.Um.CREATE_VARIABLE=b}function pc(a,b){return(a=a.Um[b])?a:null}function kj(a,b,c){if("function"!=typeof c)throw TypeError("Toolbox category callbacks must be functions.");a.Zo[b]=c}
g.ce=function(a){var b="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,c=this.Fb;return c?b&&c.Tf?(console.warn("Tried to start the same gesture twice."),c.cancel(),null):c:b?this.Fb=new cj(a,this):null};function Mi(a){a.Fb&&a.Fb.cancel()};function yj(a){var b="blockly";"string"==typeof b&&(b=document.getElementById(b)||document.querySelector(b));if(!(b&&document.compareDocumentPosition(b)&16))throw Error("Error: container is not in current document.");a=new Ve(a||{});var c=document.createElement("div");c.className="injectionDiv";c.tabIndex=0;nf(c,"label",q.WORKSPACE_ARIA_LABEL);b.appendChild(c);b=zj(c,a);var d=new Pe(c),e=new Nf(c),f=Aj(b,a,d,e);Bj(f);te=f;Cj(f);c.addEventListener("focusin",function(){te=f});return f}
function zj(a,b){a.setAttribute("dir","LTR");var c=b.Tt,d=b.uf;if(!Fb){Fb=!0;var e=Hb.join("\n");Hb.length=0;c&&(c=d.replace(/[\\/]$/,""),e=e.replace(/<<<PATH>>>/g,c),c=document.createElement("style"),c.id="blockly-common-style",c.appendChild(document.createTextNode(e)),document.head.insertBefore(c,document.head.firstChild))}a=w($b,{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklySvg",tabindex:"0"},
a);c=w(Mb,{},a);e=b.rq;c=w(Xb,{id:"blocklyGridPattern"+String(Math.random()).substring(2),patternUnits:"userSpaceOnUse"},c);0<e.length&&0<e.spacing?(w(Vb,{stroke:e.colour},c),1<e.length&&w(Vb,{stroke:e.colour},c)):w(Vb,{},c);b.jn=c;return a}
function Aj(a,b,c,d){b.Na=null;b=new gj(b,c,d);c=b.options;b.scale=c.Ba.Nr;a.appendChild(b.va("blocklyMainBackground"));y(bj(b),b.za.ed());y(bj(b),b.ee().ed());!c.tq&&c.Fd&&(d=sj(b,$b),hc(d,a));if(c.wq){if(!Dj)throw Error("Missing require for Blockly.Trashcan");b.Ah=new Dj(b);d=b.Ah.va();b.u.insertBefore(d,b.qa)}if(c.Ba&&c.Ba.controls){if(!be)throw Error("Missing require for Blockly.ZoomControls");b.Dj=new be(b);c=b.Dj.va();b.u.appendChild(c)}b.Wa.subscribe(a,"workspaceBackgroundColour","background-color");
b.translate(0,0);Lf(b,Ej(b));Cj(b);zh||(zh=document.createElement("div"),zh.className="blocklyWidgetDiv",(qe||document.body).appendChild(zh));pe();df||(df=document.createElement("div"),df.className="blocklyTooltipDiv",(qe||document.body).appendChild(df));return b}function Fj(a){var b=a.Yb;if(!(gh(b.g)&&hh(b.g)||a.Ta())){b=b.bf(!0);for(var c=[].concat(a.tj),d=0,e;e=c[d];d++)Ng(a,b,e)}}
function Ej(a){return function(b){var c=a.Yb;if(!(gh(c.g)&&hh(c.g)||a.Ta()))if(-1!==Hc.indexOf(b.type)){c=c.bf(!0);var d=null;switch(b.type){case "create":case "move":(d=a.rc(b.ga))&&(d=d.gd())}if(d){var e=Fc;E(b.group);Ng(a,c,d)&&!b.group&&console.warn("Moved object in bounds but there was no event group. This may break undo.");null!==e&&E(e)}}else"viewport_change"===b.type&&b.scale>b.Ni&&Fj(a)}}
function Ng(a,b,c){var d=c.Xg(),e=fe(b.top,d.top,b.top+b.height-(d.bottom-d.top))-d.top,f=b.left;b=b.left+b.width-(d.right-d.left);a.s?f=Math.min(b,f):b=Math.max(f,b);return(a=fe(f,d.left,b)-d.left)||e?(c.moveBy(a,e),!0):!1}
function Bj(a){var b=a.options,c=J(a);u(c.parentNode,"contextmenu",null,function(e){Xa(e)||e.preventDefault()});c=u(window,"resize",null,function(){Td(!0);Cj(a);Fj(a)});a.wl=c;Gj();if(b.Fd){c=a.Aa;var d=a.tc(!0);c?c.D():d&&(d.D(a),d.show(b.Fd),"function"==typeof d.Mo&&d.Mo())}b.wq&&a.Ah.D();b.Ba&&b.Ba.controls&&a.Dj.D();b.Hb&&b.Hb.scrollbars?(a.la=new wd(a,!0===b.Hb.scrollbars||!!b.Hb.scrollbars.Ai,!0===b.Hb.scrollbars||!!b.Hb.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),a.la.resize()):a.dj({x:.5,
y:.5});b.Vt&&Hj(b.uf,a)}function Gj(){la||(u(document,"scroll",null,function(){for(var a=Mf(),b=0,c;c=a[b];b++)c.xj&&c.xj()}),u(document,"keydown",null,Ij),Eb(document,"touchend",null,xb),Eb(document,"touchcancel",null,xb),Pa&&u(window,"orientationchange",document,function(){Cj(te)}));la=!0}
function Hj(a,b){function c(){for(;e.length;)v(e.pop());d.preload()}var d=b.Pe;d.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");d.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");d.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var e=[];e.push(u(document,"mousemove",null,c,!0));e.push(u(document,"touchstart",null,c,!0))};function Jj(a){this.ds="";this.Fr=Object.create(null);if(a){a=a.split(",");for(var b=0;b<a.length;b++)this.Fr[a[b]]=!0}this.reset()}Jj.prototype.reset=function(){this.vd=Object.create(null);this.Wp=Object.create(null);this.Y=null};Jj.prototype.To=function(a){this.Y=a};
Jj.prototype.Gb=function(a,b){var c=a;"VARIABLE"==b&&(this.Y?a=(a=this.Y.hd(a))?a.name:null:(console.warn("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());"),a=null),a&&(c=a));a=c.toLowerCase();var d="VARIABLE"==b||"DEVELOPER_VARIABLE"==b?this.ds:"";b in this.vd||(this.vd[b]=Object.create(null));var e=this.vd[b];if(a in
e)return d+e[a];b=Kj(this,c,b);e[a]=b.substr(d.length);return b};function Kj(a,b,c){b?(b=encodeURI(b.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(b[0])&&(b="my_"+b)):b=q.UNNAMED_KEY||"unnamed";for(var d="";a.Wp[b+d]||b+d in a.Fr;)d=d?d+1:2;b+=d;a.Wp[b]=!0;return("VARIABLE"==c||"DEVELOPER_VARIABLE"==c?a.ds:"")+b}function Ef(a,b){return a.toLowerCase()==b.toLowerCase()};var lj={};function Lj(a){var b=Ff(a,"procedures_defnoreturn").map(function(c){return c.af()});a=Ff(a,"procedures_defreturn").map(function(c){return c.af()});b.sort(Mj);a.sort(Mj);return[b,a]}function Mj(a,b){return a[0].localeCompare(b[0],void 0,{sensitivity:"base"})}function Nj(a,b){if(b.Da)return a;for(a=a||q.UNNAMED_KEY||"unnamed";Oj(a,b.h,b);){var c=a.match(/^(.*?)(\d+)$/);a=c?c[1]+(parseInt(c[2],10)+1):a+"2"}return a}
function Oj(a,b,c){b=yf(b);for(var d=0;d<b.length;d++)if(b[d]!=c&&b[d].af){var e=b[d].af();if(Ef(e[0],a))return!0}return!1}function Pj(a){a=a.trim();var b=Nj(a,this.C()),c=this.mb();if(c!=a&&c!=b){a=yf(this.C().h);for(var d=0;d<a.length;d++)a[d].rh&&a[d].rh(c,b)}return b}
function mj(a){function b(f,h){for(var k=0;k<f.length;k++){var m=f[k][0],n=f[k][1],p=G("block");p.setAttribute("type",h);p.setAttribute("gap",16);var t=G("mutation");t.setAttribute("name",m);p.appendChild(t);for(m=0;m<n.length;m++){var x=G("arg");x.setAttribute("name",n[m]);t.appendChild(x)}c.push(p)}}var c=[];if(L.procedures_defnoreturn){var d=G("block");d.setAttribute("type","procedures_defnoreturn");d.setAttribute("gap",16);var e=G("field");e.setAttribute("name","NAME");e.appendChild(document.createTextNode(q.PROCEDURES_DEFNORETURN_PROCEDURE));
d.appendChild(e);c.push(d)}L.procedures_defreturn&&(d=G("block"),d.setAttribute("type","procedures_defreturn"),d.setAttribute("gap",16),e=G("field"),e.setAttribute("name","NAME"),e.appendChild(document.createTextNode(q.PROCEDURES_DEFRETURN_PROCEDURE)),d.appendChild(e),c.push(d));L.procedures_ifreturn&&(d=G("block"),d.setAttribute("type","procedures_ifreturn"),d.setAttribute("gap",16),c.push(d));c.length&&c[c.length-1].setAttribute("gap",24);a=Lj(a);b(a[0],"procedures_callnoreturn");b(a[1],"procedures_callreturn");
return c}
function Qj(a){for(var b=[],c=Ff(a,"procedures_mutatorarg"),d=0,e;e=c[d];d++)b.push(K(e,"NAME"));c=G("xml");d=G("block");d.setAttribute("type","procedures_mutatorarg");e=G("field");e.setAttribute("name","NAME");e.appendChild(document.createTextNode(Rj("x",b)));d.appendChild(e);c.appendChild(d);if(b=Ud(c)){if(!a.options.Fd)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(Yd(b)){if(!a.Aa)throw Error("Existing toolbox has no categories.  Can't change mode.");a.options.Fd=b;a.Aa.P(b)}else{if(!a.K)throw Error("Existing toolbox has categories.  Can't change mode.");
a.options.Fd=b;a.K.show(b)}}else if(a.options.Fd)throw Error("Can't nullify an existing toolbox.");}function nj(a){if("bubble_open"==a.type&&"mutator"===a.im&&a.ih){a=(Lc[a.Db]||null).rc(a.ga);var b=a.type;if("procedures_defnoreturn"==b||"procedures_defreturn"==b)a=a.zb.g,Qj(a),Lf(a,Sj)}}function Sj(a){"create"!=a.type&&"delete"!=a.type&&"change"!=a.type||Qj(Lc[a.Db]||null)}
function Tj(a){var b=Gc,c=a.af()[0],d=a.xa(!0),e=[];a=yf(a.h);for(var f=0;f<a.length;f++)if(a[f].uc){var h=a[f].uc();h&&Ef(h,c)&&e.push(a[f])}for(c=0;a=e[c];c++)f=(f=a.xa())&&Sc(f),a.$a(d),h=(h=a.xa())&&Sc(h),f!=h&&(Gc=!1,D(new (F("change"))(a,"mutation",null,f,h)),Gc=b)}function Uj(a,b){b=yf(b);for(var c=0;c<b.length;c++)if(b[c].af){var d=b[c].af();if(d&&Ef(d[0],a))return b[c]}return null};function Vj(){Wj=this;this.Tc=Object.create(null);this.jh=Object.create(null)}var Wj,Xj={Shift:16,Control:17,Alt:18,Meta:91};Vj.prototype.register=function(a,b){if(this.Tc[a.name]&&!b)throw Error('Shortcut with name "'+a.name+'" already exists.');this.Tc[a.name]=a};
Vj.prototype.unregister=function(a){if(!this.Tc[a])return console.warn('Keyboard shortcut with name "'+a+'" not found.'),!1;for(var b in this.jh){var c=b,d=this.jh[c],e=d.indexOf(a);-1<e&&(d.splice(e,1),0==d.length&&delete this.jh[c])}delete this.Tc[a];return!0};function Yj(a,b){var c=Wj;a=String(a);var d=c.jh[a];if(d)throw Error('Shortcut with name "'+b+'" collides with shortcuts '+d.toString());c.jh[a]=[b]}
Vj.prototype.co=function(a,b){var c="";for(d in Xj)b.getModifierState(d)&&(""!=c&&(c+="+"),c+=d);""!=c&&b.keyCode?c=c+"+"+b.keyCode:b.keyCode&&(c=b.keyCode.toString());c=this.jh[c]||[];if(!c)return!1;var d=0;for(var e;e=c[d];d++)if(e=this.Tc[e],(!e.Oa||e.Oa(a))&&e.ka&&e.ka(a,b,e))return!0;return!1};
function Zj(a,b){var c="";if(b){for(var d=sd(Xj),e=0,f;f=b[e];e++)if(0>d.indexOf(f))throw Error(f+" is not a valid modifier key.");for(var h in Xj)-1<b.indexOf(Xj[h])&&(""!=c&&(c+="+"),c+=h)}""!=c&&a?c=c+"+"+a:a&&(c=a.toString());return c}new Vj;function Af(a,b,c,d){this.h=a;this.name=b;this.type=c||"";this.ke=d||ib();D(new (F("var_create"))(this))}Af.prototype.T=function(){return this.ke};function ak(a,b){return a.name.localeCompare(b.name,void 0,{sensitivity:"base"})};var ij={};function bk(a){var b=yf(a);a=Object.create(null);for(var c=0;c<b.length;c++){var d=b[c].fe();if(d)for(var e=0;e<d.length;e++){var f=d[e],h=f.T();h&&(a[h]=f)}}b=[];for(h in a)b.push(a[h]);return b}var ck={};function jj(a){var b=[],c=document.createElement("button");c.setAttribute("text","%{BKY_NEW_VARIABLE}");c.setAttribute("callbackKey","CREATE_VARIABLE");xj(a,function(d){dk(d.Gl)});b.push(c);a=ek(a);return b=b.concat(a)}
function ek(a){a=a.xi("");var b=[];if(0<a.length){var c=a[a.length-1];if(L.variables_set){var d=G("block");d.setAttribute("type","variables_set");d.setAttribute("gap",L.math_change?8:24);d.appendChild(fk(c));b.push(d)}L.math_change&&(d=G("block"),d.setAttribute("type","math_change"),d.setAttribute("gap",L.variables_get?20:8),d.appendChild(fk(c)),c=Tc('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),d.appendChild(c),b.push(d));if(L.variables_get){a.sort(ak);
c=0;for(var e;e=a[c];c++)d=G("block"),d.setAttribute("type","variables_get"),d.setAttribute("gap",8),d.appendChild(fk(e)),b.push(d)}}return b}function Rj(a,b){if(!b.length)return a;for(var c="",d="ijkmnopqrstuvwxyzabcdefgh".indexOf(a);;){for(var e=!1,f=0;f<b.length;f++)if(b[f].toLowerCase()==a){e=!0;break}if(!e)return a;d++;25==d&&(d=0,c=Number(c)+1);a="ijkmnopqrstuvwxyzabcdefgh".charAt(d)+c}}
function dk(a){function b(c){gk(q.NEW_VARIABLE_TITLE,c,function(d){if(d){var e=hk(d,a);if(e){if(""==e.type)var f=q.VARIABLE_ALREADY_EXISTS.replace("%1",e.name);else f=q.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,f=f.replace("%1",e.name).replace("%2",e.type);Bf(f,function(){b(d)})}else a.ad(d,"")}})}b("")}
function ik(a,b){function c(d){var e=q.RENAME_VARIABLE_TITLE.replace("%1",b.name);gk(e,d,function(f){if(f){var h=jk(f,b.type,a);h?(h=q.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",h.name).replace("%2",h.type),Bf(h,function(){c(f)})):a.yf(b.T(),f)}})}c("")}function gk(a,b,c){kk(a,b,function(d){d&&(d=d.replace(/[\s\xa0]+/g," ").trim(),d==q.RENAME_VARIABLE||d==q.NEW_VARIABLE)&&(d=null);c(d)})}
function jk(a,b,c){c=c.Y.Qf();a=a.toLowerCase();for(var d=0,e;e=c[d];d++)if(e.name.toLowerCase()==a&&e.type!=b)return e;return null}function hk(a,b){b=b.Y.Qf();a=a.toLowerCase();for(var c=0,d;d=b[c];c++)if(d.name.toLowerCase()==a)return d;return null}function fk(a){var b=G("field");b.setAttribute("name","VAR");b.setAttribute("id",a.T());b.setAttribute("variabletype",a.type);b.appendChild(document.createTextNode(a.name));return b}
function lk(a,b,c,d){var e=mk(a,b,c,d);e||(e=a.vf,c||(c=Rj("i",(a.jd?a.W:a).Wm())),e=e?e.ad(c,d,b):a.ad(c,d,b));return e}function mk(a,b,c,d){var e=a.vf,f=null;if(b&&(f=a.hd(b),!f&&e&&(f=e.hd(b)),f))return f;if(c){if(void 0==d)throw Error("Tried to look up a variable by name without a type");f=a.Nc(c,d);!f&&e&&(f=e.Nc(c,d))}return f}function ad(a,b){a=a.Qf();var c=[];if(b.length!=a.length)for(var d=0;d<a.length;d++){var e=a[d];-1==b.indexOf(e)&&c.push(e)}return c};var te=null,M=null,wf=[],vj=null,nk=null,ok=null,qe=null;function Cj(a){for(;a.options.Na;)a=a.options.Na;var b=J(a),c=Zi(a),d=b.parentNode;if(d){var e=d.offsetWidth;d=d.offsetHeight;c.width!=e&&(b.setAttribute("width",e+"px"),tj(a,e,null));c.height!=d&&(b.setAttribute("height",d+"px"),tj(a,null,d));a.resize()}}function Ij(a){var b=te;!b||Xa(a)||b.I&&!b.isVisible()||Wj.co(b,a)}function pk(a){a.h.jd||(E(!0),Td(),a.v?a.m(!1,!0):a.m(!0,!0),E(!1))}
function qk(a){if(a.hh)a=null;else{for(var b=Qc(a,!0),c=0,d;d=b.childNodes[c];c++)if("next"==d.nodeName.toLowerCase()){b.removeChild(d);break}c=a.ea();b.setAttribute("x",a.s?-c.x:c.x);b.setAttribute("y",c.y);a={xml:b,source:a.h,Xu:ob(a,!0)}}a&&(vj=a.xml,nk=a.source,ok=a.Xu)}function rk(){if(!vj)return!1;var a=nk;a.jd&&(a=a.W);return ok&&If(a,ok)?(E(!0),uj(a),E(!1),!0):!1}function Td(a){lf();Fh();ye();var b=!!a;kd(te.nc,od).forEach(function(c){c.Gp(b)})}function Bf(a,b){alert(a);b&&b()}
function Cf(a,b){b(confirm(a))}function kk(a,b,c){c(prompt(a,b))}function sk(a){return function(){bi(this,a)}}function tk(a){for(var b=0;b<a.length;b++){var c=a[b];if(c){var d=c.type;null==d||""===d?console.warn("Block definition #"+b+" in JSON array is missing a type attribute. Skipping."):(L[d]&&console.warn("Block definition #"+b+' in JSON array overwrites prior definition of "'+d+'".'),L[d]={D:sk(c)})}else console.warn("Block definition #"+b+" in JSON array is "+c+". Skipping.")}}
function uk(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};function vk(a,b){for(var c=0,d=0;d<b.length;d++)for(var e=b[d];e;)setTimeout(e.Bf.bind(e,a),c),e=qb(e),c+=10}function wk(a,b){if(a.Pc())Array.prototype.push.apply(b,pb(a,!1));else{a=Pc(a,!1);for(var c=0;c<a.length;c++)wk(a[c],b)}}function xk(a){var b=[];a=a.Sa(!0);for(var c=0;c<a.length;c++)wk(a[c],b);return b}function yk(a,b){E(b);var c=a.shift();c&&(c.h?(c.m(!1,!0),setTimeout(yk,10,a,b)):yk(a,b));E(!1)}
pi.register({Ob:function(){return q.UNDO},Oa:function(a){return 0<a.h.tg.length?"enabled":"disabled"},ka:function(a){Kf(a.h,!1)},xc:"workspace",id:"undoWorkspace",weight:1});pi.register({Ob:function(){return q.REDO},Oa:function(a){return 0<a.h.Ui.length?"enabled":"disabled"},ka:function(a){Kf(a.h,!0)},xc:"workspace",id:"redoWorkspace",weight:2});
pi.register({Ob:function(){return q.CLEAN_UP},Oa:function(a){return a.h.bb()?1<a.h.Sa(!1).length?"enabled":"disabled":"hidden"},ka:function(a){a=a.h;a.Ib(!1);E(!0);for(var b=a.Sa(!0),c=0,d=0,e;e=b[d];d++)if(e.bb()){var f=e.ea();e.moveBy(-f.x,c-f.y);Ji(e);c=e.ea().y+Gg(e).height+a.za.G().Hh}E(!1);a.Ib(!0)},xc:"workspace",id:"cleanWorkspace",weight:3});
pi.register({Ob:function(){return q.COLLAPSE_ALL},Oa:function(a){if(a.h.options.collapse){a=a.h.Sa(!1);for(var b=0;b<a.length;b++)for(var c=a[b];c;){if(!c.isCollapsed())return"enabled";c=qb(c)}return"disabled"}return"hidden"},ka:function(a){vk(!0,a.h.Sa(!0))},xc:"workspace",id:"collapseWorkspace",weight:4});
pi.register({Ob:function(){return q.EXPAND_ALL},Oa:function(a){if(a.h.options.collapse){a=a.h.Sa(!1);for(var b=0;b<a.length;b++)for(var c=a[b];c;){if(c.isCollapsed())return"enabled";c=qb(c)}return"disabled"}return"hidden"},ka:function(a){vk(!1,a.h.Sa(!0))},xc:"workspace",id:"expandWorkspace",weight:5});
pi.register({Ob:function(a){if(a.h)return a=xk(a.h).length,1==a?q.DELETE_BLOCK:q.DELETE_X_BLOCKS.replace("%1",String(a))},Oa:function(a){if(a.h)return 0<xk(a.h).length?"enabled":"disabled"},ka:function(a){if(a.h){Mi(a.h);var b=xk(a.h),c=ib();2>b.length?yk(b,c):Cf(q.DELETE_ALL_BLOCKS.replace("%1",b.length),function(d){d&&yk(b,c)})}},xc:"workspace",id:"workspaceDelete",weight:6});
pi.register({Ob:function(){return q.DUPLICATE_BLOCK},Oa:function(a){a=a.block;return!a.Da&&a.Pc()&&a.bb()?(Jf(a.h)?If(a.h,ob(a,!0)):1)?"enabled":"disabled":"hidden"},ka:function(a){if(a.block){a=a.block;var b=vj,c=nk;qk(a);uj(a.h);vj=b;nk=c}},xc:"block",id:"blockDuplicate",weight:1});
pi.register({Ob:function(a){return a.block.Gc?q.REMOVE_COMMENT:q.ADD_COMMENT},Oa:function(a){a=a.block;return Ja||a.Da||!a.h.options.Wh||a.isCollapsed()||!a.Ub()?"hidden":"enabled"},ka:function(a){a=a.block;a.Gc?a.Ld(null):a.Ld("")},xc:"block",id:"blockComment",weight:2});
pi.register({Ob:function(a){return mg(a.block)?q.EXTERNAL_INPUTS:q.INLINE_INPUTS},Oa:function(a){a=a.block;if(!a.Da&&a.bb()&&!a.isCollapsed())for(var b=1;b<a.B.length;b++)if(3!=a.B[b-1].type&&3!=a.B[b].type)return"enabled";return"hidden"},ka:function(a){a.block.Wc(!mg(a.block))},xc:"block",id:"blockInline",weight:3});
pi.register({Ob:function(a){return a.block.isCollapsed()?q.EXPAND_BLOCK:q.COLLAPSE_BLOCK},Oa:function(a){a=a.block;return!a.Da&&a.bb()&&a.h.options.collapse?"enabled":"hidden"},ka:function(a){a.block.Bf(!a.block.isCollapsed())},xc:"block",id:"blockCollapseExpand",weight:4});
pi.register({Ob:function(a){return a.block.isEnabled()?q.DISABLE_BLOCK:q.ENABLE_BLOCK},Oa:function(a){a=a.block;return!a.Da&&a.h.options.disable&&a.Ub()?ai(a)?"disabled":"enabled":"hidden"},ka:function(a){a=a.block;var b=Fc;b||E(!0);a.Zb(!a.isEnabled());b||E(!1)},xc:"block",id:"blockDisable",weight:5});
pi.register({Ob:function(a){var b=a.block;a=pb(b,!1).length;(b=qb(b))&&(a-=pb(b,!1).length);return 1==a?q.DELETE_BLOCK:q.DELETE_X_BLOCKS.replace("%1",String(a))},Oa:function(a){return!a.block.Da&&a.block.Pc()?"enabled":"hidden"},ka:function(a){E(!0);a.block&&pk(a.block);E(!1)},xc:"block",id:"blockDelete",weight:6});
pi.register({Ob:function(){return q.HELP},Oa:function(a){a=a.block;return("function"==typeof a.wb?a.wb():a.wb)?"enabled":"hidden"},ka:function(a){a.block.showHelp()},xc:"block",id:"blockHelp",weight:7});function S(a,b){return" "+a+","+b+" "}function zk(a,b){return" "+a+b.join("")}function Ak(a,b){return" M "+a+","+b+" "}function Cg(a,b){return" m "+a+","+b+" "}function Bk(a,b){return" l "+a+","+b+" "}function N(a,b){return" "+a+" "+b+" "}function Ck(a,b,c){return"a "+b+" "+b+" "+a+c};function Dk(){this.qd=0;this.ct=3;this.Dc=5;this.tp=8;this.Kb=10;this.Bp=this.Dc;this.Oh=15;this.Mg=5;this.Wj=8;this.Ws=15;this.Rl=4;this.Vs=12;this.zs=16;this.ys=this.kp=this.Oh;this.ta=8;this.ht=this.Ih=15;this.zp=0;this.Ap=20;this.rs=4;this.kt=this.Dc;this.mt=this.Kb;this.ts=this.Dc;this.ss=this.Kb;this.ip=!1;this.et=15;this.ft=100;this.dt=15;this.Hh=24;this.Bs=14.5;this.As=this.Oh+11;this.Ds=2;this.Cs=this.Hh;this.yp=Cg(0,0);this.Rs=12;this.Ss=6;this.Dg=11;this.Eg="normal";this.Cg="sans-serif";
this.op=this.Kj=-1;this.Jj=4;this.mp=16;this.Bg=5;this.lp="#fff";this.Ol=!Ja&&!Ka;this.np=this.mp;this.Gs=this.Fs=this.Nl=!1;this.Is=this.Bg;this.Fh=12;this.Hs="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";
this.Js=!1;this.Es=this.Bg-3;this.rl=String(Math.random()).substring(2);this.zk="";this.Om=null;this.bq="";this.di=this.Xp=this.Am=null;this.jp="#cc0a0a";this.rp="#4286f4";this.Hj=100;this.Cp=5;this.Gj=10;this.ws=2;this.xs=4;this.pp=!1;this.Ps="#000000";this.qp=.2;this.xp={Zs:1,Jg:2}}g=Dk.prototype;
g.D=function(){this.Fg=this.Hn();this.Jg=this.In();this.Lg=this.Kn();this.Wl=this.Jn();var a=this.ta;this.Mj={width:a,height:a,wo:Ck("0 0,0",a,S(-a,a)),ol:Ck("0 0,0",a,S(a,a))};a=this.ta;this.Mh={$o:Cg(0,a)+Ck("0 0,1",a,S(a,-a)),Uu:Ck("0 0,1",a,S(a,a)),st:Ck("0 0,1",a,S(-a,a)),hm:Ck("0 0,1",a,S(-a,-a)),Eu:a}};g.hj=function(){this.ak=Object.create(null);var a=mc("Hg",this.Dg+"pt",this.Eg,this.Cg);this.Kj=a.height;this.op=a.Ec};
function Pi(a,b){var c="auto_"+b;a.ak[c]||(a.ak[c]=Ek({colourPrimary:b}));return{style:a.ak[c],name:c}}function Hi(a,b){return a.ak[b||""]||(b&&0==b.indexOf("auto_")?Pi(a,b.substring(5)).style:Ek({colourPrimary:"#000000"}))}function Ek(a){var b={};a&&rd(b,a);a=rb(b.colourPrimary||"#000");b.Ud=a.zi;b.colourSecondary?a=rb(b.colourSecondary).zi:(a=b.Ud,a=ta("#fff",a,.6)||a);b.jk=a;b.colourTertiary?a=rb(b.colourTertiary).zi:(a=b.Ud,a=ta("#fff",a,.3)||a);b.td=a;b.Bd=b.hat||"";return b}
g.m=function(){this.Om&&z(this.Om);this.Am&&z(this.Am);this.Xp&&z(this.Xp);this.di=null};g.Hn=function(){var a=this.Rs,b=this.Ss;return{height:a,width:b,path:" l"+[S(b,a/4),S(2*-b,a/2),S(b,a/4)].join("")}};g.Kn=function(){var a=this.et,b=this.ft;return{height:a,width:b,path:zk("c",[S(30,-a),S(70,-a),S(b,0)])}};
g.Jn=function(){function a(f){f=f?-1:1;var h=-f,k=c/2;return zk("c",[S(0,f*(k+2.5)),S(-b,h*(k+.5)),S(-b,f*k)])+zk("s",[S(b,2.5*h),S(b,f*k)])}var b=this.Wj,c=this.Oh,d=a(!0),e=a(!1);return{type:this.xp.Zs,width:b,height:c,Sc:e,Qi:d}};g.In=function(){function a(h){return" l"+[S(h*d,c),S(3*h,0),S(h*d,-c)].join("")}var b=this.Ws,c=this.Rl,d=(b-3)/2,e=a(1),f=a(-1);return{type:this.xp.Jg,width:b,height:c,tf:e,rr:f}};
function Bg(a,b){switch(b.type){case 1:case 2:return a.Wl;case 4:case 3:return a.Jg;default:throw Error("Unknown connection type");}}
g.va=function(a,b,c){c=this.Ym(c);b="blockly-renderer-style-"+b;this.di=document.getElementById(b);c=c.join("\n");if(this.di)this.di.firstChild.textContent=c;else{var d=document.createElement("style");d.id=b;d.appendChild(document.createTextNode(c));document.head.insertBefore(d,document.head.firstChild);this.di=d}a=w(Mb,{},a);b=w(Rb,{id:"blocklyEmbossFilter"+this.rl},a);w(Ob,{"in":"SourceAlpha",stdDeviation:1,result:"blur"},b);c=w(Qb,{"in":"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,
"lighting-color":"white",result:"specOut"},b);w(Pb,{x:-5E3,y:-1E4,z:2E4},c);w(Nb,{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},b);w(Nb,{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},b);this.zk=b.id;this.Om=b;a=w(Xb,{id:"blocklyDisabledPattern"+this.rl,patternUnits:"userSpaceOnUse",width:10,height:10},a);w(Zb,{width:10,height:10,fill:"#aaa"},a);w(Wb,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},a);this.bq=a.id;this.Am=a};
g.Ym=function(a){return[a+" .blocklyText, ",a+" .blocklyFlyoutLabelText {","font: "+this.Eg+" "+this.Dg+"pt "+this.Cg+";","}",a+" .blocklyText {","fill: #fff;","}",a+" .blocklyNonEditableText>rect,",a+" .blocklyEditableText>rect {","fill: "+this.lp+";","fill-opacity: .6;","stroke: none;","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text {","fill: #000;","}",a+" .blocklyFlyoutLabelText {","fill: #000;","}",a+" .blocklyText.blocklyBubbleText {","fill: #000;","}",a+" .blocklyEditableText:not(.editing):hover>rect {",
"stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+this.Cg+";","font-weight: "+this.Eg+";","}",a+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",a+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",a+" .blocklyReplaceable .blocklyPathLight,",a+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",a+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.qp+
";","stroke: none;","}"]};function Fk(a){this.Qg=this.Z=this.type=this.height=this.width=0;this.i=a;this.Rc=this.i.Ih};function Gk(a,b){Gk.j.constructor.call(this,a);this.Mb=b;this.shape=Bg(this.i,b);this.$f=!!this.shape.isDynamic;this.type|=1024}I(Gk,Fk);function Hk(a,b){Hk.j.constructor.call(this,a,b);this.type|=8192;this.height=this.$f?0:this.shape.height;this.Xc=this.width=this.$f?0:this.shape.width;this.oc=this.i.Mg;this.Yh=0}I(Hk,Gk);function Ik(a,b){Ik.j.constructor.call(this,a,b);this.type|=2048;this.height=this.shape.height;this.width=this.shape.width}I(Ik,Gk);
function Jk(a,b){Jk.j.constructor.call(this,a,b);this.type|=4096;this.height=this.shape.height;this.width=this.shape.width}I(Jk,Gk);function Kk(a,b){Kk.j.constructor.call(this,a,b.connection);this.type|=128;this.input=b;this.align=b.align;(this.Xe=b.connection&&b.connection.L()?b.connection.L():null)?(a=Gg(this.Xe),this.Xh=a.width,this.lk=a.height):this.lk=this.Xh=0;this.oc=this.Yh=0}I(Kk,Gk);
function Lk(a,b){Lk.j.constructor.call(this,a,b);this.type|=256;this.Xe?(this.width=this.Xh,this.height=this.lk):(this.height=this.i.As,this.width=this.i.Bs);this.Rg=this.$f?this.shape.height(this.height):this.shape.height;this.ud=this.$f?this.shape.width(this.height):this.shape.width;this.Xe||(this.width+=this.ud*(this.$f?2:1));this.oc=this.$f?this.shape.oc(this.Rg):this.i.Mg;this.Yh=this.$f?this.shape.Yh(this.ud):0}I(Lk,Kk);
function Mk(a,b){Mk.j.constructor.call(this,a,b);this.type|=512;this.height=this.Xe?this.lk+this.i.zp:this.i.Cs;this.width=this.i.ht+this.shape.width}I(Mk,Kk);function Nk(a,b){Nk.j.constructor.call(this,a,b);this.type|=64;this.height=this.Xe?this.lk-this.i.Mg-this.i.Dc:this.shape.height;this.width=this.shape.width+this.i.Ds;this.oc=this.i.Mg;this.Rg=this.shape.height;this.ud=this.shape.width}I(Nk,Kk);function Ok(a,b){Ok.j.constructor.call(this,a);this.icon=b;this.isVisible=b.isVisible();this.type|=4;a=new Fa(Pk.prototype.Uj,Pk.prototype.Uj-2);this.height=a.height;this.width=a.width}I(Ok,Fk);function Qk(a){Qk.j.constructor.call(this,a);this.type|=524288;this.height=this.i.Fg.height;this.width=this.i.Fg.width}I(Qk,Fk);function Rk(a,b){Rk.j.constructor.call(this,a);this.jq=b;this.Ub=b.Ij;this.Ht=!1;this.type|=1;a=this.jq.wi();this.height=a.height;this.width=a.width}I(Rk,Fk);
function Sk(a){Sk.j.constructor.call(this,a);this.type|=2;this.height=this.i.Lg.height;this.width=this.i.Lg.width;this.Og=this.height}I(Sk,Fk);function Tk(a,b){Tk.j.constructor.call(this,a);this.type=(b&&"left"!=b?131072:32768)|16384;this.width=this.height=this.i.qd}I(Tk,Fk);function Uk(a,b){Uk.j.constructor.call(this,a);this.type=(b&&"left"!=b?262144:65536)|16384;this.width=this.i.ta;this.height=this.i.ta/2}I(Uk,Fk);
function Vk(a,b){Vk.j.constructor.call(this,a);this.type|=40;this.width=b;this.height=this.i.dt}I(Vk,Fk);function Wk(a){this.type=1048576;this.elements=[];this.Z=this.lb=this.od=this.minWidth=this.minHeight=this.width=this.height=0;this.uq=this.dh=this.ln=this.ab=this.df=!1;this.i=a;this.Rc=this.i.Ih;this.align=null}Wk.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.");};function Xk(a){for(var b=a.elements.length-1,c;c=a.elements[b];b--)if(c.type&128)return c;return null}Wk.prototype.El=function(){return!0};Wk.prototype.mi=function(){return!0};
function Yk(a){Yk.j.constructor.call(this,a);this.type|=2097152;this.Og=this.Sd=0;this.Ut=!1;this.connection=null}I(Yk,Wk);Yk.prototype.mn=function(a){var b=(a.Bd?"cap"===a.Bd:this.i.ip)&&!a.v&&!a.H,c=a.H&&a.H.L();return!!a.v||b||(c?qb(c)==a:!1)};
Yk.prototype.measure=function(){for(var a=0,b=0,c=0,d=0,e;e=this.elements[d];d++)b+=e.width,e.type&8||(e.type&2?c=Math.max(c,e.Og):a=Math.max(a,e.height));this.width=Math.max(this.minWidth,b);this.height=Math.max(this.minHeight,a)+c;this.Sd=this.Og=c;this.od=this.width};Yk.prototype.El=function(){return!1};Yk.prototype.mi=function(){return!1};function Zk(a){Zk.j.constructor.call(this,a);this.type|=4194304;this.vq=!1;this.connection=null;this.Ec=this.ii=0}I(Zk,Wk);
Zk.prototype.mn=function(a){return!!a.v||!!qb(a)};Zk.prototype.measure=function(){for(var a=0,b=0,c=0,d=0,e;e=this.elements[d];d++)b+=e.width,e.type&8||(e.type&4096?c=Math.max(c,e.height):a=Math.max(a,e.height));this.width=Math.max(this.minWidth,b);this.height=Math.max(this.minHeight,a)+c;this.ii=c;this.od=this.width};Zk.prototype.El=function(){return!1};Zk.prototype.mi=function(){return!1};
function $k(a,b,c){$k.j.constructor.call(this,a);this.type|=24;this.width=c;this.height=b;this.mq=!1;this.od=0;this.elements=[new Vk(this.i,c)]}I($k,Wk);$k.prototype.measure=function(){};function al(a){al.j.constructor.call(this,a);this.type|=8388608;this.Sp=0}I(al,Wk);
al.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,b=0,c;c=this.elements[b];b++)this.width+=c.width,c.type&128&&(c.type&512?a+=c.Xh:c.type&64&&0!=c.Xh&&(a+=c.Xh-c.ud)),c.type&8||(this.height=Math.max(this.height,c.height));this.Sp=a;this.od=this.width+a};al.prototype.mi=function(){return!this.df&&!this.ab};function bl(a,b){this.A=b;this.za=a;this.i=this.za.G();this.v=b.v?new Hk(this.i,b.v):null;this.gh=mg(b)&&!b.isCollapsed();this.isCollapsed=b.isCollapsed();this.Vb=b.Vb();this.s=b.s;this.Ef=this.width=this.Ch=this.height=0;this.rows=[];this.Dq=[];this.yq=[];this.eb=new Yk(this.i);this.Ca=new Zk(this.i);this.Dl=this.Xc=0}g=bl.prototype;
g.measure=function(){var a=!!this.A.H,b=(this.A.Bd?"cap"===this.A.Bd:this.i.ip)&&!this.v&&!a,c=this.eb.mn(this.A)?Tk:Uk;this.eb.elements.push(new c(this.i));b?(a=new Sk(this.i),this.eb.elements.push(a),this.eb.Sd=a.Og):a&&(this.eb.Ut=!0,this.eb.connection=new Ik(this.i,this.A.H),this.eb.elements.push(this.eb.connection));this.A.B.length&&3==this.A.B[0].type&&!this.A.isCollapsed()?this.eb.minHeight=this.i.mt:this.eb.minHeight=this.i.kt;c=Tk;this.eb.elements.push(new c(this.i,"right"));this.rows.push(this.eb);
a=new al(this.i);this.Dq.push(a);c=Eg(this.A);b=0;for(var d;d=c[b];b++){var e=new Ok(this.i,d);this.isCollapsed&&d.Rp?this.yq.push(e):a.elements.push(e)}d=null;for(b=0;c=this.A.B[b];b++)if(c.isVisible()){!d||3!=c.type&&3!=d.type&&(1!=c.type&&5!=c.type||this.gh)||(this.rows.push(a),a=new al(this.i),this.Dq.push(a));for(d=0;e=c.ba[d];d++)a.elements.push(new Rk(this.i,e,c));this.Fp(c,a);d=c}this.isCollapsed&&(a.uq=!0,a.elements.push(new Qk(this.i)));(a.elements.length||a.dh)&&this.rows.push(a);this.Ao();
this.rows.push(this.Ca);this.Ep();a=this.rows;this.rows=[];for(b=0;b<a.length;b++)if(this.rows.push(a[b]),b!=a.length-1){c=this.rows;d=c.push;e=a[b];var f=a[b+1],h=new $k(this.i,this.oq(e,f),this.width-this.Xc);e.ab&&(h.mq=!0);f.ab&&(h.Sv=!0);d.call(c,h)}for(d=c=b=a=0;e=this.rows[d];d++)e.measure(),b=Math.max(b,e.width),e.ab&&(a=Math.max(a,e.width-Xk(e).width)),c=Math.max(c,e.od);this.Ef=a;this.width=b;for(d=0;e=this.rows[d];d++)e.ab&&(e.Ef=this.Ef);this.Ch=Math.max(b,c);this.v&&(this.Xc=this.v.width,
this.width+=this.v.width,this.Ch+=this.v.width);this.$l();this.kq()};g.Ao=function(){this.Ca.vq=!!this.A.F;this.Ca.minHeight=this.A.B.length&&3==this.A.B[this.A.B.length-1].type?this.i.ss:this.i.ts;this.Ca.mn(this.A)?this.Ca.elements.push(new Tk(this.i)):this.Ca.elements.push(new Uk(this.i));this.Ca.vq&&(this.Ca.connection=new Jk(this.i,this.A.F),this.Ca.elements.push(this.Ca.connection));this.Ca.elements.push(new Tk(this.i,"right"))};
g.Fp=function(a,b){this.gh&&1==a.type?(b.elements.push(new Lk(this.i,a)),b.ln=!0):3==a.type?(b.elements.push(new Mk(this.i,a)),b.ab=!0):1==a.type?(b.elements.push(new Nk(this.i,a)),b.df=!0):5==a.type&&(b.minHeight=Math.max(b.minHeight,a.C()&&a.C().X?this.i.ys:this.i.kp),b.dh=!0);null==b.align&&(b.align=a.align)};
g.Ep=function(){for(var a=0,b;b=this.rows[a];a++){var c=b.elements;b.elements=[];b.El()&&b.elements.push(new Vk(this.i,this.Rf(null,c[0])));if(c.length){for(var d=0;d<c.length-1;d++)b.elements.push(c[d]),b.elements.push(new Vk(this.i,this.Rf(c[d],c[d+1])));b.elements.push(c[c.length-1]);b.mi()&&b.elements.push(new Vk(this.i,this.Rf(c[c.length-1],null)))}}};
g.Rf=function(a,b){if(!a&&b&&b.type&512)return this.i.Ap;if(a&&a.type&128&&!b){if(a.type&64)return this.i.qd;if(a.type&256)return this.i.Kb;if(a.type&512)return this.i.qd}return a&&a.type&32768&&b&&(b.type&2048||b.type&4096)?b.Rc:a&&a.type&65536&&b&&(b.type&2048||b.type&4096)?b.Rc-this.i.ta:this.i.Dc};g.$l=function(){for(var a=0,b;b=this.rows[a];a++)if(b.ab)cl(this,b);else{var c=this.si(b)-b.width;0<c&&dl(b,c);b.type&6291456&&(b.od=b.width)}};g.si=function(){return this.width-this.Xc};
function dl(a,b){a:{var c=0;for(var d;d=a.elements[c];c++)if(d.type&8){c=d;break a}c=null}a:{d=a.elements.length-1;for(var e;e=a.elements[d];d--)if(e.type&8){d=e;break a}d=null}if(a.df||a.ab)a.od+=b;-1==a.align?d.width+=b:0==a.align?(c.width+=b/2,d.width+=b/2):1==a.align?c.width+=b:d.width+=b;a.width+=b}function cl(a,b){var c=Xk(b),d=b.width-c.width,e=a.Ef;d=e-d;0<d&&dl(b,d);d=b.width;e=a.si(b);c.width+=e-d;c.height=Math.max(c.height,b.height);b.width+=e-d;b.od=Math.max(b.width,a.Ef+b.Sp)}g.oq=function(){return this.i.Dc};
g.nq=function(a,b){return b.type&8?a.lb+b.height/2:a.type&4194304?(a=a.lb+a.height-a.ii,b.type&4096?a+b.height/2:a-b.height/2):a.type&2097152?b.type&2?a.Sd-b.height/2:a.Sd+b.height/2:a.lb+a.height/2};function el(a,b){for(var c=b.Z,d=0,e;e=b.elements[d];d++)e.type&8&&(e.height=b.height),e.Z=c,e.Qg=a.nq(b,e),c+=e.width}
g.kq=function(){for(var a=0,b=0,c=0,d;d=this.rows[c];c++)d.lb=b,d.Z=this.Xc,b+=d.height,a=Math.max(a,d.od),el(this,d);this.v&&this.A.F&&this.A.F.isConnected()&&(a=Math.max(a,Gg(this.A.F.L()).width));this.Ch=a+this.Xc;this.height=b;this.Dl=this.eb.Sd;this.Ca.Ec=b-this.Ca.ii};function fl(a,b){this.A=a;this.O=b;a.ea();this.Lk=this.aa="";this.i=b.za.G()}g=fl.prototype;g.dd=function(){gl(this);hl(this);il(this);this.A.ya.Po(this.aa+"\n"+this.Lk);this.O.s&&this.A.ya.Tm();jl(this)};function jl(a){a.A.height=a.O.height;a.A.width=a.O.Ch}function gl(a){for(var b=0,c;c=a.O.yq[b];b++)c.icon.Tb.setAttribute("display","none")}function hl(a){a.Km();for(var b=1;b<a.O.rows.length-1;b++){var c=a.O.rows[b];c.uq?a.ji(c):c.ab?a.Jm(c):c.df?a.Lm(c):a.fq(c)}a.Fm();a.Im()}
g.Km=function(){var a=this.O.eb,b=a.elements,c=this.O.eb;if(c.connection){var d=c.Z+c.Rc;yi(c.connection.Mb,this.O.s?-d:d,0)}this.aa+=Cg(a.Z,this.O.Dl);for(c=0;d=b[c];c++)d.type&65536?this.aa+=this.i.Mh.$o:d.type&262144?this.aa+=this.i.Mh.Uu:d.type&2048?this.aa+=d.shape.tf:d.type&2?this.aa+=this.i.Lg.path:d.type&8&&(this.aa+=N("h",d.width));this.aa+=N("v",a.height)};g.ji=function(a){this.aa+=this.i.Fg.path+N("v",a.height-this.i.Fg.height)};
g.Lm=function(a){var b=Xk(a);this.yr(a);var c="function"==typeof b.shape.Sc?b.shape.Sc(b.height):b.shape.Sc;this.aa+=N("H",b.Z+b.width)+c+N("v",a.height-b.Rg)};g.Jm=function(a){var b=Xk(a);this.aa+=N("H",b.Z+b.Rc+b.shape.width)+(b.shape.rr+N("h",-(b.Rc-this.i.Mj.width))+this.i.Mj.wo)+N("v",a.height-2*this.i.Mj.height)+this.i.Mj.ol+N("H",a.Z+a.width);this.Br(a)};g.fq=function(a){this.aa+=N("V",a.lb+a.height)};
g.Fm=function(){var a=this.O.Ca,b=a.elements;this.Ar();for(var c=0,d="",e=b.length-1,f;f=b[e];e--)f.type&4096?d+=f.shape.rr:f.type&32768?d+=N("H",a.Z):f.type&65536?d+=this.i.Mh.hm:f.type&262144?(d+=this.i.Mh.st,c=this.i.Mh.Eu):f.type&8&&(d+=N("h",-1*f.width));this.aa+=N("V",a.Ec-c);this.aa+=d};
g.Im=function(){var a=this.O.v;if(this.O.v){var b=this.O.Xc+this.O.v.Yh;yi(this.A.v,this.O.s?-b:b,this.O.v.oc)}a&&(b=a.oc+a.height,a="function"==typeof a.shape.Qi?a.shape.Qi(a.height):a.shape.Qi,this.aa+=N("V",b)+a);this.aa+="z"};
function il(a){for(var b=0,c;c=a.O.rows[b];b++)for(var d=0,e;e=c.elements[d];d++)if(e.type&256)a.Hm(e);else if(e.type&4||e.type&1){var f=a;if(e.type&1)var h=e.jq.U();else e.type&4&&(h=e.icon.Tb);var k=e.Qg-e.height/2,m=e.Z,n="";f.O.s&&(m=-(m+e.width),e.Ht&&(m+=e.width,n="scale(-1 1)"));e.type&4?(h.setAttribute("display","block"),h.setAttribute("transform","translate("+m+","+k+")"),Li(e.icon)):h.setAttribute("transform","translate("+m+","+k+")"+n);f.O.Vb&&h.setAttribute("display","none")}}
g.Hm=function(a){var b=a.height,c=a.oc;this.Lk+=Ak(a.Z+a.ud,a.Qg-b/2)+N("v",c)+a.shape.Sc+N("v",b-(a.Rg+c))+N("h",a.width-a.ud)+N("v",-b)+"z";this.zr(a)};g.zr=function(a){var b=a.Qg-a.height/2;if(a.Mb){var c=a.Z+a.ud+a.Yh;this.O.s&&(c*=-1);yi(a.Mb,c,b+a.oc)}};g.Br=function(a){var b=Xk(a);if(b.Mb){var c=a.Z+a.Ef+b.Rc;this.O.s&&(c*=-1);yi(b.Mb,c,a.lb)}};g.yr=function(a){var b=Xk(a);if(b.Mb){var c=a.Z+a.width;this.O.s&&(c*=-1);yi(b.Mb,c,a.lb)}};
g.Ar=function(){var a=this.O.Ca;if(a.connection){var b=a.connection,c=b.Z;yi(b.Mb,this.O.s?-c:c,a.Ec)}};function kl(a,b,c,d){var e=a?a.h.id:void 0;d&&"workspace"==d.getType()&&(e=d.V.id);kl.j.constructor.call(this,e);this.ga=a?a.id:null;this.er=c;this.Yq=d;this.Ed=b}I(kl,td);kl.prototype.type="marker_move";kl.prototype.R=function(){var a=kl.j.R.call(this);a.isCursor=this.Ed;a.blockId=this.ga;a.oldNode=this.er;a.newNode=this.Yq;return a};kl.prototype.N=function(a){kl.j.N.call(this,a);this.Ed=a.isCursor;this.ga=a.blockId;this.er=a.oldNode;this.Yq=a.newNode};A(uc,"marker_move",kl);function rj(a,b,c){this.g=a;this.Mn=c;this.ve=null;this.i=b;this.Tg=null;a=this.Ed()?this.i.jp:this.i.rp;this.tb=c.pm||a}g=rj.prototype;g.U=function(){return this.u};g.ui=function(){return this.Mn};g.Ed=function(){return"cursor"==this.Mn.type};
g.va=function(){var a=this.Ed()?"blocklyCursor":"blocklyMarker";this.u=w(Tb,{"class":a},null);this.te=w(Tb,{width:this.i.Hj,height:this.i.Cp},this.u);this.lf=w(Zb,{width:this.i.Hj,height:this.i.Cp,style:"display: none"},this.te);this.eg=w(Zb,{"class":"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.te);this.dg=w(Wb,{transform:"",style:"display: none"},this.te);this.se=w(Wb,{transform:"",style:"display: none",fill:"none","stroke-width":this.i.xs},this.te);this.Ed()&&(a={attributeType:"XML",
attributeName:"fill",dur:"1s",values:this.tb+";transparent;transparent;",repeatCount:"indefinite"},w(Jb,a,this.lf),w(Jb,a,this.dg),a.attributeName="stroke",w(Jb,a,this.se));return this.u};function ll(a,b){a.Ed()?(a.ve&&a.ve.Ae(null),b.Ae(a.U())):(a.ve&&a.ve.Df(null),b.Df(a.U()));a.ve=b}
g.dd=function(a,b){if(b){this.i=this.g.za.G();var c=this.Ed()?this.i.jp:this.i.rp;this.tb=this.Mn.pm||c;this.lf.setAttribute("fill",this.tb);this.eg.setAttribute("stroke",this.tb);this.dg.setAttribute("fill",this.tb);this.se.setAttribute("stroke",this.tb);this.Ed()&&(c=this.tb+";transparent;transparent;",this.lf.firstChild.setAttribute("values",c),this.dg.firstChild.setAttribute("values",c),this.se.firstChild.setAttribute("values",c));c=b.V.type;if("block"==b.getType())ml(this,b);else if("output"==
b.getType())ml(this,b);else if(1==c){var d=b.V;c=d.C();var e=d.hg.x,f=d.hg.y;d=Ak(0,0)+Bg(this.i,d).Sc;this.dg.setAttribute("d",d);this.dg.setAttribute("transform","translate("+e+","+f+")"+(this.g.s?" scale(-1 1)":""));this.Tg=this.dg;ll(this,c);nl(this)}else if(3==c)f=b.V,c=f.C(),e=0,f=f.hg.y,d=Gg(c).width,this.g.s&&(e=-d),ol(this,e,f,d),ll(this,c),nl(this);else if("previous"==b.getType())ml(this,b);else if("field"==b.getType())c=b.V,e=c.wi().width,f=c.wi().height,pl(this,0,0,e,f),ll(this,c),nl(this);
else if("workspace"==b.getType())e=b.ls,c=e.x,e=e.y,this.g.s&&(c-=this.i.Hj),ol(this,c,e,this.i.Hj),ll(this,this.g),nl(this);else if("stack"==b.getType()){c=b.V;f=Gg(c);e=f.width+this.i.Gj;f=f.height+this.i.Gj;var h=d=-this.i.Gj/2,k=-this.i.Gj/2;this.g.s&&(h=-(e+d));pl(this,h,k,e,f);ll(this,c);nl(this)}c=b.C();a=new (F("marker_move"))(c,this.Ed(),a,b);D(a);a=this.Tg.childNodes[0];void 0!==a&&a.beginElement&&a.beginElement()}else this.xb()};
function ml(a,b){b=b.C();var c=b.width,d=b.height,e=.75*d,f=a.i.ws;if(b.H){var h=Bg(a.i,b.H);a.se.setAttribute("d",Cg(-f,e)+N("V",-f)+N("H",a.i.Ih)+h.tf+N("H",c+2*f)+N("V",e))}else b.v?(h=Bg(a.i,b.v),a.se.setAttribute("d",Cg(c,0)+N("h",-(c-h.width))+N("v",a.i.Mg)+h.Sc+N("V",d)+N("H",c))):a.se.setAttribute("d",Cg(-f,e)+N("V",-f)+N("H",c+2*f)+N("V",e));a.g.s&&a.se.setAttribute("transform","scale(-1 1)");a.Tg=a.se;ll(a,b);nl(a)}function nl(a){a.xb();a.Tg.style.display=""}
function ol(a,b,c,d){a.lf.setAttribute("x",b);a.lf.setAttribute("y",c);a.lf.setAttribute("width",d);a.Tg=a.lf}function pl(a,b,c,d,e){a.eg.setAttribute("x",b);a.eg.setAttribute("y",c);a.eg.setAttribute("width",d);a.eg.setAttribute("height",e);a.Tg=a.eg}g.xb=function(){this.lf.style.display="none";this.eg.style.display="none";this.dg.style.display="none";this.se.style.display="none"};g.m=function(){this.u&&z(this.u)};function ql(a,b,c){this.Zh=c;this.Pd=a;this.Ga=w(Wb,{"class":"blocklyPath"},this.Pd);this.style=b;this.Ln=this.ei=null}g=ql.prototype;g.Po=function(a){this.Ga.setAttribute("d",a)};g.Tm=function(){this.Ga.setAttribute("transform","scale(-1 1)")};g.Ae=function(a){a?(this.Pd.appendChild(a),this.ei=a):this.ei=null};g.Df=function(a){a?(this.ei?this.Pd.insertBefore(a,this.ei):this.Pd.appendChild(a),this.Ln=a):this.Ln=null};
g.Ia=function(a){this.Ga.setAttribute("stroke",this.style.td);this.Ga.setAttribute("fill",this.style.Ud);this.$r(a.X);this.ap(!a.isEnabled()||ai(a))};g.Ee=function(a){this.style=a};function Ag(a,b,c){c?y(a.Pd,b):fc(a.Pd,b)}g.Zr=function(a){a?this.Ga.setAttribute("filter","url(#"+this.Zh.zk+")"):this.Ga.setAttribute("filter","none")};g.$r=function(a){a&&(this.Ga.setAttribute("stroke","none"),this.Ga.setAttribute("fill",this.style.jk))};
g.ap=function(a){Ag(this,"blocklyDisabled",a);a&&this.Ga.setAttribute("fill","url(#"+this.Zh.bq+")")};function rl(a){this.name=a;this.so=this.i=null}g=rl.prototype;g.ed=function(){return this.name+"-renderer"};g.D=function(a,b){this.i=this.Gn();b&&(this.so=b,rd(this.i,b));this.i.hj(a);this.i.D()};g.va=function(a,b){this.i.va(a,this.name+"-"+b.name,"."+this.ed()+"."+b.ed())};g.Fo=function(a,b){var c=this.G();c.m();this.i=this.Gn();this.so&&rd(this.i,this.so);this.i.rl=c.rl;this.i.hj(b);this.i.D();this.va(a,b)};g.m=function(){this.i&&this.i.m()};g.Gn=function(){return new Dk};
g.Rq=function(a){return new bl(this,a)};g.Pq=function(a,b){return new fl(a,b)};g.Qq=function(a,b){return new ql(a,b,this.i)};g.G=function(){return this.i};g.P=function(a){var b=this.Rq(a);b.measure();this.Pq(a,b).dd()};function sl(){sl.j.constructor.call(this);this.Ol=!1;this.pb=1;this.Us=30;this.zp=-this.Rl/2}I(sl,Dk);sl.prototype.Ym=function(a){return sl.j.Ym.call(this,a).concat([a+" .blocklyInsertionMarker>.blocklyPathLight,",a+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.qp+";","stroke: none;","}"])};function tl(a){this.O=a;this.Ci=this.M="";this.rb=this.O.s;a=a.za;this.i=a.G();this.vc=a.vc;this.ec=this.vc.OFFSET;this.qo=this.vc.Ys;this.eh=this.vc.Qs;this.Ti=this.vc.Wl;this.iu=this.vc.Jg;this.Nu=this.vc.Lg;this.Kq=this.vc.Fg}tl.prototype.ji=function(a){this.O.s&&(this.M+=this.Kq.tf+N("v",a.height-this.Kq.height-this.ec))};function ul(a,b){var c=b.Z+b.width-a.ec;b.mq&&(a.M+=N("H",c));a.rb&&(a.M+=N("H",c),b.height>a.ec&&(a.M+=N("V",b.lb+b.height-a.ec)))};function vl(a,b){vl.j.constructor.call(this,a,b);this.Xe&&(this.width+=this.i.pb,this.height+=this.i.pb)}I(vl,Lk);function wl(a,b){wl.j.constructor.call(this,a,b);this.Xe&&(this.height+=this.i.pb)}I(wl,Mk);function xl(a,b){xl.j.constructor.call(this,a,b)}I(xl,bl);g=xl.prototype;g.Ao=function(){xl.j.Ao.call(this);this.A.B.length&&3==this.A.B[this.A.B.length-1].type||(this.Ca.minHeight=this.i.Dc-this.i.pb)};g.Fp=function(a,b){this.gh&&1==a.type?(b.elements.push(new vl(this.i,a)),b.ln=!0):3==a.type?(b.elements.push(new wl(this.i,a)),b.ab=!0):1==a.type?(b.elements.push(new Nk(this.i,a)),b.df=!0):5==a.type&&(b.minHeight=Math.max(b.minHeight,this.i.kp),b.dh=!0);this.gh||null!=b.align||(b.align=a.align)};
g.Ep=function(){for(var a=!1,b=0,c;c=this.rows[b];b++)c.df&&(a=!0);for(b=0;c=this.rows[b];b++){var d=c.elements;c.elements=[];c.El()&&c.elements.push(new Vk(this.i,this.Rf(null,d[0])));if(d.length){for(var e=0;e<d.length-1;e++){c.elements.push(d[e]);var f=this.Rf(d[e],d[e+1]);c.elements.push(new Vk(this.i,f))}c.elements.push(d[d.length-1]);c.mi()&&(f=this.Rf(d[d.length-1],null),a&&c.dh&&(f+=this.i.Wj),c.elements.push(new Vk(this.i,f)))}}};
g.Rf=function(a,b){if(!a)return b&&b.type&1&&b.Ub?this.i.Dc:b&&b.type&256?this.i.tp:b&&b.type&512?this.i.Ap:this.i.Kb;if(!(a.type&128)&&(!b||b.type&512))return a.type&1&&a.Ub?this.i.Dc:a.type&4?2*this.i.Kb+1:a.type&2?this.i.qd:a.type&6144?this.i.Kb:a.type&65536?this.i.Vs:a.type&524288?this.i.qd:this.i.Kb;if(a.type&128&&!b){if(a.type&64)return this.i.qd;if(a.type&256)return this.i.Kb;if(a.type&512)return this.i.qd}if(!(a.type&128)&&b&&b.type&128){if(a.type&1&&a.Ub){if(b.type&256||b.type&64)return this.i.ct}else{if(b.type&
256||b.type&64)return this.i.tp;if(b.type&512)return this.i.Kb}return this.i.Kb-1}if(a.type&4&&b&&!(b.type&128))return this.i.Kb;if(a.type&256&&b&&b.type&1)return b.Ub?this.i.Dc:this.i.Kb;if(a.type&32768&&b){if(b.type&2)return this.i.qd;if(b.type&2048)return b.Rc;if(b.type&4096)return a=(this.s?1:-1)*this.i.pb/2,b.Rc+a}if(a.type&65536&&b){if(b.type&2048)return b.Rc-this.i.ta;if(b.type&4096)return a=(this.s?1:-1)*this.i.pb/2,b.Rc-this.i.ta+a}return a.type&1&&b&&b.type&1&&a.Ub==b.Ub||b&&b.type&524288?
this.i.Kb:this.i.Dc};g.oq=function(a,b){return a.type&2097152&&b.type&4194304?this.i.zs:a.type&2097152||b.type&4194304?this.i.qd:a.df&&b.df?this.i.Kb:!a.ab&&b.ab?this.i.rs:a.ab&&b.ab||!a.ab&&b.dh||a.dh?this.i.Kb:this.i.Dc};
g.nq=function(a,b){if(b.type&8)return a.lb+b.height/2;if(a.type&4194304)return a=a.lb+a.height-a.ii,b.type&4096?a+b.height/2:a-b.height/2;if(a.type&2097152)return b.type&2?a.Sd-b.height/2:a.Sd+b.height/2;var c=a.lb;b.type&1||b.type&4?(c+=b.height/2,(a.ln||a.ab)&&b.height+this.i.Bp<=a.height&&(c+=this.i.Bp)):c=b.type&256?c+b.height/2:c+a.height/2;return c};
g.$l=function(){if(this.gh){for(var a=0,b=null,c=this.rows.length-1,d;d=this.rows[c];c--)d.Un=a,d.type&8388608&&(d.ab&&cl(this,d),b&&b.ab&&d.width<b.width?d.Un=b.width:a=d.width,b=d);for(c=a=0;d=this.rows[c];c++)d.ab?a=this.si(d):d.type&8?d.width=Math.max(a,d.Un):(a=Math.max(a,d.Un)-d.width,0<a&&dl(d,a),a=d.width)}else xl.j.$l.call(this)};g.si=function(a){return this.gh&&a.ab?this.Ef+this.i.Us+this.Xc:xl.j.si.call(this,a)};
g.kq=function(){for(var a=0,b=0,c=0,d;d=this.rows[c];c++){d.lb=b;d.Z=this.Xc;b+=d.height;a=Math.max(a,d.od);var e=b-this.eb.Og;d==this.Ca&&e<this.i.Hh&&(e=this.i.Hh-e,this.Ca.height+=e,b+=e);el(this,d)}this.v&&this.A.F&&this.A.F.isConnected()&&(a=Math.max(a,Gg(this.A.F.L()).width-this.i.pb));this.Ca.Ec=b-this.Ca.ii;this.Ch=a+this.Xc+this.i.pb;this.width+=this.i.pb;this.height=b+this.i.pb;this.Dl=this.eb.Sd};function yl(a,b){yl.j.constructor.call(this,a,b);this.Cd=new tl(b)}I(yl,fl);g=yl.prototype;g.dd=function(){gl(this);hl(this);il(this);var a=this.A.ya;a.Po(this.aa+"\n"+this.Lk);var b=this.Cd;a.qg.setAttribute("d",b.M+"\n"+b.Ci);this.O.s&&a.Tm();jl(this)};
g.Km=function(){var a=this.Cd,b=this.O.eb;a.M+=Cg(b.Z,a.O.Dl);for(var c=0,d;d=b.elements[c];c++)d.type&32768?a.M+=a.vc.yp:d.type&65536?a.M+=a.qo.$o(a.rb):d.type&2048?a.M+=a.iu.tf:d.type&2?a.M+=a.Nu.path(a.rb):d.type&8&&0!=d.width&&(a.M+=N("H",d.Z+d.width-a.ec));a.M+=N("H",b.Z+b.width-a.ec);ul(this.Cd,this.O.eb);yl.j.Km.call(this)};g.ji=function(a){this.Cd.ji(a);yl.j.ji.call(this,a)};
g.Lm=function(a){var b=this.Cd,c=Xk(a);if(b.rb){var d=a.height-c.Rg;b.M+=Ak(c.Z+c.width-b.ec,a.lb)+b.Ti.Sc(b.rb)+N("v",d)}else b.M+=Ak(c.Z+c.width,a.lb)+b.Ti.Sc(b.rb);yl.j.Lm.call(this,a)};g.Jm=function(a){var b=this.Cd,c=Xk(a);if(b.rb){var d=a.height-2*b.eh.height;b.M+=Ak(c.Z,a.lb)+b.eh.wo(b.rb)+N("v",d)+b.eh.ol(b.rb)+Bk(a.width-c.Z-b.eh.width,0)}else b.M+=Ak(c.Z,a.lb+a.height)+b.eh.ol(b.rb)+Bk(a.width-c.Z-b.eh.width,0);yl.j.Jm.call(this,a)};
g.fq=function(a){ul(this.Cd,a);this.aa+=N("H",a.Z+a.width)+N("V",a.lb+a.height)};g.Fm=function(){var a=this.Cd,b=this.O.Ca;if(a.rb)a.M+=N("V",b.Ec-a.ec);else{var c=a.O.Ca.elements[0];c.type&32768?a.M+=Ak(b.Z+a.ec,b.Ec-a.ec):c.type&65536&&(a.M+=Ak(b.Z,b.Ec),a.M+=a.qo.hm())}yl.j.Fm.call(this)};
g.Im=function(){var a=this.Cd,b=a.O.v;b&&(b=b.oc+b.height,a.rb?a.M+=Ak(a.O.Xc,b):(a.M+=Ak(a.O.Xc+a.ec,a.O.Ca.Ec-a.ec),a.M+=N("V",b)),a.M+=a.Ti.Qi(a.rb));a.rb||(b=a.O.eb,a.M=b.elements[0].type&65536?a.M+N("V",a.qo.height):a.M+N("V",b.Sd+a.ec));yl.j.Im.call(this)};
g.Hm=function(a){var b=this.Cd,c=b.ec,d=a.Z+a.ud,e=a.Qg-a.height/2,f=a.width-a.ud,h=e+c;b.rb?(e=a.height-(a.oc+a.Rg)+c,b.Ci+=Ak(d-c,h)+N("v",a.oc-c)+b.Ti.Sc(b.rb)+N("v",e)+N("h",f)):b.Ci+=Ak(a.Z+a.width+c,h)+N("v",a.height)+N("h",-f)+Ak(d,e+a.oc)+b.Ti.Sc(b.rb);yl.j.Hm.call(this,a)};g.zr=function(a){var b=a.Qg-a.height/2;if(a.Mb){var c=a.Z+a.ud+this.i.pb;this.O.s&&(c*=-1);yi(a.Mb,c,b+a.oc+this.i.pb)}};
g.Br=function(a){var b=Xk(a);if(b.Mb){var c=a.Z+a.Ef+b.Rc;c=this.O.s?-1*c:c+this.i.pb;yi(b.Mb,c,a.lb+this.i.pb)}};g.yr=function(a){var b=Xk(a);if(b.Mb){var c=a.Z+a.width+this.i.pb;this.O.s&&(c*=-1);yi(b.Mb,c,a.lb)}};g.Ar=function(){var a=this.O.Ca;if(a.connection){var b=a.connection,c=b.Z;yi(b.Mb,(this.O.s?-c:c)+this.i.pb/2,a.Ec+this.i.pb)}};function zl(a){this.Sg=a;this.OFFSET=.5;this.yp=Cg(this.OFFSET,this.OFFSET)}g=zl.prototype;g.D=function(){this.Qs=Al(this);this.Ys=Bl(this);this.Wl=this.Jn();this.Jg=this.In();this.Fg=this.Hn();this.Lg=this.Kn()};function Al(a){var b=a.Sg.ta;a=a.OFFSET;var c=(1-Math.SQRT1_2)*(b+a)-a,d=Cg(c,c)+Ck("0 0,0",b,S(-c-a,b-c)),e=Ck("0 0,0",b+a,S(b+a,b+a)),f=Cg(c,-c)+Ck("0 0,0",b+a,S(b-c,c+a));return{width:b+a,height:b,wo:function(h){return h?d:""},ol:function(h){return h?e:f}}}
function Bl(a){var b=a.Sg.ta;a=a.OFFSET;var c=(1-Math.SQRT1_2)*(b-a)+a,d=Cg(c,c)+Ck("0 0,1",b-a,S(b-c,-c+a)),e=Cg(a,b)+Ck("0 0,1",b-a,S(b,-b+a)),f=-c,h=Cg(c,f)+Ck("0 0,1",b-a,S(-c+a,-f-b));return{height:b,$o:function(k){return k?d:e},hm:function(){return h}}}
g.Jn=function(){var a=this.Sg.Wj,b=this.Sg.Oh,c=Cg(-2,-b+3.4)+Bk(-.45*a,-2.1),d=N("v",2.5)+Cg(.97*-a,2.5)+zk("q",[S(.05*-a,10),S(.3*a,9.5)])+Cg(.67*a,-1.9)+N("v",2.5),e=N("v",-1.5)+Cg(-.92*a,-.5)+zk("q",[S(-.19*a,-5.5),S(0,-11)])+Cg(.92*a,1),f=Cg(-5,b-.7)+Bk(.46*a,-2.1);return{width:a,height:b,Qi:function(h){return h?c:e},Sc:function(h){return h?d:f}}};g.In=function(){return{tf:N("h",this.OFFSET)+this.Sg.Jg.tf}};g.Hn=function(){return{tf:Bk(5.1,2.6)+Cg(-10.2,6.8)+Bk(5.1,2.6),height:12,width:10.2}};
g.Kn=function(){var a=Cg(25,-8.7)+zk("c",[S(29.7,-6.2),S(57.2,-.5),S(75,8.7)]),b=zk("c",[S(17.8,-9.2),S(45.3,-14.9),S(75,-8.7)])+Ak(100.5,this.Sg.Lg.height+.5);return{path:function(c){return c?a:b}}};function Cl(a,b,c){this.Zh=c;this.Pd=a;this.qj=w(Wb,{"class":"blocklyPathDark",transform:"translate(1,1)"},this.Pd);this.Ga=w(Wb,{"class":"blocklyPath"},this.Pd);this.qg=w(Wb,{"class":"blocklyPathLight"},this.Pd);this.qm="#000000";this.style=b}I(Cl,ql);g=Cl.prototype;g.Po=function(a){this.Ga.setAttribute("d",a);this.qj.setAttribute("d",a)};g.Tm=function(){this.Ga.setAttribute("transform","scale(-1 1)");this.qg.setAttribute("transform","scale(-1 1)");this.qj.setAttribute("transform","translate(1,1) scale(-1 1)")};
g.Ia=function(a){this.qg.style.display="";this.qj.style.display="";this.qg.setAttribute("stroke",this.style.td);this.qj.setAttribute("fill",this.qm);Cl.j.Ia.call(this,a);this.Ga.setAttribute("stroke","none")};g.Ee=function(a){this.style=a;this.qm=ta("#000",this.style.Ud,.2)||this.qm};g.Zr=function(a){a?(this.Ga.setAttribute("filter","url(#"+this.Zh.zk+")"),this.qg.style.display="none"):(this.Ga.setAttribute("filter","none"),this.qg.style.display="inline")};
g.$r=function(a){a&&(this.qg.style.display="none",this.qj.setAttribute("fill",this.style.jk),this.Ga.setAttribute("stroke","none"),this.Ga.setAttribute("fill",this.style.jk))};g.ap=function(a){Cl.j.ap.call(this,a);a&&this.Ga.setAttribute("stroke","none")};function Dl(a){Dl.j.constructor.call(this,a);this.vc=null}I(Dl,rl);g=Dl.prototype;g.D=function(a,b){Dl.j.D.call(this,a,b);this.vc=new zl(this.G());this.vc.D()};g.Fo=function(a,b){Dl.j.Fo.call(this,a,b);this.vc.D()};g.Gn=function(){return new sl};g.Rq=function(a){return new xl(this,a)};g.Pq=function(a,b){return new yl(a,b)};g.Qq=function(a,b){return new Cl(a,b,this.G())};A(wc,"geras",Dl);(function(){var a={name:"escape",Oa:function(b){return!b.options.readOnly},ka:function(){Td();return!0}};Wj.register(a);Yj(27,a.name)})();(function(){var a={name:"delete",Oa:function(b){return!b.options.readOnly&&M&&M.Pc()},ka:function(b,c){c.preventDefault();if(uh())return!1;pk(M);return!0}};Wj.register(a);Yj(46,a.name);Yj(8,a.name)})();
(function(){var a={name:"copy",Oa:function(c){return!c.options.readOnly&&!uh()&&M&&M.Pc()&&M.bb()},ka:function(c,d){d.preventDefault();Td();qk(M);return!0}};Wj.register(a);var b=Zj(67,[17]);Yj(b,a.name);b=Zj(67,[18]);Yj(b,a.name);b=Zj(67,[91]);Yj(b,a.name)})();(function(){var a={name:"cut",Oa:function(c){return!c.options.readOnly&&!uh()&&M&&M.Pc()&&M.bb()&&!M.h.jd},ka:function(){qk(M);pk(M);return!0}};Wj.register(a);var b=Zj(88,[17]);Yj(b,a.name);b=Zj(88,[18]);Yj(b,a.name);b=Zj(88,[91]);Yj(b,a.name)})();
(function(){var a={name:"paste",Oa:function(c){return!c.options.readOnly&&!uh()},ka:function(){return rk()}};Wj.register(a);var b=Zj(86,[17]);Yj(b,a.name);b=Zj(86,[18]);Yj(b,a.name);b=Zj(86,[91]);Yj(b,a.name)})();(function(){var a={name:"undo",Oa:function(c){return!c.options.readOnly&&!uh()},ka:function(c){Td();Kf(c,!1);return!0}};Wj.register(a);var b=Zj(90,[17]);Yj(b,a.name);b=Zj(90,[18]);Yj(b,a.name);b=Zj(90,[91]);Yj(b,a.name)})();
(function(){var a={name:"redo",Oa:function(c){return!uh()&&!c.options.readOnly},ka:function(c){Td();Kf(c,!0);return!0}};Wj.register(a);var b=Zj(90,[16,17]);Yj(b,a.name);b=Zj(90,[16,18]);Yj(b,a.name);b=Zj(90,[16,91]);Yj(b,a.name);b=Zj(89,[17]);Yj(b,a.name)})();var El={am:"\u12a0\u121b\u122d\u129b",ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",ca:"Catal\u00e0",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",eo:"Esperanto",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",
fi:"Suomi",fo:"F\u00f8royskt",fr:"Fran\u00e7ais",gl:"Galego",ha:"Hausa",he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hr:"Hrvatski",hu:"Magyar",hy:"\u0570\u0561\u0575\u0565\u0580\u0567\u0576",ia:"Interlingua",id:"Bahasa Indonesia",ig:"As\u1ee5s\u1ee5 Igbo",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",kn:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",
nb:"Norsk (bokm\u00e5l)",nl:"Nederlands, Vlaams",pl:"Polski",pms:"Piemont\u00e8is",pt:"Portugu\u00eas","pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438","sr-latn":"Srpski",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",ti:"\u1275\u130d\u122d\u129b",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",
ur:"\u0627\u064f\u0631\u062f\u064f\u0648\u202c",vi:"Ti\u1ebfng Vi\u1ec7t",yo:"\u00c8d\u00e8 Yor\u00f9b\u00e1","zh-hans":"\u7b80\u4f53\u4e2d\u6587","zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},Fl=window.BlocklyGamesLang,Gl=window.BlocklyGamesLanguages,Hl=["ar","fa","he","ur"].includes(Fl),Il=/\.html$/.test(window.location.pathname),T=document.getElementById.bind(document);
function Jl(a){try{if(a.lineno||a.colno){var b=Date.now();if(!(Jl.Mq+1E4>b)){Jl.Mq=b;var c=new XMLHttpRequest,d="error="+encodeURIComponent(a.error&&a.error.stack||a.message+" "+a.filename+" "+a.lineno+":"+a.colno)+"&amp;url="+encodeURIComponent(window.location);c.open("POST","/errorReporter");c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");c.send(d);console.log("Error reported.")}}}catch(e){console.log(a.error)}}Jl.Mq=0;Il||window.addEventListener("error",Jl);
var Kl,Ll=Math,Ml=Ll.floor,Nl=Number,Ol,Pl=window.location.search.match(RegExp("[?&]level=([^&]+)"));Ol=Pl?decodeURIComponent(Pl[1].replace(/\+/g,"%20")):"NaN";var Ql=Ml.call(Ll,Nl(Ol));Kl=isNaN(Ql)?1:Math.max(1,Math.min(Ql,10));
function Rl(a){document.title=U("Games.name",!1)+(a&&" : ")+a;document.dir=Hl?"rtl":"ltr";document.head.parentElement.setAttribute("lang",Fl);if(a=T("languageMenu")){for(var b=[],c=l(Gl),d=c.next();!d.done;d=c.next())d=d.value,b.push([El[d],d]);b.sort(function(e,f){return e[0]>f[0]?1:e[0]<f[0]?-1:0});a.options.length=0;b=l(b);for(c=b.next();!c.done;c=b.next())d=l(c.value),c=d.next().value,d=d.next().value,c=new Option(c,d),d===Fl&&(c.selected=!0),a.options.add(c);1>=a.options.length&&(a.style.display=
"none")}for(a=1;10>=a;a++)b=T("level"+a),c=!!Sl(a),b&&c&&(b.className+=" level_done");(a=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&a.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");Il||setTimeout(Tl,1)}function Sl(a){var b=Ul;try{var c=window.localStorage[b+a]}catch(d){}return c}
function Vl(a,b){if(!a)throw TypeError("Element not found: "+a);"string"===typeof a&&(a=T(a));a.addEventListener("click",b,!0);a.addEventListener("touchend",function(c){c.preventDefault();b(c)},!0)}function Wl(a){a%=360;0>a&&(a+=360);return a}function U(a,b){a=window.BlocklyGamesMsg[a];void 0===a&&(a="[Unknown message: ${name}]");return b?a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"):a}
function Tl(){function a(c){(a.q=a.q||[]).push(arguments)}window.GoogleAnalyticsObject="GoogleAnalyticsFunction";window.GoogleAnalyticsFunction=a;a.l=1*new Date;var b=document.createElement("script");b.async=1;b.src="//www.google-analytics.com/analytics.js";document.head.appendChild(b);a("create","UA-50448074-1","auto");a("send","pageview")};var Xl=null,Yl=null;function Zl(){var a=Xl();$l("xml="+encodeURIComponent(a))}var am=new Map;function $l(a){var b=bm;var c=void 0===c?"POST":c;am.has("/storage")&&am.get("/storage").abort();var d=new XMLHttpRequest;am.set("/storage",d);d.onload=function(){200===this.status?b&&b.call(d):cm(U("Games.httpRequestError",!1)+"\nXHR status: "+d.status);am.delete("/storage")};d.open(c,"/storage");"POST"===c&&d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");d.send(a)}
function bm(){window.location.hash=this.responseText.trim();cm(U("Games.linkAlert",!1).replace("%1",window.location.href));Yl=Xl()}function cm(a){if("object"===typeof V){var b=T("linkButton");V.Qu(b,a)}else alert(a)};var dm=null,em=null,fm=!1;
function gm(){if(fm)var a=em.getValue();else{var b=dm;a=G("xml");for(var c=bk(b),d=G("variables"),e=0,f;f=c[e];e++){var h=G("variable");h.appendChild(document.createTextNode(f.name));f.type&&h.setAttribute("type",f.type);h.id=f.T();d.appendChild(h)}d.hasChildNodes()&&a.appendChild(d);d=[].concat(b.Hl);1<d.length&&(b.Od.offset=Math.sin(ee(3)),b.s&&(b.Od.offset*=-1),d.sort(b.Od));for(c=0;e=d[c];c++)a.appendChild(e.Uv(!0));b=b.Sa(!0);for(c=0;d=b[c];c++)a.appendChild(Oc(d,!0));1===dm.Sa(!1).length&&a.querySelector&&
(b=a.querySelector("block"))&&(b.removeAttribute("x"),b.removeAttribute("y"));a=Sc(a)}return a}function hm(){null!==Yl&&Yl!==gm()&&(window.location.hash="",Yl=null)}function im(){window.location=(Il?"index.html":"./")+"?lang="+Fl}
function jm(){window.sessionStorage&&(window.sessionStorage.Nv=gm());var a=T("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var b=window.location.search;b=1>=b.length?"?lang="+a:/[?&]lang=[^&]*/.test(b)?b.replace(/([?&]lang=)[^&]*/,"$1"+a):b.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+b}
function km(a){if("click"===a.type&&"touchend"===lm&&mm+2E3>Date.now()||lm===a.type&&mm+400>Date.now())return a.preventDefault(),a.stopPropagation(),!0;lm=a.type;mm=Date.now();return!1}var lm=null,mm=0;function nm(){setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="third-party/babel.min.js";document.head.appendChild(a)},1)}
function om(){var a=window.ace;a.require("ace/ext/language_tools");em=a=a.edit("editor");a.setTheme("ace/theme/chrome");a.setShowPrintMargin(!1);a.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0});a=a.getSession();a.setMode("ace/mode/javascript");a.setTabSize(2);a.setUseSoftTabs(!0);a.on("change",hm);pm();return a}
function pm(){var a=em.getSession().getMode().$highlightRules.$keywordList;a?a.splice(0,Infinity,"arguments","this","NaN","Math","JSON","parseInt","parseFloat","isNaN","isFinite","eval","String","RegExp","Object","Number","Function","Date","Boolean","Array","while","var","let","typeof","try","throw","switch","return","new","instanceof","of","in","if","function","for","finally","else","do","delete","continue","catch","case","break","const","undefined","Infinity","null","false","true"):setTimeout(pm,
pm.Yp*=2)}pm.Yp=1;
function Yh(a){this.ue=a;this.Ks=new RegExp(this.Pl,"g")}g=Yh.prototype;g.Lj=null;g.ac=null;g.sb=null;g.Jb="  ";g.vs=60;g.Sj=[];g.Ok=null;
function qm(){var a=W,b=dm;b||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),b=te);var c=[];a.D(b);b=b.Sa(!0);for(var d=0,e;e=b[d];d++){var f=rm(a,e);Array.isArray(f)&&(f=f[0]);f&&(e.v&&(f=a.Hr(f),a.ac&&!e.Ff&&(f=sm(a.ac,e)+f),a.sb&&!e.Ff&&(f+=sm(a.sb,e))),c.push(f))}c=c.join("\n");c=a.finish(c);c=c.replace(/^\s+\n/,"");c=c.replace(/\n\s+$/,"\n");return c=c.replace(/[ \t]+\n/g,"\n")}function tm(a,b){return b+a.replace(/(?!\n$)\n/g,"\n"+b)}
function rm(a,b){!1===a.Ok&&console.warn("Generator init was not called before blockToCode was called.");if(!b)return"";if(!b.isEnabled())return rm(a,qb(b));if(b.Vb())return rm(a,Pc(b,!1)[0]);var c=a[b.type];if("function"!=typeof c)throw Error('Language "'+a.ue+'" does not know how to generate code for block type "'+b.type+'".');c=c.call(b,b);if(Array.isArray(c)){if(!b.v)throw TypeError("Expecting string from statement block: "+b.type);return[a.xl(b,c[0]),c[1]]}if("string"==typeof c)return a.ac&&
!b.Ff&&(c=sm(a.ac,b)+c),a.sb&&!b.Ff&&(c+=sm(a.sb,b)),a.xl(b,c);if(null===c)return"";throw SyntaxError("Invalid code generated: "+c);}
function X(a,b,c,d){if(isNaN(d))throw TypeError("Expecting valid order from block: "+b.type);var e=gi(b,c);if(!e)return"";c=rm(a,e);if(""===c)return"";if(!Array.isArray(c))throw TypeError("Expecting tuple from value block: "+e.type);b=c[0];c=c[1];if(isNaN(c))throw TypeError("Expecting valid order from value block: "+e.type);if(!b)return"";e=!1;var f=Math.floor(d),h=Math.floor(c);if(f<=h&&(f!=h||0!=f&&99!=f))for(e=!0,f=0;f<a.Sj.length;f++)if(a.Sj[f][0]==d&&a.Sj[f][1]==c){e=!1;break}e&&(b="("+b+")");
return b}function um(a,b){var c=W;a=gi(a,b);b=rm(c,a);if("string"!=typeof b)throw TypeError("Expecting code from statement block: "+(a&&a.type));b&&(b=tm(b,c.Jb));return b}function vm(a,b){var c=W;c.Lj&&(a=tm(sm(c.Lj,b),c.Jb)+a);c.sb&&!b.Ff&&(a=tm(sm(c.sb,b),c.Jb)+a);c.ac&&!b.Ff&&(a+=tm(sm(c.ac,b),c.Jb));return a}function sm(a,b){b=b.id.replace(/\$/g,"$$$$");return a.replace(/%1/g,"'"+b+"'")}g.Xl="";function wm(a){var b=W;b.Xl+=a+","}g.Pl="{leCUI8hutHZI4480Dc}";
function xm(a,b){var c=W;if(!c.Ug[a]){var d=Kj(c.Ea,a,"PROCEDURE");c.Vm[a]=d;b=b.join("\n").replace(c.Ks,d);for(var e;e!=b;)e=b,b=b.replace(/^(( {2})*) {2}/gm,"$1\x00");b=b.replace(/\0/g,c.Jb);c.Ug[a]=b}return c.Vm[a]}g.D=function(){this.Ug=Object.create(null);this.Vm=Object.create(null)};g.xl=function(a,b){return b};g.finish=function(a){delete this.Ug;delete this.Vm;return a};g.Hr=function(a){return a};var W=new Yh("JavaScript");wm("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(na).join(","));W.Pj=0;W.vv=1.1;W.Oe=1.2;W.qb=2;W.tv=3;W.ov=3;W.jv=4.1;W.xv=4.2;W.Lh=4.3;W.Rj=4.4;W.wv=4.5;W.yv=4.6;W.pv=4.7;W.gv=4.8;
W.qv=5;W.Ul=5.1;W.Jh=5.2;W.Kh=5.3;W.Vl=6.1;W.Kf=6.2;W.mv=7;W.Xs=8;W.rv=8;W.uv=8;W.wp=9;W.hv=10;W.nv=11;W.kv=12;W.Sl=13;W.Tl=14;W.Qj=15;W.Kg=16;W.zv=17;W.vp=18;W.Za=99;W.Sj=[[W.qb,W.Oe],[W.qb,W.qb],[W.Oe,W.Oe],[W.Oe,W.qb],[W.Rj,W.Rj],[W.Ul,W.Ul],[W.Kf,W.Kf],[W.Sl,W.Sl],[W.Tl,W.Tl]];W.Ok=!1;
W.D=function(a){Object.getPrototypeOf(this).D.call(this);this.Ea?this.Ea.reset():this.Ea=new Jj(this.Xl);this.Ea.To(a.Y);for(var b=this.Ea,c=bk(a),d=0;d<c.length;d++)b.Gb(c[d].T(),"VARIABLE");b=this.Ea;c=Lj(a);c=c[0].concat(c[1]);for(d=0;d<c.length;d++)b.Gb(c[d][0],"PROCEDURE");b=[];c=yf(a);d=Object.create(null);for(var e=0,f;f=c[e];e++){var h=f.Kv;!h&&f.Lt&&(h=f.Lt,ck[f.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+f.type+"')"),ck[f.type]=
!0));if(h)for(f=h(),h=0;h<f.length;h++)d[f[h]]=!0}d=Object.keys(d);for(c=0;c<d.length;c++)b.push(this.Ea.Gb(d[c],"DEVELOPER_VARIABLE"));a=bk(a);for(c=0;c<a.length;c++)b.push(this.Ea.Gb(a[c].T(),"VARIABLE"));b.length&&(this.Ug.variables="var "+b.join(", ")+";");this.Ok=!0};W.finish=function(a){var b=sd(this.Ug);a=Object.getPrototypeOf(this).finish.call(this,a);this.Ok=!1;this.Ea.reset();return b.join("\n\n")+"\n\n\n"+a};W.Hr=function(a){return a+";\n"};
W.zu=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};W.Rv=function(a){return a.split(/\n/g).map(this.zu).join(" + '\\n' +\n")};
W.xl=function(a,b){var c="";if(!a.v||!a.v.J){var d=a.mc.text;d&&(d=Ca(d,this.vs-3),c+=tm(d+"\n","// "));for(var e=0;e<a.B.length;e++)if(1==a.B[e].type){var f=a.B[e].connection.L();if(f){d=[];f=pb(f,!0);for(var h=0;h<f.length;h++){var k=f[h].mc.text;k&&d.push(k)}d.length&&d.push("");(d=d.join("\n"))&&(c+=tm(d,"// "))}}}a=a.F&&a.F.L();a=rm(this,a);return c+b+a};
W.Jv=function(a,b,c,d,e){c=c||0;e=e||this.Za;a.h.options.Pi&&c--;var f=a.h.options.Pi?"1":"0";a=0<c?X(this,a,b,this.Kf)||f:0>c?X(this,a,b,this.Vl)||f:d?X(this,a,b,this.Lh)||f:X(this,a,b,e)||f;if(uk(a))a=Number(a)+c,d&&(a=-a);else{if(0<c){a=a+" + "+c;var h=this.Kf}else 0>c&&(a=a+" - "+-c,h=this.Vl);d&&(a=c?"-("+a+")":"-"+a,h=this.Lh);h=Math.floor(h);e=Math.floor(e);h&&e>=h&&(a="("+a+")")}return a};var V={Yf:!1,Zp:null,qk:null,rk:null,vk:null,tk:null,Jr:function(a,b,c,d,e,f){function h(){if(V.Yf){n.style.visibility="visible";n.style.zIndex=10;p.style.visibility="hidden";var x=a.getElementsByClassName("primary");x.length||(x=a.getElementsByClassName("secondary"),x.length||(x=a.getElementsByTagName("button")));x.length&&x[0].focus()}}if(!a)throw TypeError("Content not found: "+a);for(var k=a.getElementsByClassName("addHideHandler"),m;m=k[0];)m.addEventListener("click",V.Kk,!0),m.addEventListener("touchend",
V.Kk,!0),m.classList.remove("addHideHandler");V.Yf&&V.Kk(!1);te&&Td(!0);V.Yf=!0;V.Zp=b;V.qk=f;var n=T("dialog");f=T("dialogShadow");var p=T("dialogBorder"),t;for(t in e)n.style[t]=e[t];d&&(f.style.visibility="visible",f.style.opacity=.3,f.style.zIndex=9,d=document.createElement("div"),d.id="dialogHeader",n.appendChild(d),V.rk=Eb(d,"mousedown",null,V.Ct));n.appendChild(a);a.classList.remove("dialogHiddenContent");try{b.blur()}catch(x){}c&&b?(V.mf(b,!1,.2),V.mf(n,!0,.8),setTimeout(h,175)):h()},$p:0,
aq:0,Ct:function(a){V.zm();if(!bb(a)){var b=T("dialog");V.$p=b.offsetLeft-a.clientX;V.aq=b.offsetTop-a.clientY;V.vk=Eb(document,"mouseup",null,V.zm);V.tk=Eb(document,"mousemove",null,V.Dt);a.stopPropagation()}},Dt:function(a){var b=T("dialog"),c=V.$p+a.clientX;a=V.aq+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-b.offsetHeight);c=Math.max(c,0);c=Math.min(c,window.innerWidth-b.offsetWidth);b.style.left=c+"px";b.style.top=a+"px"},zm:function(){V.vk&&(v(V.vk),V.vk=null);V.tk&&(v(V.tk),V.tk=
null)},Kk:function(a){function b(){d.style.zIndex=-1;d.style.visibility="hidden";T("dialogBorder").style.visibility="hidden"}a=void 0===a?!0:a;if(V.Yf){V.zm();V.rk&&(v(V.rk),V.rk=null);V.Yf=!1;V.qk&&V.qk();V.qk=null;var c=a?V.Zp:null;a=T("dialog");var d=T("dialogShadow");d.style.opacity=0;c&&a?(V.mf(a,!1,.8),V.mf(c,!0,.2),setTimeout(b,175)):b();a.style.visibility="hidden";a.style.zIndex=-1;for((c=T("dialogHeader"))&&c.parentNode.removeChild(c);a.firstChild;)c=a.firstChild,c.classList.add("dialogHiddenContent"),
document.body.appendChild(c)}},mf:function(a,b,c){function d(){e.style.width=f.width+"px";e.style.height=f.height+"px";e.style.left=f.x+"px";e.style.top=f.y+"px";e.style.opacity=c}if(a){var e=T("dialogBorder"),f=V.getBBox(a);b?(e.className="dialogAnimate",setTimeout(d,1)):(e.className="",d());e.style.visibility="visible"}},getBBox:function(a){var b=Ia(a);b={x:b.x,y:b.y};a.getBBox?(a=a.getBBox(),b.height=a.height,b.width=a.width):(b.height=a.offsetHeight,b.width=a.offsetWidth);return b},Qu:function(a,
b){var c=T("containerStorage");c.textContent="";b=l(b.split("\n"));for(var d=b.next();!d.done;d=b.next()){var e=document.createElement("p");e.appendChild(document.createTextNode(d.value));c.appendChild(e)}c=T("dialogStorage");V.Jr(c,a,!0,!0,{width:"50%",left:"25%",top:"5em"},V.Pu);V.Ku()},nt:function(){if(!Sl(Kl))if(V.Yf||dm.Ta())setTimeout(V.nt,15E3);else{var a=T("dialogAbort"),b=T("abortOk");b.addEventListener("click",im,!0);b.addEventListener("touchend",im,!0);V.Jr(a,null,!1,!0,{width:"40%",left:"30%",
top:"3em"},function(){document.body.removeEventListener("keydown",V.Dp,!0)});document.body.addEventListener("keydown",V.Dp,!0)}},ym:function(a){!V.Yf||13!==a.keyCode&&27!==a.keyCode&&32!==a.keyCode||(V.Kk(!0),a.stopPropagation(),a.preventDefault())},Ku:function(){document.body.addEventListener("keydown",V.ym,!0)},Pu:function(){document.body.removeEventListener("keydown",V.ym,!0)},Dp:function(a){V.ym(a);13!==a.keyCode&&32!==a.keyCode||im()}};window.BlocklyDialogs=V;function ym(){setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="third-party/JS-Interpreter/compressed.js";document.head.appendChild(a)},1)}function zm(){setTimeout(function(){var a=document.createElement("link");a.rel="stylesheet";a.type="text/css";a.href="common/prettify.css";document.head.appendChild(a);a=document.createElement("script");a.type="text/javascript";a.src="common/prettify.js";document.head.appendChild(a)},1)};function Am(a,b,c){Am.j.constructor.call(this,a?a.h.id:void 0);this.ga=a?a.id:null;this.ih=b;this.im=c}I(Am,td);Am.prototype.type="bubble_open";Am.prototype.R=function(){var a=Am.j.R.call(this);a.isOpen=this.ih;a.bubbleType=this.im;a.blockId=this.ga;return a};Am.prototype.N=function(a){Am.j.N.call(this,a);this.ih=a.isOpen;this.im=a.bubbleType;this.ga=a.blockId};A(uc,"bubble_open",Am);function Pk(a){this.A=a;this.Tb=null}g=Pk.prototype;g.Rp=!0;g.Uj=17;g.La=null;g.Wf=null;function Ii(a){a.Tb||(a.Tb=w(Tb,{"class":"blocklyIconGroup"},null),a.A.Da&&y(a.Tb,"blocklyIconGroupReadonly"),a.Gm(a.Tb),a.A.U().appendChild(a.Tb),u(a.Tb,"mouseup",a,a.pn),a.Le())}g.m=function(){z(this.Tb);this.Tb=null;this.ma(!1);this.A=null};g.Le=function(){};g.isVisible=function(){return!!this.La};g.pn=function(a){this.A.h.Ta()||this.A.Da||bb(a)||this.ma(!this.isVisible())};
g.Ia=function(){this.isVisible()&&this.La.hb(this.A.style.Ud)};function Hg(a,b){a.Wf=b;a.isVisible()&&(a=a.La,a.Pa=b,a.Ho&&Qg(a))}function Li(a){var b=a.A.ea(),c=Ya(a.Tb);b=new r(b.x+c.x+a.Uj/2,b.y+c.y+a.Uj/2);ua(a.Wf,b)||Hg(a,b)};function Ni(a){Ni.j.constructor.call(this,a);Ii(this);this.He=Object.create(null)}I(Ni,Pk);g=Ni.prototype;g.Rp=!1;g.Gm=function(a){w(Wb,{"class":"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},a);w(Wb,{"class":"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},a);w(Zb,{"class":"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},a)};g.ma=function(a){a!=this.isVisible()&&(D(new (F("bubble_open"))(this.A,a,"warning")),a?this.nk():this.xk())};
g.nk=function(){this.kg=ah(this.Rb());this.La=bh(this.kg,this.A,this.Wf);this.Ia()};g.xk=function(){this.La.m();this.kg=this.La=null};function Oi(a,b,c){a.He[c]!=b&&(b?a.He[c]=b:delete a.He[c],a.isVisible()&&(a.ma(!1),a.ma(!0)))}g.Rb=function(){var a=[],b;for(b in this.He)a.push(this.He[b]);return a.join("\n")};g.m=function(){this.A.Cc=null;Pk.prototype.m.call(this)};function dd(a){dd.j.constructor.call(this,a);this.yb=a.mc;this.yb.text=this.yb.text||"";this.lm="";this.fl=this.bl=this.ml=this.qf=null;Ii(this)}I(dd,Pk);g=dd.prototype;
g.Gm=function(a){w(Kb,{"class":"blocklyIconShape",r:"8",cx:"8",cy:"8"},a);w(Wb,{"class":"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},a);w(Zb,{"class":"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},a)};
g.tm=function(){this.pi=w(Sb,{x:Rg,y:Rg},null);var a=document.createElementNS("http://www.w3.org/1999/xhtml","body");a.setAttribute("xmlns","http://www.w3.org/1999/xhtml");a.className="blocklyMinimalBody";var b=this.rg=document.createElementNS("http://www.w3.org/1999/xhtml","textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.A.s?"RTL":"LTR");b.value=this.yb.text;Bm(this);a.appendChild(b);this.pi.appendChild(a);this.qf=u(b,"mouseup",this,this.Mu,!0,!0);this.ml=u(b,"wheel",this,
function(c){c.stopPropagation()});this.bl=u(b,"change",this,function(){this.lm!=this.yb.text&&D(new (F("change"))(this.A,"comment",null,this.lm,this.yb.text))});this.fl=u(b,"input",this,function(){this.yb.text=b.value});setTimeout(b.focus.bind(b),0);return this.pi};g.Le=function(){dd.j.Le.call(this);this.isVisible()&&(this.xk(),this.nk())};g.lu=function(){this.isVisible()&&(this.yb.size=this.La.Xm(),Bm(this))};
function Bm(a){var b=a.yb.size,c=2*Rg,d=b.width-c;b=b.height-c;a.pi.setAttribute("width",d);a.pi.setAttribute("height",b);a.rg.style.width=d-4+"px";a.rg.style.height=b-4+"px"}g.ma=function(a){a!=this.isVisible()&&(D(new (F("bubble_open"))(this.A,a,"comment")),(this.yb.zo=a)?this.nk():this.xk())};
g.nk=function(){!this.A.Ub()||Ja?(this.kg=ah(this.A.mc.text),this.La=bh(this.kg,this.A,this.Wf)):(this.La=new Og(this.A.h,this.tm(),this.A.ya.Ga,this.Wf,this.yb.size.width,this.yb.size.height),Xg(this.La,this.A.id),this.La.Io=this.lu.bind(this));this.Ia()};g.xk=function(){this.qf&&(v(this.qf),this.qf=null);this.ml&&(v(this.ml),this.ml=null);this.bl&&(v(this.bl),this.bl=null);this.fl&&(v(this.fl),this.fl=null);this.La.m();this.kg=this.pi=this.rg=this.La=null};
g.Mu=function(){Yg(this.La)&&this.rg.focus();this.lm=this.yb.text};g.Xm=function(){return this.yb.size};g.cj=function(a,b){this.La?this.La.cj(a,b):(this.yb.size.width=a,this.yb.size.height=b)};g.m=function(){this.A.Vh=null;Pk.prototype.m.call(this)};Gb(".blocklyCommentTextarea {,background-color: #fef49c;,border: 0;,outline: 0;,margin: 0;,padding: 3px;,resize: none;,display: block;,text-overflow: hidden;,}".split(","));function Cm(){}Cm.prototype.Yn=function(){};Cm.prototype.Zn=function(){};Cm.prototype.cl=function(){};Cm.prototype.dl=function(){};function Dm(){Dm.j.constructor.call(this);this.zg=!1}I(Dm,Cm);Dm.prototype.gp=function(a,b){a instanceof R?(a=!a.getParent()&&a.Pc(),this.zj(a&&!b)):this.zj(a.Pc());return this.zg};Dm.prototype.zj=function(a){this.zg=a};function Em(a,b,c){Em.j.constructor.call(this,c);this.cr=a;this.Xq=b}I(Em,td);Em.prototype.type="toolbox_item_select";Em.prototype.R=function(){var a=Em.j.R.call(this);a.oldItem=this.cr;a.newItem=this.Xq;return a};Em.prototype.N=function(a){Em.j.N.call(this,a);this.cr=a.oldItem;this.Xq=a.newItem};A(uc,"toolbox_item_select",Em);function Fm(a,b,c){this.ke=a.toolboxitemid||"blockly-"+(ki++).toString(36);this.Dn=(this.ve=c||null)?this.ve.Dn+1:0;this.Wr=a;this.uo=b;this.g=this.uo.g}g=Fm.prototype;g.D=function(){};g.an=function(){return null};g.T=function(){return this.ke};g.getParent=function(){return null};g.qe=function(){return!1};g.m=function(){};function Gm(a,b,c){Gm.j.constructor.call(this,a,b,c);this.ue=fb(a.name);this.tb=Hm(this,a.colour);this.zn=this.qn=this.aj=this.Uc=this.fc=null;this.bd={container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"};rd(this.bd,a.cssconfig||a.cssConfig);this.$t=this.Gq=!1;this.Wg=
[];b=a.contents;if(a.custom)this.Wg=a.custom;else if(b)for(a=0;c=b[a];a++)this.Wg.push(c)}I(Gm,Fm);g=Gm.prototype;g.D=function(){this.Vd();"true"==this.Wr.hidden&&this.xb()};
g.Vd=function(){this.fc=this.sm();this.fc.setAttribute("role","treeitem");nf(this.fc,"selected",!1);nf(this.fc,"level",this.Dn);var a=document.createElement("div");y(a,this.bd.row);var b=19*this.Dn;b=b.toString()+"px";this.g.s?a.style.paddingRight=b:a.style.paddingLeft=b;this.Uc=a;this.Uc.style.pointerEvents="auto";this.fc.appendChild(this.Uc);a=document.createElement("div");y(a,this.bd.rowcontentcontainer);this.aj=a;this.aj.style.pointerEvents="none";this.Uc.appendChild(this.aj);a=document.createElement("span");
y(a,this.bd.icon);a.style.display="inline-block";this.qn=a;this.qn.setAttribute("role","presentation");this.aj.appendChild(this.qn);a=this.ue;b=document.createElement("span");b.setAttribute("id",this.T()+".label");b.textContent=a;y(b,this.bd.label);this.zn=b;this.aj.appendChild(this.zn);nf(this.fc,"labelledby",this.zn.getAttribute("id"));Im(this,this.tb);return this.fc};g.sm=function(){var a=document.createElement("div");y(a,this.bd.container);return a};
g.qh=function(){this.tb=Hm(this,this.Wr.colour);Im(this,this.tb)};function Im(a,b){b&&(b="8px solid "+(b||"#ddd"),a.g.s?a.Uc.style.borderRight=b:a.Uc.style.borderLeft=b)}g.Jt=function(){return this.Uc};function Hm(a,b){b=fb(b);if(null==b||""===b)return"";var c=Number(b);if(isNaN(c)){if(c=oa(b))return c;console.warn('Toolbox category "'+a.ue+'" has unrecognized colour attribute: '+b);return""}return sa(c)}function Jm(a,b){a.fc.style.display=b?"block":"none";a.Gq=!b;a.uo.gb==a&&Km(a.uo,null)}
g.xb=function(){Jm(this,!1)};g.show=function(){Jm(this,!0)};g.isVisible=function(){var a;if(a=!this.Gq)a:{for(a=this;a.getParent();)if(a=a.getParent(),!a.Lv()){a=!1;break a}a=!0}return a};g.qe=function(){return this.isVisible()&&!this.$t};function Lm(a,b){if(b){var c=Hm(a,"#57e");a.Uc.style.backgroundColor=a.tb||c;y(a.Uc,a.bd.selected)}else a.Uc.style.backgroundColor="",fc(a.Uc,a.bd.selected);nf(a.fc,"selected",b)}g.Gb=function(){return this.ue};g.getParent=function(){return this.ve};g.an=function(){return this.fc};
g.m=function(){z(this.fc)};
Gb([".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: rgba(255, 255, 255, 0.2);","}",'.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {',"margin: 1px 5px 1px 0;","}",'.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {',"margin: 1px 0 1px 5px;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","padding-right: 0px",
"}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","visibility: hidden;","width: 16px;","}",".blocklyTreeIconClosed {","background-position: -32px -1px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {',"background-position: 0 -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosed {","background-position: -32px -17px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {',"background-position: 0 -17px;",
"}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeLabel {","cursor: default;","font: 16px sans-serif;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}"]);A(zc,"category",Gm);function Mm(a,b){Mm.j.constructor.call(this,a,b);this.bd={container:"blocklyTreeSeparator"};rd(this.bd,a.cssconfig||a.cssConfig)}I(Mm,Fm);Mm.prototype.D=function(){this.Vd()};Mm.prototype.Vd=function(){var a=document.createElement("div");y(a,this.bd.container);return this.fc=a};Mm.prototype.an=function(){return this.fc};Mm.prototype.m=function(){z(this.fc)};Gb('.blocklyTreeSeparator {,border-bottom: solid #e5e5e5 1px;,height: 0;,margin: 5px 0;,},.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {,border-right: solid #e5e5e5 1px;,border-bottom: none;,height: auto;,margin: 0 5px 0 5px;,padding: 5px 0;,width: 0;,}'.split(","));
A(zc,"sep",Mm);function Nm(a){Nm.j.constructor.call(this);this.g=a;this.id="toolbox";this.Vr=a.options.Fd||{contents:[]};this.Ye=this.jc=null;this.wc=!1;this.ua=[];this.vb=this.pa=0;this.s=a.options.s;this.K=null;this.rm=Object.create(null);this.Xa=a.options.Xa;this.gb=null;this.Qh=[]}I(Nm,Dm);g=Nm.prototype;
g.D=function(){var a=this.g,b=J(a),c=this.g,d=new Ve({parentWorkspace:c,rtl:c.s,oneBasedIndex:c.options.Pi,renderer:c.options.Xi,rendererOverrides:c.options.Yi,move:{scrollbars:!0}});d.Xa=c.options.Xa;this.K=new (Ec(Ac,c.options,!0))(d);this.jc=this.Vd(this.g);hc(this.K.va("svg"),b);this.ma(!0);this.K.D(a);this.P(this.Vr);a=a.Wa;a.subscribe(this.jc,"toolboxBackgroundColour","background-color");a.subscribe(this.jc,"toolboxForegroundColour","color");gd(this.g.nc,{component:this,weight:1,sd:[od,jd,nd]})};
g.Vd=function(a){var b=J(a);a=this.sm();var c=document.createElement("div");y(c,"blocklyToolboxContents");this.Ye=c;this.Ye.tabIndex=0;this.Ye.setAttribute("role","tree");a.appendChild(this.Ye);b.parentNode.insertBefore(a,b);b=this.Ye;c=u(a,"click",this,this.mu,!1,!0);this.Qh.push(c);b=u(b,"keydown",this,this.pu,!1,!0);this.Qh.push(b);return a};
g.sm=function(){var a=document.createElement("div");a.setAttribute("layout","v");y(a,"blocklyToolboxDiv");y(a,"blocklyNonSelectable");a.setAttribute("dir",this.s?"RTL":"LTR");return a};g.mu=function(a){if(bb(a)||a.target==this.jc)Td(!1);else{if(a=a.target.getAttribute("id"))a=this.rm[a]||null,a.qe()&&Km(this,a);Td(!0)}tb=null};
g.pu=function(a){var b=!1;switch(a.keyCode){case 40:a:{if(this.gb&&(b=this.ua.indexOf(this.gb)+1,-1<b&&b<this.ua.length)){for(var c=this.ua[b];c&&!c.qe();)c=this.ua[++b];if(c&&c.qe()){Km(this,c);b=!0;break a}}b=!1}break;case 38:a:{if(this.gb&&(b=this.ua.indexOf(this.gb)-1,-1<b&&b<this.ua.length)){for(c=this.ua[b];c&&!c.qe();)c=this.ua[--b];if(c&&c.qe()){Km(this,c);b=!0;break a}}b=!1}break;case 37:this.gb?this.gb.getParent()&&this.gb.getParent().qe()?(Km(this,this.gb.getParent()),b=!0):b=!1:b=!1;break;
case 39:b=!1;break;case 13:case 32:break;default:b=!1}!b&&this.gb&&this.gb.co&&(b=this.gb.co(a));b&&a.preventDefault()};
g.P=function(a){this.Vr=a;for(var b=0;b<this.ua.length;b++){var c=this.ua[b];c&&c.m()}this.ua=[];this.rm=Object.create(null);a=a.contents;b=document.createDocumentFragment();c=0;for(var d;d=a[c];c++){var e=d;d=b;var f=Dc(zc,e.kind.toLowerCase());f&&(f=e=new f(e,this),this.ua.push(f),this.rm[f.T()]=f,e.D(),(f=e.an())&&d.appendChild(f),e.Jt&&e.Uc.setAttribute("id",e.T()))}this.Ye.appendChild(b);this.position();a=this.g;b=this.jc.getBoundingClientRect();a.translate(2==this.Xa?a.scrollX+b.width:a.scrollX,
a.scrollY);Cj(a)};g.Zm=function(){if(!this.jc||!this.wc)return null;var a=this.jc.getBoundingClientRect(),b=a.left;a=b+a.width;return 2==this.Xa?new ya(-1E7,1E7,-1E7,a):new ya(-1E7,1E7,b,1E7)};g.gp=function(a){a instanceof R?this.zj(!a.getParent()&&a.Pc()):this.zj(a.Pc());return this.zg};g.Yn=function(){Om(this,!0)};g.cl=function(){Om(this,!1)};g.dl=function(){Om(this,!1)};g.zj=function(a){a!==this.zg&&(Om(this,!1),this.zg=a,Om(this,!0))};
function Om(a,b){var c=a.zg?"blocklyToolboxDelete":"blocklyToolboxGrab";b?y(a.jc,c):fc(a.jc,c)}g.ie=function(){return this.pa};g.tc=function(){return this.K};g.position=function(){var a=this.g.Qb(),b=this.jc;b&&(3==this.Xa?b.style.right="0":b.style.left="0",b.style.height="100%",this.pa=b.offsetWidth,this.vb=a.jb,this.K.position())};g.qh=function(){for(var a=0;a<this.ua.length;a++){var b=this.ua[a];b.qh&&b.qh()}};g.ma=function(a){this.wc!==a&&(this.jc.style.display=a?"block":"none",this.wc=a,qj(this.g))};
g.Gp=function(a){!a&&this.K&&this.K.Qe&&Km(this,null)};function Km(a,b){var c=a.gb;if((b||c)&&(!b||b.qe())){null!=c&&null!=c&&(a.gb=null,Lm(c,!1),nf(a.Ye,"activedescendant",""));null!=b&&b!=c&&null!=b&&(a.gb=b,Lm(b,!0),nf(a.Ye,"activedescendant",b.T()));c!=b&&b&&b.Wg.length?(a.K.show(b.Wg),a.K.Mo()):a.K.xb();var d=c&&c.Gb(),e=b&&b.Gb();c==b&&(e=null);a=new (F("toolbox_item_select"))(d,e,a.g.id);D(a)}}
g.m=function(){hd(this.g.nc,"toolbox");this.K.m();for(var a=0;a<this.ua.length;a++)this.ua[a].m();for(a=0;a<this.Qh.length;a++)v(this.Qh[a]);this.Qh=[];this.ua=[];this.g.Wa.unsubscribe(this.jc);z(this.jc)};
Gb([".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","padding: 4px 0 4px 0;","position: absolute;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyToolboxContents {","display: flex;","flex-wrap: wrap;","flex-direction: column;",
"}",".blocklyToolboxContents:focus {","outline: none;","}"]);A(xc,"default",Nm);function Pm(a,b){Pm.j.constructor.call(this,b);this.ih=a}I(Pm,td);Pm.prototype.type="trashcan_open";Pm.prototype.R=function(){var a=Pm.j.R.call(this);a.isOpen=this.ih;return a};Pm.prototype.N=function(a){Pm.j.N.call(this,a);this.ih=a.isOpen};A(uc,"trashcan_open",Pm);function Dj(a){Dj.j.constructor.call(this);this.g=a;this.id="trashcan";this.ua=[];this.Mc=null;0>=this.g.options.Xk||(a=new Ve({scrollbars:!0,parentWorkspace:this.g,rtl:this.g.s,oneBasedIndex:this.g.options.Pi,renderer:this.g.options.Xi,rendererOverrides:this.g.options.Yi,move:{scrollbars:!0}}),a.Xa=3==this.g.Xa?2:3,this.Mc=new (Ec(Ac,this.g.options,!0))(a),Lf(this.g,this.nu.bind(this)))}I(Dj,Dm);g=Dj.prototype;g.Rd=47;g.Fj=44;g.Gg=16;g.Gh=20;g.Ql=20;g.Oj=10;g.Yl=0;g.Zl=32;g.Os=.1;g.Pk=!1;g.On=0;
g.u=null;g.Fl=null;g.En=0;g.kf=0;g.re=0;g.Ie=0;g.Bi=!1;
g.va=function(){this.u=w(Tb,{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var b=w(Lb,{id:"blocklyTrashBodyClipPath"+a},this.u);w(Zb,{width:this.Rd,height:this.Fj,y:this.Gg},b);var c=w(Ub,{width:96,x:-this.Yl,height:124,y:-this.Zl,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.u);c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.uf+"sprites.png");b=w(Lb,{id:"blocklyTrashLidClipPath"+a},this.u);w(Zb,{width:this.Rd,height:this.Gg},b);this.Fl=
w(Ub,{width:96,x:-this.Yl,height:124,y:-this.Zl,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.u);this.Fl.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.uf+"sprites.png");Eb(this.u,"mousedown",this,this.rt);Eb(this.u,"mouseup",this,this.click);Eb(c,"mouseover",this,this.gu);Eb(c,"mouseout",this,this.du);this.bm();return this.u};
g.D=function(){0<this.g.options.Xk&&(hc(this.Mc.va($b),J(this.g)),this.Mc.D(this.g));gd(this.g.nc,{component:this,weight:1,sd:[od,jd,nd,md]});this.Bi=!0;this.uh(!1)};g.m=function(){hd(this.g.nc,"trashcan");this.u&&(z(this.u),this.u=null);this.g=this.Fl=null;clearTimeout(this.En)};g.Gp=function(a){!a&&this.Mc&&this.Mc&&this.Mc.isVisible()&&(this.Mc.xb(),Qm(this,!1))};
g.position=function(a,b){if(this.Bi){var c=$d(a);a=ae(Zd(c,new Fa(this.Rd,this.Fj+this.Gg),this.Ql,this.Gh,a,this.g),this.Gh,0===c.vertical?1:0,b);this.Ie=a.top;this.re=a.left;this.u.setAttribute("transform","translate("+this.re+","+this.Ie+")")}};g.Xg=function(){return new ya(this.Ie,this.Ie+this.Fj+this.Gg,this.re,this.re+this.Rd)};
g.Zm=function(){if(!this.u)return null;var a=this.u.getBoundingClientRect(),b=a.top+this.Zl-this.Oj;a=a.left+this.Yl-this.Oj;return new ya(b,b+this.Gg+this.Fj+2*this.Oj,a,a+this.Rd+2*this.Oj)};g.Zn=function(){this.uh(this.zg)};g.cl=function(){this.uh(!1)};g.dl=function(){setTimeout(this.uh.bind(this,!1),100)};g.uh=function(a){this.Pk!=a&&(clearTimeout(this.En),this.Pk=a,this.bm())};
g.bm=function(){this.kf+=this.Pk?.2:-.2;this.kf=Math.min(Math.max(this.kf,this.On),1);Rm(this,45*this.kf);this.u.style.opacity=.4+.4*this.kf;this.kf>this.On&&1>this.kf&&(this.En=setTimeout(this.bm.bind(this),20))};function Rm(a,b){var c=3==a.g.Xa;a.Fl.setAttribute("transform","rotate("+(c?-b:b)+","+(c?4:a.Rd-4)+","+(a.Gg-2)+")")}g.click=function(){if(this.ua.length&&(!this.Mc||!this.Mc.isVisible())){var a=this.ua.map(Tc);this.Mc.show(a);Qm(this,!0)}};
function Qm(a,b){a=new (F("trashcan_open"))(b,a.g.id);D(a)}g.rt=function(a){this.Mc&&this.Mc.isVisible()||!this.ua.length||a.stopPropagation()};g.gu=function(){this.ua.length&&this.uh(!0)};g.du=function(){this.uh(!1)};
g.nu=function(a){if(!(0>=this.g.options.Xk)&&"delete"==a.type&&a.nh.tagName&&"shadow"!=a.nh.tagName.toLowerCase()){for(var b=a=a.nh.cloneNode(!0);b;){b.removeAttribute&&(b.removeAttribute("x"),b.removeAttribute("y"),b.removeAttribute("id"),b.removeAttribute("disabled"),"comment"==b.nodeName&&(b.removeAttribute("h"),b.removeAttribute("w"),b.removeAttribute("pinned")));var c=b.firstChild||b.nextSibling;if(!c)for(c=b.parentNode;c;){if(c.nextSibling){c=c.nextSibling;break}c=c.parentNode}b=c}a=Sc(a);if(-1==
this.ua.indexOf(a)){for(this.ua.unshift(a);this.ua.length>this.g.options.Xk;)this.ua.pop();this.On=a=this.Os;this.Pk||Rm(this,45*a)}}};function Sm(a){Sm.j.constructor.call(this);a.dj=this.Gu.bind(this);var b=this.g=new gj(a),c=new $i(this.g,this);b.Yb=c;b.Qb=b.Yb.Qb.bind(b.Yb);this.g.jd=!0;this.g.ma(this.wc);this.id=ib();this.s=!!a.s;this.Gf=a.Xa;this.Pm=[];this.Vk=[];this.Rh=[];this.cb=[];this.xo=[];this.zh=this.g.za.G().Wj;this.W=null}I(Sm,Dm);g=Sm.prototype;g.Qe=!0;g.wc=!1;g.Of=!0;g.ta=8;g.Hg=Sm.prototype.ta;g.Ns=3*Sm.prototype.Hg;g.bt=2.5;g.pa=0;g.vb=0;g.Et=70;
g.va=function(a){this.u=w(a,{"class":"blocklyFlyout",style:"display: none"},null);this.Bb=w(Wb,{"class":"blocklyFlyoutBackground"},this.u);this.u.appendChild(this.g.va());this.g.Wa.subscribe(this.Bb,"flyoutBackgroundColour","fill");this.g.Wa.subscribe(this.Bb,"flyoutOpacity","fill-opacity");return this.u};
g.D=function(a){this.W=a;this.g.W=a;this.g.la=new wd(this.g,!1,!0,"blocklyFlyoutScrollbar",this.bt);this.xb();Array.prototype.push.apply(this.Pm,u(this.u,"wheel",this,this.dv));this.Qe||(this.Ck=this.Qm.bind(this),Lf(this.W,this.Ck));Array.prototype.push.apply(this.Pm,u(this.Bb,"mousedown",this,this.pf));this.g.ce=this.W.ce.bind(this.W);this.g.To(this.W.Y);var b=this.g;b.vf=new xf(b);gd(a.nc,{component:this,weight:1,sd:[jd,nd]})};
g.m=function(){this.xb();hd(this.g.nc,this.id);v(this.Pm);this.Ck&&(nb(this.W.cb,this.Ck),this.Ck=null);this.g&&(this.g.Wa.unsubscribe(this.Bb),this.g.W=null,this.g.m(),this.g=null);this.u&&(z(this.u),this.u=null);this.W=this.Bb=null};g.ie=function(){return this.pa};g.isVisible=function(){return this.wc};g.ma=function(a){var b=a!=this.isVisible();this.wc=a;b&&(this.Qe||qj(this.g),this.wj())};g.ng=function(a){var b=a!=this.Of;this.Of=a;b&&this.wj()};
g.wj=function(){var a=this.Of?this.isVisible():!1;this.u.style.display=a?"block":"none";this.g.la.ng(a)};g.xb=function(){if(this.isVisible()){this.ma(!1);for(var a=0,b;b=this.cb[a];a++)v(b);this.cb.length=0;this.wf&&(nb(this.g.cb,this.wf),this.wf=null)}};
g.show=function(a){this.g.Ib(!1);this.xb();Tm(this);"string"==typeof a&&(a=Um(this,a));this.ma(!0);a=Xd(a);a=Vm(this,a);Wm(this,a.xt,a.It);this.cb.push(u(this.Bb,"mouseover",this,function(){for(var b=this.g.Sa(!1),c=0,d;d=b[c];c++)d.Wi()}));this.pa=0;this.g.Ib(!0);this.Eo();this.Qm();this.position();this.wf=this.Eo.bind(this);Lf(this.g,this.wf)};
function Vm(a,b){var c=[],d=[];a.xo.length=0;for(var e=a.Ns,f=0,h;h=b[f];f++){if(h.custom){var k=Um(a,h.custom);k=Xd(k);b.splice.apply(b,[f,1].concat(k));h=b[f]}switch(h.kind.toUpperCase()){case "BLOCK":k=h;var m=k;h=null;var n=m.blockxml;n&&"string"!=typeof n?h=n:n&&"string"==typeof n?(h=Tc(n),m.blockxml=h):m.type&&(h=G("xml"),h.setAttribute("type",m.type),h.setAttribute("disabled",m.disabled),m.blockxml=h);if(!h)throw Error("Error: Invalid block definition. Block definition must have blockxml or type.");
m=h;h=a;n=Vc(m,h.g);n.isEnabled()||h.xo.push(n);h=n;k=parseInt(k.gap||m.getAttribute("gap"),10);d.push(isNaN(k)?e:k);c.push({type:"block",block:h});break;case "SEP":k=d;m=e;h=parseInt(h.gap,10);!isNaN(h)&&0<k.length?k[k.length-1]=h:k.push(m);break;case "LABEL":k=Xm(a,h,!0);c.push({type:"button",button:k});d.push(e);break;case "BUTTON":k=Xm(a,h,!1),c.push({type:"button",button:k}),d.push(e)}}return{xt:c,It:d}}
function Um(a,b){b=a.g.W.Zo[b]||null;if("function"!=typeof b)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=b(a.g.W);if(!Array.isArray(a))throw new TypeError("Result of toolbox category callback must be an array.");return a}function Xm(a,b,c){if(!nc)throw Error("Missing require for Blockly.FlyoutButton");return new nc(a.g,a.W,b,c)}
function Tm(a){for(var b=a.g.Sa(!1),c=0,d;d=b[c];c++)d.h==a.g&&d.m(!1,!1);for(c=0;c<a.Vk.length;c++)if(b=a.Vk[c])kf(b),z(b);for(c=a.Vk.length=0;b=a.Rh[c];c++)b.m();a.Rh.length=0;a.g.vf.clear()}function Ym(a,b){return function(c){var d=a.W.ce(c);d&&(sh(d,b),rh(d,c,a))}}g.pf=function(a){var b=this.W.ce(a);b&&rh(b,a,this)};
function nh(a,b){var c=null;B++;var d=a.W.Qf();a.W.Ib(!1);try{var e=a.W;if(!b.U())throw Error("oldBlock is not rendered.");var f=Qc(b,!0);e.Ib(!1);var h=Vc(f,e);if(!h.U())throw Error("block is not rendered.");var k=ab(e.qa),m=ab(a.g.qa),n=b.ea();n.scale(a.g.scale);var p=wa(xa(m,n),k);p.scale(1/e.scale);h.moveBy(p.x,p.y);c=h}finally{B--}Td();b=ad(a.W,d);if(0==B){E(!0);for(d=0;d<b.length;d++)e=b[d],D(new (F("var_create"))(e));D(new (F("create"))(c))}a.Qe?a.xb():a.Qm();return c}
g.Qm=function(){for(var a=this.g.Sa(!1),b=0,c;c=a[b];b++)if(-1==this.xo.indexOf(c))for(var d=If(this.W,ob(c));c;)c.Zb(d),c=qb(c)};
g.Eo=function(){this.wf&&nb(this.g.cb,this.wf);this.g.scale=this.W.scale;for(var a=0,b=this.g.Sa(!1),c=0,d;d=b[c];c++){var e=Gg(d).width;d.v&&(e-=this.zh);a=Math.max(a,e)}for(c=0;d=this.Rh[c];c++)a=Math.max(a,d.width);a+=1.5*this.Hg+this.zh;a*=this.g.scale;a+=yd;if(this.pa!=a){for(c=0;d=b[c];c++){if(this.s){e=d.ea().x;var f=a/this.g.scale-this.Hg;d.v||(f-=this.zh);d.moveBy(f-e,0)}d.lq&&(e=d.lq,f=d,d=Gg(f),e.setAttribute("width",d.width),e.setAttribute("height",d.height),f=f.ea(),e.setAttribute("y",
f.y),e.setAttribute("x",this.s?f.x-d.width:f.x))}if(this.s)for(c=0;d=this.Rh[c];c++)d.moveTo(a/this.g.scale-d.width-this.Hg-this.zh,d.lg.y);this.W.Xa!=this.Gf||2!=this.Gf||this.W.Aa||this.W.translate(this.W.scrollX+a,this.W.scrollY);this.pa=a;this.position();qj(this.W)}this.wf&&Lf(this.g,this.wf)};function lh(a){return a.g.la?a.g.la.isVisible():!1};function Zm(a){Zm.j.constructor.call(this,a)}I(Zm,Sm);g=Zm.prototype;g.Gu=function(a){if(this.isVisible()){var b=this.g.Yb,c=b.bf(),d=$g(b);b=Yi(b);"number"==typeof a.y&&(this.g.scrollY=-(c.top+(c.height-d.height)*a.y));this.g.translate(this.g.scrollX+b.left,this.g.scrollY+b.top)}};
g.position=function(){if(this.isVisible()&&this.W.isVisible()){var a=$g(this.W.Yb);this.vb=a.height;var b=this.pa-this.ta;a=a.height-2*this.ta;var c=3==this.Gf,d=b+this.ta;d=["M "+(c?d:0)+",0"];d.push("h",c?-b:b);d.push("a",this.ta,this.ta,0,0,c?0:1,c?-this.ta:this.ta,this.ta);d.push("v",Math.max(0,a));d.push("a",this.ta,this.ta,0,0,c?0:1,c?this.ta:-this.ta,this.ta);d.push("h",c?b:-b);d.push("z");this.Bb.setAttribute("d",d.join(" "));this.isVisible()?(c=this.W.Yb,b=Yi(c),a=$g(c),c=Xi(c),c=this.W.Xa==
this.Gf?this.W.Aa?2==this.Gf?c.width:a.width-this.pa:2==this.Gf?0:a.width:2==this.Gf?0:a.width+b.left-this.pa):c=0;b=this.pa;a=this.vb;this.u.setAttribute("width",b);this.u.setAttribute("height",a);tj(this.g,b,a);"svg"==this.u.tagName?ic(this.u,"translate("+c+"px,0px)"):this.u.setAttribute("transform","translate("+c+",0)");if(b=this.g.la)b.zl(c,0),b.resize(),b.sa&&b.sa.setPosition(b.sa.position.x,b.sa.position.y),b.na&&b.na.setPosition(b.na.position.x,b.na.position.y)}};
g.Mo=function(){var a=this.g.la;a.na&&a.na.set(0,!0)};g.dv=function(a){var b=db(a);if(b.y){var c=this.g.Yb,d=c.bf();b=$g(c).top-d.top+b.y;c=this.g.la;c.na&&c.na.set(b,!0);Fh();ye()}a.preventDefault();a.stopPropagation()};
function Wm(a,b,c){a.g.scale=a.W.scale;for(var d=a.Hg,e=a.s?d:d+a.zh,f=0,h;h=b[f];f++)if("block"==h.type){h=h.block;for(var k=pb(h,!1),m=0,n;n=k[m];m++)n.Da=!0;h.P();n=h.U();k=Gg(h);m=h.v?e-a.zh:e;h.moveBy(m,d);var p=a,t=h,x=f;m=w(Zb,{"fill-opacity":0,x:a.s?m-k.width:m,y:d,height:k.height,width:k.width},null);m.Yc=t;ff(m);p.g.qa.insertBefore(m,t.U());t.lq=m;p.Vk[x]=m;p=a;p.cb.push(u(n,"mousedown",null,Ym(p,h)));p.cb.push(u(m,"mousedown",null,Ym(p,h)));p.cb.push(Eb(n,"mouseenter",h,h.Yj));p.cb.push(Eb(n,
"mouseleave",h,h.Wi));p.cb.push(Eb(m,"mouseenter",h,h.Yj));p.cb.push(Eb(m,"mouseleave",h,h.Wi));d+=k.height+c[f]}else"button"==h.type&&(k=a,m=h.button,n=e,p=d,t=m.va(),m.moveTo(n,p),m.show(),k.cb.push(u(t,"mousedown",k,k.pf)),k.Rh.push(m),d+=h.button.height+c[f])}g.Zm=function(){if(!this.u||this.Qe||!this.isVisible())return null;var a=this.u.getBoundingClientRect(),b=a.left;return 2==this.Gf?new ya(-1E9,1E9,-1E9,b+a.width):new ya(-1E9,1E9,b,1E9)};A(Ac,"default",Zm);function $m(a,b,c){var d=Z;this.name=a;this.Mr=b;this.Ju=0;this.gq=c;this.Re=d;this.$=new r;this.wd=!1;this.An=this.xd=this.speed=this.facing=this.Yd=this.cd=0;this.reset();this.Kl=d.ob.length;d.ob.push(this);console.log(this+" loaded.")}$m.prototype.toString=function(){return"["+this.name+"]"};function an(a,b,c,d){a.Jp=b;a.Lq=c;a.vt=d}
$m.prototype.reset=function(){this.wd=!1;this.An=this.xd=this.speed=0;this.cd=this.Ju;this.$.x=this.Mr.x;this.$.y=this.Mr.y;this.facing=this.Yd=Wl(180*Math.atan2(50-this.$.y,50-this.$.x)/Math.PI);this.Eq=null};$m.prototype.rn=function(){this.Eq=new Interpreter(this.vt,this.Re.rn)};function bn(a,b){a.cd+=b;100<=a.cd&&cn(a)}function cn(a){a.speed=0;a.wd=!0;a.cd=100;a.Re.Tj.unshift(a);a.Re.Qd.push({type:"DIE",avatar:a});console.log(a+" sinks.")}$m.prototype.stop=function(){this.xd=0};var Z={ob:[],Tj:[],Qd:[],Ig:[],Ms:50,gt:100,$s:.5,Hc:null,qs:1,up:3,hp:5,us:5,Ll:3,vr:0,Bk:0,Tr:0,jt:3E5,Dm:null,reset:function(){clearTimeout(Z.vr);Z.Qd.length=0;Z.Ig.length=0;Z.Tj.length=0;Z.Tr=0;for(var a=l(Z.ob),b=a.next();!b.done;b=a.next())b.value.reset()},start:function(a){Z.Dm=a;Z.Bk=Date.now()+Z.jt;console.log("Starting battle with "+Z.ob.length+" avatars.");a=l(Z.ob);for(var b=a.next();!b.done;b=a.next()){b=b.value;try{b.rn()}catch(c){console.log(b+" fails to load: "+c),cn(b)}}Z.update()},
update:function(){Z.Zu();Z.$u();Z.Yu();Z.ob.length<=Z.Tj.length+1&&(Z.Bk=Math.min(Z.Bk,Date.now()+1E3));Date.now()>Z.Bk?Z.stop():Z.vr=setTimeout(Z.update,1E3/Z.Ms)},stop:function(){for(var a=[],b=l(Z.ob),c=b.next();!c.done;c=b.next())c=c.value,c.wd||a.push(c);b=a.length;for(a.sort(function(d,e){return d.cd-e.cd});a.length;)Z.Tj.unshift(a.pop());Z.Dm&&Z.Dm(b)},$u:function(){for(var a=Z.Ig.length-1;0<=a;a--){var b=Z.Ig[a];b.progress+=Z.up;var c=0;if(b.tl-b.progress<Z.up/2){Z.Ig.splice(a,1);for(var d=
l(Z.ob),e=d.next();!e.done;e=d.next())if(e=e.value,!e.wd){var f=10*(1-va(e.$,b.li)/4);0<f&&(bn(e,f),c=Math.max(c,f))}Z.Qd.push({type:"BOOM",damage:c,x:b.li.x,y:b.li.y})}}},Yu:function(){for(var a=l(Z.ob),b=a.next();!b.done;b=a.next())if(b=b.value,!b.wd&&(b.speed<b.xd?b.speed=Math.min(b.speed+Z.hp,b.xd):b.speed>b.xd&&(b.speed=Math.max(b.speed-Z.hp,b.xd)),0<b.speed)){var c=Z.Qp(b)[1],d=ee(b.Yd),e=b.speed/100*Z.qs,f=Math.cos(d)*e;d=Math.sin(d)*e;b.$.x+=f;b.$.y+=d;if(0>b.$.x||100<b.$.x||0>b.$.y||100<
b.$.y)b.$.x=fe(b.$.x,0,100),b.$.y=fe(b.$.y,0,100),c=b.speed/100*Z.Ll,bn(b,c),b.speed=0,b.xd=0,Z.Qd.push({type:"CRASH",avatar:b,damage:c});else{e=Z.Qp(b);var h=l(e);e=h.next().value;h=h.next().value;h<Z.us&&c>h&&(b.$.x-=f,b.$.y-=d,c=Math.max(b.speed,e.speed)/100*Z.Ll,bn(b,c),b.speed=0,b.xd=0,bn(e,c),e.speed=0,e.xd=0,Z.Qd.push({type:"CRASH",avatar:b,damage:c},{type:"CRASH",avatar:e,damage:c}))}}},Zu:function(){for(var a=0;a<Z.gt;a++){Z.Tr++;for(var b=l(Z.ob),c=b.next();!c.done;c=b.next())if(c=c.value,
!c.wd){Z.Hc=c;try{c.Eq.step()}catch(d){console.log(c+" throws an error: "+d),cn(c)}Z.Hc=null}}},rn:function(a,b){function c(h){a.setProperty(b,h,a.createNativeFunction(d,!1))}var d=function(h){console.log(Z.Hc.name+" logs: "+Number(h))};c("log");d=function(h,k){var m=h;h=Z.Hc;var n=void 0===k||null===k?5:k;if("number"!==typeof m||isNaN(m)||"number"!==typeof n||isNaN(n))throw TypeError();m=Wl(m);n=fe(n,0,20);h.Re.Qd.push({type:"SCAN",avatar:h,degree:m,resolution:n});k=Wl(m-n/2);m=Wl(m+n/2);k>m&&(m+=
360);n=h.$.x;for(var p=h.$.y,t=Infinity,x=l(h.Re.ob),C=x.next();!C.done;C=x.next()){var Y=C.value;if(Y!==h&&!Y.wd){C=Y.$.x;var Q=Y.$.y;Y=Math.sqrt((Q-p)*(Q-p)+(C-n)*(C-n));Y>=t||(C=Math.atan2(Q-p,C-n),C=Wl(180*C/Math.PI),C<k&&(C+=360),k<=C&&C<=m&&(t=Y))}}return t};c("scan");d=function(h,k){var m=k;k=Z.Hc;if("number"!==typeof h||isNaN(h)||"number"!==typeof m||isNaN(m))throw TypeError;var n=Date.now();k.An+1E3*k.Re.$s>n?h=!1:(k.An=n,n=new r(k.$.x,k.$.y),h=Wl(h),k.facing=h,m=fe(m,0,70),h={qt:k,mj:n,
Yd:h,tl:m,li:new r(n.x+m*Math.cos(ee(h)),n.y+m*Math.sin(ee(h))),progress:0},k.Re.Ig.push(h),k.Re.Qd.push({type:"BANG",avatar:k,degree:h.Yd}),h=!0);return h};c("cannon");d=function(h,k){var m=Z.Hc;k=void 0===k||null===k?50:k;if("number"!==typeof h||isNaN(h)||"number"!==typeof k||isNaN(k))throw TypeError;h=Wl(h);m.Yd!==h&&(50>=m.speed?(m.Yd=h,m.facing=m.Yd):k=0);0===m.speed&&0<k&&(m.speed=.1);m.xd=fe(k,0,100)};c("drive");c("swim");d=function(){Z.Hc.stop()};c("stop");d=function(){return Z.Hc.cd};c("damage");
d=function(){return 100-Z.Hc.cd};c("health");d=function(){return Z.Hc.speed};c("speed");d=function(){return Z.Hc.$.x};c("loc_x");c("getX");d=function(){return Z.Hc.$.y};c("loc_y");c("getY");var e=a.getProperty(b,"Math");if(e){var f=function(h){a.setProperty(e,h,a.createNativeFunction(d,!1))};d=function(h){return Math.sin(ee(h))};f("sin_deg");d=function(h){return Math.cos(ee(h))};f("cos_deg");d=function(h){return Math.tan(ee(h))};f("tan_deg");d=function(h){return 180*Math.asin(h)/Math.PI};f("asin_deg");
d=function(h){return 180*Math.acos(h)/Math.PI};f("acos_deg");d=function(h){return 180*Math.atan(h)/Math.PI};f("atan_deg")}},Qp:function(a){for(var b=null,c=Infinity,d=l(Z.ob),e=d.next();!e.done;e=d.next())if(e=e.value,!e.wd&&a!==e){var f=Math.min(c,va(a.$,e.$));f<c&&(c=f,b=e)}return[b,c]}};var dn,en,fn,gn=new Map,hn=[],jn=new Image;jn.src="pond/sprites.png";var kn=["#ff8b00","#c90015","#166c0b","#223068"],ln=0,mn=new Map;
function nn(){clearTimeout(ln);hn.length=0;var a=T("avatarStatRow1");a.innerHTML="";var b=T("avatarStatRow2");b.innerHTML="";for(var c=[],d=[],e=T("avatar-select"),f=0;f<Z.ob.length;f++){var h=Z.ob[f],k=Math.floor(f/2)%2?b:a,m=kn[h.Kl%kn.length],n=document.createElement("td");e&&(n.className="asButton",n.setAttribute("role","button"),n.addEventListener("click",function(t){return function(){e.selectedIndex=t;var x=document.createEvent("HTMLEvents");x.initEvent("change",!1,!0);e.dispatchEvent(x)}}(f)));
n.style.borderColor=m;var p=document.createElement("div");p.className="avatarStatHealth";p.style.background=m;h.cv=p;d[f]=p;n.appendChild(p);m=document.createElement("div");m.className="avatarStatName";m.appendChild(document.createTextNode(h.name));c[f]=m;n.appendChild(m);h=document.createElement("div");h.appendChild(document.createTextNode("\u00a0"));n.appendChild(h);Hl?k.insertBefore(n,k.firstChild):k.appendChild(n)}a=l(c);for(b=a.next();!b.done;b=a.next())b=b.value,b.style.width=b.parentNode.offsetWidth-
2+"px";d=l(d);for(b=d.next();!b.done;b=d.next())a=b.value,a.style.height=a.parentNode.offsetHeight-2+"px";on()}var pn=0,qn=0;function rn(){on();var a=Date.now(),b=Math.max(1,1E3/36-(a-pn-qn));ln=setTimeout(rn,b);pn=a;qn=b}function sn(a){return a/100*(fn-35)+17.5}
function on(){var a=dn;a.beginPath();a.rect(0,0,a.canvas.width,a.canvas.height);a.fillStyle="#527dbf";a.fill();for(var b=[],c=l(Z.ob),d=c.next();!d.done;d=c.next())d=d.value,d.wd?b.push(d):b.unshift(d);c=l(b);for(d=c.next();!d.done;d=c.next()){var e=d.value;a.save();a.translate(sn(e.$.x),sn(100-e.$.y));d=e.Kl%kn.length*35;e.wd&&(a.globalAlpha=.25);if(0<e.speed){a.save();var f=50<e.speed?0:25<e.speed?35:70;a.rotate(ee(-e.Yd));a.drawImage(jn,455,f,35,35,-45.5,-17.5,35,35);a.restore()}a.drawImage(jn,
0,d,35,35,-17.5,-17.5,35,35);f=ee(e.facing);a.translate(12*Math.cos(f),12*-Math.sin(f)-2);f=(14-Math.round(e.facing/360*12))%12+1;e=e.facing%30;15<=e&&(e-=30);e/=1.5;a.rotate(ee(-e));a.drawImage(jn,35*f,d,35,35,-15.5,-15.5,35,35);a.restore()}c=l(Z.Ig);for(d=c.next();!d.done;d=c.next()){d=d.value;a.save();var h=d.progress/d.tl;e=(d.li.y-d.mj.y)*-h;f=d.tl/2;var k=.15*d.tl;f=k-Math.pow((d.progress-f)/Math.sqrt(k)*k/f,2);h=sn(d.mj.x+(d.li.x-d.mj.x)*h);k=sn(100-d.mj.y+e-f);e=sn(100-d.mj.y+e);a.beginPath();
a.arc(h,e,5*Math.max(0,1-f/10),0,2*Math.PI,!0);a.closePath();a.fillStyle="rgba(128, 128, 128, "+Math.max(0,1-f/10)+")";a.fill();a.beginPath();a.arc(h,k,5,0,2*Math.PI,!0);a.closePath();a.fillStyle=kn[d.qt.Kl%kn.length];a.fill()}c=l(Z.Qd);for(d=c.next();!d.done;d=c.next())if(f=d.value,d=f.avatar,"CRASH"===f.type){if(e=gn.get(d.id),!e||e+1E3<Date.now())tn("whack",f.damage/Z.Ll),gn.set(d.id,Date.now())}else"SCAN"===f.type?(h=Math.max(f.resolution/2,.5),e=-ee(f.degree+h),f=-ee(f.degree-h),a.beginPath(),
h=sn(d.$.x),d=sn(100-d.$.y),a.moveTo(h,d),a.lineTo(h+200*Math.cos(e),d+200*Math.sin(e)),a.arc(h,d,200,e,f),a.lineTo(h,d),d=a.createRadialGradient(h,d,17.5,h,d,200),d.addColorStop(0,"rgba(255, 255, 255, 0.3)"),d.addColorStop(1,"rgba(255, 255, 255, 0)"),a.fillStyle=d,a.fill()):"BANG"!==f.type&&("BOOM"===f.type?(f.damage&&tn("boom",f.damage/10),hn.push({x:f.x,y:f.y,t:0})):"DIE"===f.type&&tn("splash",1));Z.Qd.length=0;for(c=hn.length-1;0<=c;c--)d=hn[c],e=sn(d.x),f=sn(100-d.y),a.beginPath(),a.arc(e,f,
d.t+1,0,2*Math.PI,!0),a.closePath(),a.lineWidth=5,a.strokeStyle="rgba(255, 255, 255, "+(1-d.t/10)+")",a.stroke(),d.t+=2,10<d.t&&hn.splice(c,1);en.drawImage(a.canvas,0,0);a=l(b);for(d=a.next();!d.done;d=a.next())b=d.value,c=b.cv,c.parentNode.title=b.name+": "+Math.round(100-b.cd)+"%",c.style.width=Math.max(0,c.parentNode.offsetWidth*(1-b.cd/100)-2)+"px"}
function un(a,b){if(window.Audio&&a.length){var c=new window.Audio;a=l(a);for(var d=a.next();!d.done;d=a.next()){d=d.value;var e=d.match(/\.(\w+)$/);if(e&&c.canPlayType("audio/"+e[1])){var f=new window.Audio(d);break}}f&&f.play&&mn.set(b,f)}}function tn(a,b){a=mn.get(a);a=Pa||Oa?a:a.cloneNode();a.volume=b;a.play()};function vn(){var a=U("Games.pond",!1);Rl(a);if(a=T("linkButton"))Il?a.style.display="none":(Xl=gm,Vl(a,Zl));(a=T("languageMenu"))&&a.addEventListener("change",jm,!0);dn=T("scratch").getContext("2d");en=a=T("display").getContext("2d");fn=a.canvas.width;a.globalCompositeOperation="copy";un(["pond/whack.mp3","pond/whack.ogg"],"whack");un(["pond/boom.mp3","pond/boom.ogg"],"boom");un(["pond/splash.mp3","pond/splash.ogg"],"splash");if(!Pa&&!Ra){a=l(mn.values());for(var b=a.next();!b.done;b=a.next()){b=
b.value;b.volume=.01;try{b.play()}catch(c){}b.pause()}}Vl("runButton",wn);Vl("resetButton",xn);Vl("docsButton",yn);Vl("closeDocs",zn);ym();zm()}var An=null,Bn=!1;function yn(){if(!Bn){var a=T("docsButton"),b=T("dialogDocs"),c=T("frameDocs"),d="pond/docs.html?lang="+Fl+"&mode="+Kl;c.src!==d&&(c.src=d);Bn=!0;V.mf(a,!1,.2);V.mf(b,!0,.8);setTimeout(function(){b.style.visibility="visible";T("dialogBorder").style.visibility="hidden"},175)}}
function zn(){if(Bn){var a=T("docsButton"),b=T("dialogDocs");Bn=!1;V.mf(b,!1,.8);V.mf(a,!0,.2);setTimeout(function(){T("dialogBorder").style.visibility="hidden"},175);b.style.visibility="hidden"}}function Cn(){var a=An;if(a){var b=gm(),c=fm?em.getValue():qm();if(fm){try{var d="object"===typeof Babel?Babel.transform(c,{presets:["es2015"]}).code:void 0;c=d||c}catch(e){alert(e)}an(a,void 0,b,c)}else an(a,b,void 0,c)}}
function wn(a){if(!km(a)){Cn();a=T("runButton");var b=T("resetButton");b.style.minWidth||(b.style.minWidth=a.offsetWidth+"px");a.style.display="none";b.style.display="inline";Dn()}}function xn(a){km(a)||(T("runButton").style.display="inline",T("resetButton").style.display="none",Z.reset(),nn())}function Dn(){"Interpreter"in window?(Z.reset(),nn(),Z.start(null),rn()):setTimeout(Dn,99)};function En(a,b,c){"function"!=typeof a&&(Fn(a),a=JSON.parse(JSON.stringify(a)));this.lh=a;this.Xo=this.Bo=this.Fk=null;a=this.lh;if(Array.isArray(a)){for(var d=!1,e=0;e<a.length;e++){var f=a[e][0];"string"==typeof f?a[e][0]=fb(f):(null!=f.alt&&(a[e][0].alt=fb(f.alt)),d=!0)}if(!(d||2>a.length)){f=[];for(e=0;e<a.length;e++)f.push(a[e][0]);var h=za(f);e=Aa(f,h);d=Ba(f,h);if((e||d)&&!(h<=e+d)){e&&(this.Bo=f[0].substring(0,e-1));d&&(this.Xo=f[0].substr(1-d));f=[];for(h=0;h<a.length;h++){var k=a[h][0],
m=a[h][1];k=k.substring(e,k.length-d);f[h]=[k,m]}this.lh=f}}}this.sh=kg(this,!1)[0];En.j.constructor.call(this,this.sh[1],b,c);this.yh=this.Mf=this.le=this.Xb=this.bj=null}I(En,Hh);En.N=function(a){return new En(a.options,void 0,a)};En.prototype.Dk=function(a){jg(this)&&kg(this,!1);Be(this,a.textContent)};En.prototype.Lf=!0;var Gn=Oa?"\u25bc":"\u25be";g=En.prototype;g.Ml="default";
g.hf=function(){this.Uo()?Jh(this):this.om=this.o.U();Kh(this);this.le=w(Ub,{},this.qc);this.G().Gs?(this.yh=w(Ub,{height:this.G().Fh+"px",width:this.G().Fh+"px"},this.qc),this.yh.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.G().Hs)):(this.Mf=w(bc,{},this.Va),this.Mf.appendChild(document.createTextNode(this.o.s?Gn+" ":" "+Gn)),this.o.s?this.Va.insertBefore(this.Mf,this.Ge):this.Va.appendChild(this.Mf));this.Ka&&y(this.Ka,"blocklyDropdownRect")};
g.Uo=function(){return!this.G().Nl||this.G().Nl&&!this.o.X};g.Nd=function(a){this.Mm();this.Xb.oo=a&&"number"===typeof a.clientX?new r(a.clientX,a.clientY):null;this.Xb.P(he);y(this.Xb.ub,"blocklyDropdownMenu");if(this.G().Fs){a=this.o.X?this.o.getParent().$m():this.o.$m();var b=this.o.X?this.o.getParent().style.td:this.o.style.td;ge.style.backgroundColor=a;ge.style.borderColor=b}re(this,this.Nm.bind(this));this.Xb.focus();this.bj&&this.Xb.Be(this.bj);this.Ia()};
g.Mm=function(){var a=new hi;a.fj("listbox");this.Xb=a;var b=kg(this,!1);this.bj=null;for(var c=0;c<b.length;c++){var d=b[c][0],e=b[c][1];if("object"==typeof d){var f=new Image(d.width,d.height);f.src=d.src;f.alt=d.alt||"";d=f}d=new li(d,e);d.fj("option");d.Ko=this.o.s;d.mm=!0;a.ld.push(d);d.nm=e==this.Ya;e==this.Ya&&(this.bj=d);mi(d,this.Ot,this)}};g.Nm=function(){this.Xb&&this.Xb.m();this.bj=this.Xb=null;this.Ia()};g.Ot=function(a){ke===this&&ye();this.lr(a)};g.lr=function(a){Be(this,a.mb())};
function jg(a){return"function"==typeof a.lh}function kg(a,b){return jg(a)?(a.Fk&&b||(a.Fk=a.lh.call(a),Fn(a.Fk)),a.Fk):a.lh}g.$e=function(a){for(var b=!1,c=kg(this,!0),d=0,e;e=c[d];d++)if(e[1]==a){b=!0;break}return b?a:(this.o&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.o.type+", Field name: "+this.name+", Value: "+a),null)};g.$d=function(a){En.j.$d.call(this,a);a=kg(this,!0);for(var b=0,c;c=a[b];b++)c[1]==this.Ya&&(this.sh=c)};
g.Ia=function(){this.Ka&&(this.Ka.setAttribute("stroke",this.o.style.td),this.Xb?this.Ka.setAttribute("fill",this.o.style.td):this.Ka.setAttribute("fill","transparent"));this.o&&this.Mf&&(this.Mf.style.fill=this.o.X?this.o.style.jk:this.o.style.Ud)};
g.zf=function(){this.Ge.nodeValue="";this.le.style.display="none";var a=this.sh&&this.sh[0];if(a&&"object"==typeof a){this.le.style.display="";this.le.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.src);this.le.setAttribute("height",a.height);this.le.setAttribute("width",a.width);var b=Number(a.height);a=Number(a.width);var c=!!this.Ka,d=Math.max(c?this.G().np:0,b+10);c=c?this.G().Bg:0;if(this.yh)var e=Hn(this,a+c,d/2-this.G().Fh/2);else{e=this.G().Dg;var f=this.G().Eg,h=this.G().Cg;
e=lc(this.Mf,e+"pt",f,h)}this.$b.width=a+e+2*c;this.$b.height=d;f=0;this.o.s?this.le.setAttribute("x",c+e):(f=a+e,this.Va.setAttribute("text-anchor","end"),this.le.setAttribute("x",c));this.le.setAttribute("y",d/2-b/2);Nh(this,f+c,a+e)}else this.Ge.nodeValue=this.Hk(),y(this.Va,"blocklyDropdownText"),this.Va.setAttribute("text-anchor","start"),a=!!this.Ka,b=Math.max(a?this.G().np:0,this.G().Kj),d=this.G().Dg,c=this.G().Eg,e=this.G().Cg,d=lc(this.Va,d+"pt",c,e),a=a?this.G().Bg:0,c=0,this.yh&&(c=Hn(this,
d+a,b/2-this.G().Fh/2)),this.$b.width=d+c+2*a,this.$b.height=b,Nh(this,a,d);Oh(this)};function Hn(a,b,c){if(!a.yh)return 0;var d=a.Ka?a.G().Bg:0,e=a.G().Is,f=a.G().Fh;a.yh.setAttribute("transform","translate("+(a.o.s?d:b+e)+","+c+")");return f+e}g.fn=function(){if(!this.sh)return null;var a=this.sh[0];return"object"==typeof a?a.alt:a};
function Fn(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");if(!a.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var b=!1,c=0;c<a.length;++c){var d=a[c];Array.isArray(d)?"string"!=typeof d[1]?(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option id must be a string. Found "+d[1]+" in: ",d)):d[0]&&"string"!=typeof d[0]&&"string"!=typeof d[0].src&&(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option must have a string label or image description. Found"+
d[0]+" in: ",d)):(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option must be an array. Found: ",d))}if(b)throw TypeError("Found invalid FieldDropdown options.");}A(vc,"field_dropdown",En);function In(a,b,c){this.kj=!0;In.j.constructor.call(this,a,b,c);this.jl=this.il=this.Sb=null;this.Ek=!1;this.g=null}I(In,Hh);In.prototype.Ag="";In.N=function(a){var b=fb(a.text);return new In(b,void 0,a)};g=In.prototype;g.Lf=!0;g.Ml="text";g.bc=function(a){In.j.bc.call(this,a);"boolean"==typeof a.spellcheck&&(this.kj=a.spellcheck)};
g.hf=function(){if(this.G().pp){for(var a=0,b=0,c=0,d;d=this.o.B[c];c++){for(var e=0;d.ba[e];e++)a++;d.connection&&b++}this.Ek=1>=a&&this.o.v&&!b}else this.Ek=!1;this.Ek?this.om=this.o.U():Jh(this);Kh(this)};g.$e=function(a){return null===a||void 0===a?null:String(a)};g.cq=function(){if(this.fh){this.xn=!1;var a=this.Ya;this.Ya=this.Sb.Yr;this.o&&0==B&&D(new (F("change"))(this.o,"field",this.name||null,a,this.Ya))}};g.$d=function(a){this.xn=!0;this.Ya=a;this.fh||(this.oe=!0)};
g.Ia=function(){this.o&&this.G().pp&&(this.Ka?this.Ka.setAttribute("stroke",this.o.style.td):this.o.ya.Ga.setAttribute("fill",this.G().lp))};g.zf=function(){In.j.zf.call(this);if(this.fh){Jn(this);var a=this.Sb;this.xn?(fc(a,"blocklyInvalidInput"),nf(a,"invalid",!1)):(y(a,"blocklyInvalidInput"),nf(a,"invalid",!0))}};function Kn(a){0!=a.kj&&(a.kj=!1,a.Sb&&a.Sb.setAttribute("spellcheck",a.kj))}
g.Nd=function(a,b){this.g=this.o.h;a=b||!1;!a&&(Ua||Oa||Pa)?Ln(this):(Eh(this,this.o.s,this.ev.bind(this)),this.Sb=this.fp(),this.fh=!0,a||(this.Sb.focus({preventScroll:!0}),this.Sb.select()))};function Ln(a){kk(q.CHANGE_VALUE_TITLE,a.Rb(),function(b){null!==b&&Be(this,b)}.bind(a))}
g.fp=function(){var a=zh;y(Ih(this),"editing");var b=document.createElement("input");b.className="blocklyHtmlInput";b.setAttribute("spellcheck",this.kj);var c=wj(this.g),d=this.G().Dg*c+"pt";a.style.fontSize=d;b.style.fontSize=d;d=4*c+"px";if(this.Ek){d=se(this);d=(d.bottom-d.top)/2+"px";var e=this.o.getParent()?this.o.getParent().style.td:this.o.style.td;b.style.border=1*c+"px solid "+e;a.style.borderRadius=d;a.style.transition="box-shadow 0.25s ease 0s";this.G().Js&&(a.style.boxShadow="rgba(255, 255, 255, 0.3) 0px 0px 0px "+
4*c+"px")}b.style.borderRadius=d;a.appendChild(b);b.value=b.defaultValue=String(this.Ya);b.Yr=this.Ya;b.jr=null;Jn(this);this.il=u(b,"keydown",this,this.bo);this.jl=u(b,"input",this,this.ou);return b};g.ev=function(){this.fh=!1;this.xn=!0;Ph(this);this.ao&&this.ao(this.Ya);this.il&&(v(this.il),this.il=null);this.jl&&(v(this.jl),this.jl=null);var a=zh.style;a.width="auto";a.height="auto";a.fontSize="";a.transition="";a.boxShadow="";this.Sb=null;fc(Ih(this),"editing")};
g.bo=function(a){if(13==a.keyCode)Fh(),ye();else if(27==a.keyCode)Be(this,this.Sb.Yr),Fh(),ye();else if(9==a.keyCode){Fh();ye();var b=this.o,c=!a.shiftKey,d=new Gi;wh(d,Qf(this));var e=d.pc;c?d.next():d.we();(c=d.pc)&&c!==e&&(e=c.V,Xf(e)&&e.Nd(void 0),b.h.kh&&wh(b.h.Yg(),c));a.preventDefault()}};g.ou=function(){var a=this.Sb.value;a!==this.Sb.jr&&(this.Sb.jr=a,E(!0),Be(this,a),Ph(this),Jn(this),E(!1))};
function Jn(a){var b=zh,c=se(a);b.style.width=c.right-c.left+"px";b.style.height=c.bottom-c.top+"px";a=new r(a.o.s?c.right-b.offsetWidth:c.left,c.top);b.style.left=a.x+"px";b.style.top=a.y+"px"}g.Jq=function(){return!0};g.fn=function(){return this.fh&&this.Sb?this.Sb.value:null};A(vc,"field_input",In);function Mn(a,b,c,d,e,f){this.Mi=-Infinity;this.Ki=Infinity;this.ph=0;this.vm=null;Mn.j.constructor.call(this,a,e,f);f||(Nn(this,b),On(this,c),Pn(this,d),Be(this,this.mb()))}I(Mn,In);Mn.prototype.Ag=0;Mn.N=function(a){return new Mn(a.value,void 0,void 0,void 0,void 0,a)};Mn.prototype.Lf=!0;Mn.prototype.bc=function(a){Mn.j.bc.call(this,a);Nn(this,a.min);On(this,a.max);Pn(this,a.precision)};function Nn(a,b){null==b?a.Mi=-Infinity:(b=Number(b),isNaN(b)||(a.Mi=b))}
function On(a,b){null==b?a.Ki=Infinity:(b=Number(b),isNaN(b)||(a.Ki=b))}function Pn(a,b){a.ph=Number(b)||0;var c=String(a.ph);-1!=c.indexOf("e")&&(c=a.ph.toLocaleString("en-US",{maximumFractionDigits:20}));var d=c.indexOf(".");a.vm=-1==d?b?0:null:c.length-d-1}
Mn.prototype.$e=function(a){if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=a.replace(/infinity/i,"Infinity");a=Number(a||0);if(isNaN(a))return null;a=Math.min(Math.max(a,this.Mi),this.Ki);this.ph&&isFinite(a)&&(a=Math.round(a/this.ph)*this.ph);null!=this.vm&&(a=Number(a.toFixed(this.vm)));return a};Mn.prototype.fp=function(){var a=Mn.j.fp.call(this);-Infinity<this.Mi&&nf(a,"valuemin",this.Mi);Infinity>this.Ki&&nf(a,"valuemax",this.Ki);return a};
A(vc,"field_number",Mn);function Qn(a,b,c,d,e){this.lh=Rn;this.At="string"===typeof a?a:"";this.$b=new Fa(0,0);e&&this.bc(e);b&&(this.ug=b);e||Sn(this,c,d)}I(Qn,En);Qn.N=function(a){var b=fb(a.variable);return new Qn(b,void 0,void 0,void 0,a)};g=Qn.prototype;g.Lf=!0;g.bc=function(a){Qn.j.bc.call(this,a);Sn(this,a.variableTypes,a.defaultType)};g.Xf=function(){if(!this.hc){var a=lk(this.o.h,null,this.At,this.zt);this.$d(a.T())}};g.Uo=function(){return Qn.j.Uo.call(this)&&(!this.G().Nl||"variables_get"!=this.o.type)};
g.Dk=function(a){var b=a.getAttribute("id"),c=a.textContent,d=a.getAttribute("variabletype")||a.getAttribute("variableType")||"";b=lk(this.o.h,b,c,d);if(null!=d&&d!==b.type)throw Error("Serialized variable type with id '"+b.T()+"' had type "+b.type+", and does not match variable field that references it: "+Sc(a)+".");Be(this,b.T())};g.Ur=function(a){this.Xf();a.id=this.hc.T();a.textContent=this.hc.name;this.hc.type&&a.setAttribute("variabletype",this.hc.type);return a};
g.So=function(a){if(a.X)throw Error("Variable fields are not allowed to exist on shadow blocks.");Qn.j.So.call(this,a)};g.mb=function(){return this.hc?this.hc.T():null};g.Rb=function(){return this.hc?this.hc.name:""};g.Nc=function(){return this.hc};g.qq=function(){return this.hc?this.ug:null};
g.$e=function(a){if(null===a)return null;var b=mk(this.o.h,a);if(!b)return console.warn("Variable id doesn't point to a real variable! ID was "+a),null;b=b.type;var c;a:if(c=Tn(this)){for(var d=0;d<c.length;d++)if(b==c[d]){c=!0;break a}c=!1}else c=!0;return c?a:(console.warn("Variable type doesn't match this field!  Type was "+b),null)};g.$d=function(a){this.hc=mk(this.o.h,a);Qn.j.$d.call(this,a)};
function Tn(a){var b=a.bv;if(null===b&&a.o&&a.o.h)return a.o.h.gn();b=b||[""];if(0==b.length)throw a=a.Rb(),Error("'variableTypes' of field variable "+a+" was an empty list");return b}
function Sn(a,b,c){c=c||"";if(null==b||void 0==b)b=null;else if(Array.isArray(b)){for(var d=!1,e=0;e<b.length;e++)b[e]==c&&(d=!0);if(!d)throw Error("Invalid default type '"+c+"' in the definition of a FieldVariable");}else throw Error("'variableTypes' was not an array in the definition of a FieldVariable");a.zt=c;a.bv=b}
function Rn(){if(!this.hc)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var a=this.Rb(),b=[];if(this.o&&this.o.h)for(var c=Tn(this),d=0;d<c.length;d++)b=b.concat(this.o.h.xi(c[d]));b.sort(ak);c=[];for(d=0;d<b.length;d++)c[d]=[b[d].name,b[d].T()];c.push([q.RENAME_VARIABLE,"RENAME_VARIABLE_ID"]);q.DELETE_VARIABLE&&c.push([q.DELETE_VARIABLE.replace("%1",a),"DELETE_VARIABLE_ID"]);return c}
g.lr=function(a){a=a.mb();if(this.o&&this.o.h){if("RENAME_VARIABLE_ID"==a){ik(this.o.h,this.hc);return}if("DELETE_VARIABLE_ID"==a){this.o.h.Zd(this.hc.T());return}}Be(this,a)};g.Vi=function(){return!0};A(vc,"field_variable",Qn);tk([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}",
"MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},
{type:"input_value",name:"NUM",check:"Number"}],output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",colour:"%{BKY_MATH_HUE}",
helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\u00bd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},
{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",
name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,colour:"%{BKY_VARIABLES_HUE}",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",
name:"NUM",check:"Number"}],output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",
args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",
tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",
helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]);
Zf("math_op_tooltip",hg("OP",{ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",
SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"}));
bg("math_is_divisibleby_mutator",{xa:function(){var a=G("mutation"),b="DIVISIBLE_BY"==K(this,"PROPERTY");a.setAttribute("divisor_input",b);return a},$a:function(a){a="true"==a.getAttribute("divisor_input");this.Bc(a)},Bc:function(a){var b=H(this,"DIVISOR");a?b||this.Fa(1,"DIVISOR").yc("Number"):b&&this.fb("DIVISOR")}},function(){Lh(ed(this,"PROPERTY"),function(a){a="DIVISIBLE_BY"==a;this.C().Bc(a)})});Zf("math_change_tooltip",lg("%{BKY_MATH_CHANGE_TOOLTIP}"));
bg("math_modes_of_list_mutator",{bs:function(a){"MODE"==a?this.v.yc("Array"):this.v.yc("Number")},xa:function(){var a=G("mutation");a.setAttribute("op",K(this,"OP"));return a},$a:function(a){this.bs(a.getAttribute("op"))}},function(){Lh(ed(this,"OP"),function(a){this.bs(a)}.bind(this))});function Un(a,b,c){this.Uh=!1;this.jg=0;this.hs=360;this.$i=15;Un.j.constructor.call(this,a,b,c);this.al=this.hk=this.ik=this.Uk=this.ri=this.iq=null}I(Un,In);Un.prototype.Ag=0;Un.N=function(a){return new Un(a.angle,void 0,a)};g=Un.prototype;g.Lf=!0;
g.bc=function(a){Un.j.bc.call(this,a);switch(a.mode){case "compass":this.Uh=!0;this.jg=90;break;case "protractor":this.Uh=!1,this.jg=0}var b=a.clockwise;"boolean"==typeof b&&(this.Uh=b);b=a.offset;null!=b&&(b=Number(b),isNaN(b)||(this.jg=b));b=a.wrap;null!=b&&(b=Number(b),isNaN(b)||(this.hs=b));a=a.round;null!=a&&(a=Number(a),isNaN(a)||(this.$i=a))};g.hf=function(){Un.j.hf.call(this);this.Qr=w(bc,{},null);this.Qr.appendChild(document.createTextNode("\u00b0"));this.Va.appendChild(this.Qr)};
g.zf=function(){Un.j.zf.call(this);Vn(this)};g.Nd=function(a){Un.j.Nd.call(this,a,Ua||Oa||Pa);this.Mm();he.appendChild(this.iq);a=this.o.style.td;ge.style.backgroundColor=this.o.style.Ud;ge.style.borderColor=a;re(this,this.Nm.bind(this));Vn(this)};
g.Mm=function(){var a=w($b,{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",height:"100px",width:"100px",style:"touch-action: none"},null),b=w(Kb,{cx:50,cy:50,r:49,"class":"blocklyAngleCircle"},a);this.ri=w(Wb,{"class":"blocklyAngleGauge"},a);this.Uk=w(Vb,{x1:50,y1:50,"class":"blocklyAngleLine"},a);for(var c=0;360>c;c+=15)w(Vb,{x1:99,y1:50,x2:99-(0==c%45?10:5),y2:50,"class":"blocklyAngleMarks",transform:"rotate("+
c+",50,50)"},a);this.ik=u(a,"click",this,this.Wt);this.hk=u(b,"click",this,this.pr,!0,!0);this.al=u(b,"mousemove",this,this.pr,!0,!0);this.iq=a};g.Nm=function(){this.ik&&(v(this.ik),this.ik=null);this.hk&&(v(this.hk),this.hk=null);this.al&&(v(this.al),this.al=null);this.Uk=this.ri=null};g.Wt=function(){ke===this&&xe();Fh()};
g.pr=function(a){var b=this.ri.ownerSVGElement.getBoundingClientRect(),c=a.clientX-b.left-50;a=a.clientY-b.top-50;b=Math.atan(-a/c);isNaN(b)||(b=180*b/Math.PI,0>c?b+=180:0<a&&(b+=360),b=this.Uh?this.jg+360-b:360-(this.jg-b),Wn(this,b))};function Wn(a,b){a.$i&&(b=Math.round(b/a.$i)*a.$i);b=Xn(a,b);b!=a.Ya&&(a.oe=!0,a.fh&&(a.Sb.value=String(b)),Be(a,b))}
function Vn(a){if(a.ri){var b=Number(a.Rb())+a.jg,c=ee(b%360);b=["M ",50,",",50];var d=50,e=50;if(!isNaN(c)){var f=Number(a.Uh),h=ee(a.jg),k=49*Math.cos(h),m=-49*Math.sin(h);f&&(c=2*h-c);d+=49*Math.cos(c);e-=49*Math.sin(c);c=Math.abs(Math.floor((c-h)/Math.PI)%2);f&&(c=1-c);b.push(" l ",k,",",m," A ",49,",",49," 0 ",c," ",f," ",d,",",e," z")}a.ri.setAttribute("d",b.join(""));a.Uk.setAttribute("x2",d);a.Uk.setAttribute("y2",e)}}
g.bo=function(a){Un.j.bo.call(this,a);var b;37===a.keyCode?b=this.o.s?1:-1:39===a.keyCode?b=this.o.s?-1:1:40===a.keyCode?b=-1:38===a.keyCode&&(b=1);b&&(Wn(this,this.mb()+b*this.$i),a.preventDefault(),a.stopPropagation())};g.$e=function(a){a=Number(a);return isNaN(a)||!isFinite(a)?null:Xn(this,a)};function Xn(a,b){b%=360;0>b&&(b+=360);b>a.hs&&(b-=360);return b}Gb(".blocklyAngleCircle {,stroke: #444;,stroke-width: 1;,fill: #ddd;,fill-opacity: .8;,},.blocklyAngleMarks {,stroke: #444;,stroke-width: 1;,},.blocklyAngleGauge {,fill: #f88;,fill-opacity: .8;,pointer-events: none;,},.blocklyAngleLine {,stroke: #f00;,stroke-width: 2;,stroke-linecap: round;,pointer-events: none;,}".split(","));
A(vc,"field_angle",Un);W.Qv={};W.math_number=function(a){a=Number(K(a,"NUM"));return[a,0<=a?W.Pj:W.Lh]};W.math_arithmetic=function(a){var b={ADD:[" + ",W.Kf],MINUS:[" - ",W.Vl],MULTIPLY:[" * ",W.Ul],DIVIDE:[" / ",W.Jh],POWER:[null,W.Za]}[K(a,"OP")],c=b[0];b=b[1];var d=X(W,a,"A",b)||"0";a=X(W,a,"B",b)||"0";return c?[d+c+a,b]:["Math.pow("+d+", "+a+")",W.qb]};
W.math_single=function(a){var b=K(a,"OP");if("NEG"==b)return a=X(W,a,"NUM",W.Lh)||"0","-"==a[0]&&(a=" "+a),["-"+a,W.Lh];a="SIN"==b||"COS"==b||"TAN"==b?X(W,a,"NUM",W.Jh)||"0":X(W,a,"NUM",W.Za)||"0";switch(b){case "ABS":var c="Math.abs("+a+")";break;case "ROOT":c="Math.sqrt("+a+")";break;case "LN":c="Math.log("+a+")";break;case "EXP":c="Math.exp("+a+")";break;case "POW10":c="Math.pow(10,"+a+")";break;case "ROUND":c="Math.round("+a+")";break;case "ROUNDUP":c="Math.ceil("+a+")";break;case "ROUNDDOWN":c=
"Math.floor("+a+")";break;case "SIN":c="Math.sin("+a+" / 180 * Math.PI)";break;case "COS":c="Math.cos("+a+" / 180 * Math.PI)";break;case "TAN":c="Math.tan("+a+" / 180 * Math.PI)"}if(c)return[c,W.qb];switch(b){case "LOG10":c="Math.log("+a+") / Math.log(10)";break;case "ASIN":c="Math.asin("+a+") / Math.PI * 180";break;case "ACOS":c="Math.acos("+a+") / Math.PI * 180";break;case "ATAN":c="Math.atan("+a+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+b);}return[c,W.Jh]};
W.math_constant=function(a){return{PI:["Math.PI",W.Oe],E:["Math.E",W.Oe],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",W.Jh],SQRT2:["Math.SQRT2",W.Oe],SQRT1_2:["Math.SQRT1_2",W.Oe],INFINITY:["Infinity",W.Pj]}[K(a,"CONSTANT")]};
W.math_number_property=function(a){var b=X(W,a,"NUMBER_TO_CHECK",W.Kh)||"0",c=K(a,"PROPERTY");if("PRIME"==c){var d=xm("mathIsPrime",["function "+W.Pl+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).",
"  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+b+")";return[d,W.qb]}switch(c){case "EVEN":d=b+" % 2 == 0";break;case "ODD":d=b+" % 2 == 1";break;case "WHOLE":d=b+" % 1 == 0";break;case "POSITIVE":d=b+" > 0";break;case "NEGATIVE":d=b+" < 0";break;case "DIVISIBLE_BY":a=X(W,a,"DIVISOR",W.Kh)||"0",d=b+" % "+a+" == 0"}return[d,W.wp]};
W.math_change=function(a){var b=X(W,a,"DELTA",W.Kf)||"0";a=W.Ea.Gb(K(a,"VAR"),"VARIABLE");return a+" = (typeof "+a+" == 'number' ? "+a+" : 0) + "+b+";\n"};W.math_round=W.math_single;W.math_trig=W.math_single;W.math_modulo=function(a){var b=X(W,a,"DIVIDEND",W.Kh)||"0";a=X(W,a,"DIVISOR",W.Kh)||"0";return[b+" % "+a,W.Kh]};W.math_constrain=function(a){var b=X(W,a,"VALUE",W.Za)||"0",c=X(W,a,"LOW",W.Za)||"0";a=X(W,a,"HIGH",W.Za)||"Infinity";return["Math.min(Math.max("+b+", "+c+"), "+a+")",W.qb]};
W.math_random_int=function(a){var b=X(W,a,"FROM",W.Za)||"0";a=X(W,a,"TO",W.Za)||"0";return[xm("mathRandomInt",["function "+W.Pl+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+b+", "+a+")",W.qb]};W.math_random_float=function(){return["Math.random()",W.qb]};
W.math_atan2=function(a){var b=X(W,a,"X",W.Za)||"0";return["Math.atan2("+(X(W,a,"Y",W.Za)||"0")+", "+b+") / Math.PI * 180",W.Jh]};function eg(a){eg.j.constructor.call(this,null);this.Dr=a}I(eg,Pk);g=eg.prototype;g.g=null;g.Dh=0;g.Bj=0;
g.Gm=function(a){w(Zb,{"class":"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},a);w(Wb,{"class":"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},a);
w(Kb,{"class":"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},a)};g.pn=function(a){this.A.Ub()&&Pk.prototype.pn.call(this,a)};
g.tm=function(){this.pj=w($b,{x:Rg,y:Rg},null);if(this.Dr.length)for(var a=G("xml"),b=0,c;c=this.Dr[b];b++){var d=G("block");d.setAttribute("type",c);a.appendChild(d)}else a=null;b=new Ve({disable:!1,parentWorkspace:this.A.h,media:this.A.h.options.uf,rtl:this.A.s,renderer:this.A.h.options.Xi,rendererOverrides:this.A.h.options.Yi});b.Xa=this.A.s?3:2;if(c=!!a)b.Fd=Ud(a);this.g=new gj(b);this.g.Fi=!0;Lf(this.g,Nc);a=c?sj(this.g,Tb):null;b=this.g.va("blocklyMutatorBackground");a&&b.insertBefore(a,this.g.qa);
this.pj.appendChild(b);return this.pj};g.Le=function(){eg.j.Le.call(this);this.A.Da||(this.A.Ub()?this.Tb&&fc(this.Tb,"blocklyIconGroupReadonly"):(this.ma(!1),this.Tb&&y(this.Tb,"blocklyIconGroupReadonly")))};
function Yn(a){var b=2*Rg,c=a.g.qa.getBBox(),d=c.width+c.x,e=c.height+3*b,f=a.g.tc();if(f){var h=f.g.Yb.bf();e=Math.max(e,h.height+20);d+=f.ie()}a.A.s&&(d=-c.x);d+=3*b;if(Math.abs(a.Dh-d)>b||Math.abs(a.Bj-e)>b)a.Dh=d,a.Bj=e,a.La.cj(d+b,e+b),a.pj.setAttribute("width",a.Dh),a.pj.setAttribute("height",a.Bj),tj(a.g,a.Dh,a.Bj);a.A.s&&a.g.qa.setAttribute("transform","translate("+a.Dh+",0)");a.g.resize()}g.ku=function(){this.g&&qj(this.g)};
g.ma=function(a){if(a!=this.isVisible())if(D(new (F("bubble_open"))(this.A,a,"mutator")),a){this.La=new Og(this.A.h,this.tm(),this.A.ya.Ga,this.Wf,null,null);Xg(this.La,this.A.id);this.La.Qn=this.ku.bind(this);var b=this.g.options.Fd;a=this.g.tc();b&&(a.D(this.g),a.show(b));this.Kd=this.A.Ze(this.g);b=pb(this.Kd,!1);for(var c=0,d;d=b[c];c++)d.P();this.Kd.yl(!1);this.Kd.xm=!1;a?(b=2*a.ta,a=this.Kd.s?a.ie()+b:b):a=b=16;this.A.s&&(a=-a);this.Kd.moveBy(a,b);if(this.A.Lo){var e=this,f=this.A;f.Lo(this.Kd);
this.Cl=function(){f.Lo(e.Kd)};Lf(this.A.h,this.Cl)}Yn(this);Lf(this.g,this.fv.bind(this));this.Ia()}else this.pj=null,this.g.m(),this.Kd=this.g=null,this.La.m(),this.La=null,this.Bj=this.Dh=0,this.Cl&&(nb(this.A.h.cb,this.Cl),this.Cl=null)};
g.fv=function(a){if(!(a.yn||"change"==a.type&&"disabled"==a.element)){if(!this.g.Ta()){a=this.g.Sa(!1);for(var b=0,c;c=a[b];b++){var d=c.ea();20>d.y&&c.moveBy(0,20-d.y);if(c.s){var e=-20,f=this.g.tc();f&&(e-=f.ie());d.x>e&&c.moveBy(e-d.x,0)}else 20>d.x&&c.moveBy(20-d.x,0)}}if(this.Kd.h==this.g){E(!0);c=this.A;a=(a=c.xa())&&Sc(a);b=c.I;c.I=!1;c.We(this.Kd);c.I=b;c.me();c.I&&c.P();b=(b=c.xa())&&Sc(b);if(a!=b){D(new (F("change"))(c,"mutation",null,a,b));var h=Fc;setTimeout(function(){E(h);c.Ha();E(!1)},
250)}this.g.Ta()||Yn(this);E(!1)}}};g.m=function(){this.A.zb=null;Pk.prototype.m.call(this)};function Zn(a,b,c){if(!a||!a.C().h)return!1;c=H(b,c).connection;var d=a.L();return d&&d!=b||c.J==a?!1:(c.isConnected()&&c.disconnect(),c.connect(a),!0)}function $n(a){var b=null;if(a&&a.options){var c=a.options.Na;a.jd?c&&c.options&&(b=c.options.Na):c&&(b=c)}return b};tk([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,
nextStatement:null,colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",
extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",
name:"BOOL",check:"Boolean"}],output:"Boolean",colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",
helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]);
tk([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,
colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]);Zf("logic_op_tooltip",hg("OP",{EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"}));
var ao={dc:0,Lc:0,Ff:!0,xa:function(){if(!this.dc&&!this.Lc)return null;var a=G("mutation");this.dc&&a.setAttribute("elseif",this.dc);this.Lc&&a.setAttribute("else",1);return a},$a:function(a){this.dc=parseInt(a.getAttribute("elseif"),10)||0;this.Lc=parseInt(a.getAttribute("else"),10)||0;this.Au()},Ze:function(a){var b=a.mh("controls_if_if");b.me();for(var c=b.F,d=1;d<=this.dc;d++){var e=a.mh("controls_if_elseif");e.me();c.connect(e.H);c=e.F}this.Lc&&(a=a.mh("controls_if_else"),a.me(),c.connect(a.H));
return b},We:function(a){a=a.F.L();this.Lc=this.dc=0;for(var b=[null],c=[null],d=null;a&&!a.Vb();){switch(a.type){case "controls_if_elseif":this.dc++;b.push(a.av);c.push(a.md);break;case "controls_if_else":this.Lc++;d=a.md;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.F&&a.F.L()}this.Bc();this.Er(b,c,d)},Lo:function(a){a=a.F.L();for(var b=1;a;){switch(a.type){case "controls_if_elseif":var c=H(this,"IF"+b),d=H(this,"DO"+b);a.av=c&&c.connection.J;a.md=d&&d.connection.J;b++;break;
case "controls_if_else":d=H(this,"ELSE");a.md=d&&d.connection.J;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.F&&a.F.L()}},Au:function(){var a=[null],b=[null],c=null;H(this,"ELSE")&&(c=H(this,"ELSE").connection.J);for(var d=1;H(this,"IF"+d);){var e=H(this,"DO"+d);a.push(H(this,"IF"+d).connection.J);b.push(e.connection.J);d++}this.Bc();this.Er(a,b,c)},Bc:function(){H(this,"ELSE")&&this.fb("ELSE");for(var a=1;H(this,"IF"+a);)this.fb("IF"+a),this.fb("DO"+a),a++;for(a=1;a<=this.dc;a++)O(this.Fa(1,
"IF"+a).yc("Boolean"),q.CONTROLS_IF_MSG_ELSEIF),O(this.Fa(3,"DO"+a),q.CONTROLS_IF_MSG_THEN);this.Lc&&O(this.Fa(3,"ELSE"),q.CONTROLS_IF_MSG_ELSE)},Er:function(a,b,c){for(var d=1;d<=this.dc;d++)Zn(a[d],this,"IF"+d),Zn(b[d],this,"DO"+d);Zn(c,this,"ELSE")}};bg("controls_if_mutator",ao,null,["controls_if_elseif","controls_if_else"]);
function bo(){this.ib(function(){if(this.dc||this.Lc){if(!this.dc&&this.Lc)return q.CONTROLS_IF_TOOLTIP_2;if(this.dc&&!this.Lc)return q.CONTROLS_IF_TOOLTIP_3;if(this.dc&&this.Lc)return q.CONTROLS_IF_TOOLTIP_4}else return q.CONTROLS_IF_TOOLTIP_1;return""}.bind(this))}Zf("controls_if_tooltip",bo);
var co={onchange:function(a){this.Ri||(this.Ri=[null,null]);var b=gi(this,"A"),c=gi(this,"B");b&&c&&!tf(b.v,c.v)&&(E(a.group),a=this.Ri[0],a!==b&&(Ie(b),!a||a.Jc||a.X||H(this,"A").connection.connect(a.v)),b=this.Ri[1],b!==c&&(Ie(c),!b||b.Jc||b.X||H(this,"B").connection.connect(b.v)),this.Ha(),E(!1));this.Ri[0]=gi(this,"A");this.Ri[1]=gi(this,"B")}};Zf("logic_compare",function(){ag(this,co)});
$f("logic_ternary",{Cr:null,onchange:function(a){var b=gi(this,"THEN"),c=gi(this,"ELSE"),d=this.v.J;if((b||c)&&d)for(var e=0;2>e;e++){var f=1==e?b:c;f&&!tf(f.v,d)&&(E(a.group),d===this.Cr?(Ie(this),d.C().Ha()):(Ie(f),f.Ha()),E(!1))}this.Cr=d}});tk([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],
message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,
nextStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip",
"controls_flow_in_loop_check"]}]);Zf("controls_whileUntil_tooltip",hg("MODE",{WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"}));Zf("controls_flow_tooltip",hg("FLOW",{BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"}));
$f("contextMenu_newGetVariableBlock",{Xd:function(a){if(!this.Da){var b=ed(this,"VAR").Nc(),c=b.name;if(!this.isCollapsed()&&null!=c){var d={enabled:!0};d.text=q.VARIABLES_SET_CREATE_GET.replace("%1",c);b=fk(b);c=G("block");c.setAttribute("type","variables_get");c.appendChild(b);d.ka=ni.ck(this,c);a.push(d)}}}});Zf("controls_for_tooltip",lg("%{BKY_CONTROLS_FOR_TOOLTIP}"));Zf("controls_forEach_tooltip",lg("%{BKY_CONTROLS_FOREACH_TOOLTIP}"));
var eo={Ts:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],Ff:!0,pq:function(a){do{if(-1!=eo.Ts.indexOf(a.type))return a;a=Zh(a)}while(a);return null},onchange:function(a){if(this.h.Ta&&!this.h.Ta()&&"move"==a.type){var b=eo.pq(this);this.vh(b?null:q.CONTROLS_FLOW_STATEMENTS_WARNING);if(!this.Da){var c=Fc;E(a.group);this.Zb(b);E(c)}}}};$f("controls_flow_in_loop_check",eo);function fo(a,b,c){this.Op=null;fo.j.constructor.call(this,a,b,c)}I(fo,Hh);fo.prototype.Ag=!1;fo.N=function(a){return new fo(a.checked,void 0,a)};g=fo.prototype;g.Lf=!0;g.Ml="default";g.bc=function(a){fo.j.bc.call(this,a);a.checkCharacter&&(this.Op=a.checkCharacter)};g.hf=function(){fo.j.hf.call(this);y(this.Va,"blocklyCheckbox");this.Va.style.display=this.Ya?"block":"none"};g.zf=function(){this.Ge&&(this.Ge.nodeValue=this.Hk());Mh(this,this.G().Es)};g.Hk=function(){return this.Op||"\u2713"};
g.Nd=function(){Be(this,!this.Ya)};g.$e=function(a){return!0===a||"TRUE"===a?"TRUE":!1===a||"FALSE"===a?"FALSE":null};g.$d=function(a){this.Ya=go(a);this.Va&&(this.Va.style.display=this.Ya?"block":"none")};g.mb=function(){return this.Ya?"TRUE":"FALSE"};g.Rb=function(){return String(go(this.Ya))};function go(a){return"string"==typeof a?"TRUE"==a:!!a}A(vc,"field_checkbox",fo);L.yu={};
L.procedures_defnoreturn={D:function(){var a=Nj("",this);a=new In(a,Pj);Kn(a);O(O(O(P(this),q.PROCEDURES_DEFNORETURN_TITLE),a,"NAME"),"","PARAMS");this.og(new eg(["procedures_mutatorarg"]));(this.h.options.Wh||this.h.options.Na&&this.h.options.Na.options.Wh)&&q.PROCEDURES_DEFNORETURN_COMMENT&&this.Ld(q.PROCEDURES_DEFNORETURN_COMMENT);this.hb(q.PROCEDURES_HUE);this.ib(q.PROCEDURES_DEFNORETURN_TOOLTIP);this.wb=q.PROCEDURES_DEFNORETURN_HELPURL;this.S=[];this.Ja=[];this.Md(!0);this.md=null},Md:function(a){this.Jk!==a&&
(a?(O(this.Fa(3,"STACK"),q.PROCEDURES_DEFNORETURN_DO),H(this,"RETURN")&&fi(this,"STACK","RETURN")):this.fb("STACK",!0),this.Jk=a)},yj:function(){var a="";this.S.length&&(a=q.PROCEDURES_BEFORE_PARAMS+" "+this.S.join(", "));B++;try{$h(this,a,"PARAMS")}finally{B--}},xa:function(a){var b=G("mutation");a&&b.setAttribute("name",K(this,"NAME"));for(var c=0;c<this.Ja.length;c++){var d=G("arg"),e=this.Ja[c];d.setAttribute("name",e.name);d.setAttribute("varid",e.T());a&&this.to&&d.setAttribute("paramId",this.to[c]);
b.appendChild(d)}this.Jk||b.setAttribute("statements","false");return b},$a:function(a){this.S=[];this.Ja=[];for(var b=0,c;c=a.childNodes[b];b++)if("arg"==c.nodeName.toLowerCase()){var d=c.getAttribute("name");c=c.getAttribute("varid")||c.getAttribute("varId");this.S.push(d);c=lk(this.h,c,d,"");null!=c?this.Ja.push(c):console.log("Failed to create a variable with name "+d+", ignoring.")}this.yj();Tj(this);this.Md("false"!==a.getAttribute("statements"))},Ze:function(a){var b=G("block");b.setAttribute("type",
"procedures_mutatorcontainer");var c=G("statement");c.setAttribute("name","STACK");b.appendChild(c);for(var d=0;d<this.S.length;d++){var e=G("block");e.setAttribute("type","procedures_mutatorarg");var f=G("field");f.setAttribute("name","NAME");f.appendChild(document.createTextNode(this.S[d]));e.appendChild(f);f=G("next");e.appendChild(f);c.appendChild(e);c=f}a=Vc(b,a);"procedures_defreturn"==this.type?$h(a,this.Jk,"STATEMENTS"):a.fb("STATEMENT_INPUT");Tj(this);return a},We:function(a){this.S=[];this.to=
[];this.Ja=[];for(var b=gi(a,"STACK");b&&!b.Vb();){var c=K(b,"NAME");this.S.push(c);this.Ja.push(this.h.Nc(c,""));this.to.push(b.id);b=b.F&&b.F.L()}this.yj();Tj(this);a=K(a,"STATEMENTS");if(null!==a&&(a="TRUE"==a,this.Jk!=a))if(a)this.Md(!0),Zn(this.md,this,"STACK"),this.md=null;else{a=H(this,"STACK").connection;if(this.md=a.J)a=a.L(),Ie(a),a.Ha();this.Md(!1)}},af:function(){return[K(this,"NAME"),this.S,!1]},ge:function(){return this.S},fe:function(){return this.Ja},vl:function(a,b){var c=this.h.hd(a);
if(""==c.type){c=c.name;b=this.h.hd(b);for(var d=!1,e=0;e<this.Ja.length;e++)this.Ja[e].T()==a&&(this.S[e]=b.name,this.Ja[e]=b,d=!0);d&&(this.wk(c,b.name),Tj(this))}},Il:function(a){for(var b=a.name,c=!1,d=0;d<this.Ja.length;d++)if(this.Ja[d].T()==a.T()){var e=this.S[d];this.S[d]=b;c=!0}c&&(this.wk(e,b),Tj(this))},wk:function(a,b){this.yj();if(this.zb&&this.zb.isVisible())for(var c=yf(this.zb.g),d=0,e;e=c[d];d++)"procedures_mutatorarg"==e.type&&Ef(a,K(e,"NAME"))&&$h(e,b,"NAME")},Xd:function(a){if(!this.Da){var b=
{enabled:!0},c=K(this,"NAME");b.text=q.PROCEDURES_CREATE_DO.replace("%1",c);var d=G("mutation");d.setAttribute("name",c);for(c=0;c<this.S.length;c++){var e=G("arg");e.setAttribute("name",this.S[c]);d.appendChild(e)}c=G("block");c.setAttribute("type",this.Mp);c.appendChild(d);b.ka=ni.ck(this,c);a.push(b);if(!this.isCollapsed())for(c=0;c<this.Ja.length;c++)b={enabled:!0},d=this.Ja[c],b.text=q.VARIABLES_SET_CREATE_GET.replace("%1",d.name),d=fk(d),e=G("block"),e.setAttribute("type","variables_get"),e.appendChild(d),
b.ka=ni.ck(this,e),a.push(b)}},Mp:"procedures_callnoreturn"};
L.procedures_defreturn={D:function(){var a=Nj("",this);a=new In(a,Pj);Kn(a);O(O(O(P(this),q.PROCEDURES_DEFRETURN_TITLE),a,"NAME"),"","PARAMS");O(Xh(this.Fa(1,"RETURN"),1),q.PROCEDURES_DEFRETURN_RETURN);this.og(new eg(["procedures_mutatorarg"]));(this.h.options.Wh||this.h.options.Na&&this.h.options.Na.options.Wh)&&q.PROCEDURES_DEFRETURN_COMMENT&&this.Ld(q.PROCEDURES_DEFRETURN_COMMENT);this.hb(q.PROCEDURES_HUE);this.ib(q.PROCEDURES_DEFRETURN_TOOLTIP);this.wb=q.PROCEDURES_DEFRETURN_HELPURL;this.S=[];
this.Ja=[];this.Md(!0);this.md=null},Md:L.procedures_defnoreturn.Md,yj:L.procedures_defnoreturn.yj,xa:L.procedures_defnoreturn.xa,$a:L.procedures_defnoreturn.$a,Ze:L.procedures_defnoreturn.Ze,We:L.procedures_defnoreturn.We,af:function(){return[K(this,"NAME"),this.S,!0]},ge:L.procedures_defnoreturn.ge,fe:L.procedures_defnoreturn.fe,vl:L.procedures_defnoreturn.vl,Il:L.procedures_defnoreturn.Il,wk:L.procedures_defnoreturn.wk,Xd:L.procedures_defnoreturn.Xd,Mp:"procedures_callreturn"};
L.procedures_mutatorcontainer={D:function(){O(P(this),q.PROCEDURES_MUTATORCONTAINER_TITLE);this.Fa(3,"STACK");O(O(P(this,"STATEMENT_INPUT"),q.PROCEDURES_ALLOW_STATEMENTS),new fo("TRUE"),"STATEMENTS");this.hb(q.PROCEDURES_HUE);this.ib(q.PROCEDURES_MUTATORCONTAINER_TOOLTIP);this.contextMenu=!1}};
L.procedures_mutatorarg={D:function(){var a=new In("x",this.ug);a.ju=a.Nd;a.Nd=function(){this.ci=[];this.ju()};O(O(P(this),q.PROCEDURES_MUTATORARG_TITLE),a,"NAME");this.De(!0);this.Ce(!0);this.hb(q.PROCEDURES_HUE);this.ib(q.PROCEDURES_MUTATORARG_TOOLTIP);this.contextMenu=!1;a.ao=this.Bt;a.ci=[];a.ao("x")},ug:function(a){var b=this.C(),c=$n(b.h);a=a.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"");if(!a)return null;for(var d=yf(b.h.W||b.h),e=a.toLowerCase(),f=0;f<d.length;f++)if(d[f].id!=this.C().id){var h=
K(d[f],"NAME");if(h&&h.toLowerCase()==e)return null}if(b.Da)return a;(b=c.Nc(a,""))&&b.name!=a&&c.yf(b.T(),a);b||(b=c.ad(a,""))&&this.ci&&this.ci.push(b);return a},Bt:function(a){var b=$n(this.C().h);if(b)for(var c=0;c<this.ci.length;c++){var d=this.ci[c];d.name!=a&&b.Zd(d.T())}}};
L.procedures_callnoreturn={D:function(){O(P(this,"TOPROW"),"","NAME");this.De(!0);this.Ce(!0);this.hb(q.PROCEDURES_HUE);this.wb=q.PROCEDURES_CALLNORETURN_HELPURL;this.S=[];this.Ja=[];this.ye={};this.Id=null;this.Co=!0},uc:function(){return K(this,"NAME")},rh:function(a,b){Ef(a,this.uc())&&($h(this,b,"NAME"),this.ib((this.v?q.PROCEDURES_CALLRETURN_TOOLTIP:q.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",b)))},Qo:function(a,b){var c=Uj(this.uc(),this.h),d=c&&c.zb&&c.zb.isVisible();d||(this.ye={},this.Id=
null);if(b)if(a.join("\n")==this.S.join("\n"))this.Id=b;else{if(b.length!=a.length)throw RangeError("paramNames and paramIds must be the same length.");this.Bf(!1);this.Id||(this.ye={},this.Id=[]);c=this.I;this.I=!1;for(var e=0;e<this.S.length;e++){var f=H(this,"ARG"+e);f&&(f=f.connection.J,this.ye[this.Id[e]]=f,d&&f&&-1==b.indexOf(this.Id[e])&&(f.disconnect(),f.C().Ha()))}this.S=[].concat(a);this.Ja=[];for(e=0;e<this.S.length;e++)a=lk(this.h,null,this.S[e],""),this.Ja.push(a);this.Bc();if(this.Id=
b)for(e=0;e<this.S.length;e++)b=this.Id[e],b in this.ye&&(f=this.ye[b],Zn(f,this,"ARG"+e)||delete this.ye[b]);(this.I=c)&&this.P()}},Bc:function(){for(var a=0;a<this.S.length;a++){var b=ed(this,"ARGNAME"+a);if(b){B++;try{Be(b,this.S[a])}finally{B--}}else b=new Rh(this.S[a]),O(Xh(this.Fa(1,"ARG"+a),1),b,"ARGNAME"+a).D()}for(;H(this,"ARG"+a);)this.fb("ARG"+a),a++;if(a=H(this,"TOPROW"))this.S.length?ed(this,"WITH")||(O(a,q.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),a.D()):ed(this,"WITH")&&Uh(a,"WITH")},xa:function(){var a=
G("mutation");a.setAttribute("name",this.uc());for(var b=0;b<this.S.length;b++){var c=G("arg");c.setAttribute("name",this.S[b]);a.appendChild(c)}return a},$a:function(a){var b=a.getAttribute("name");this.rh(this.uc(),b);b=[];for(var c=[],d=0,e;e=a.childNodes[d];d++)"arg"==e.nodeName.toLowerCase()&&(b.push(e.getAttribute("name")),c.push(e.getAttribute("paramId")));this.Qo(b,c)},ge:function(){return this.S},fe:function(){return this.Ja},onchange:function(a){if(this.h&&!this.h.jd&&a.Ab)if("create"==
a.type&&-1!=a.ff.indexOf(this.id)){var b=this.uc();b=Uj(b,this.h);!b||b.type==this.wm&&JSON.stringify(b.ge())==JSON.stringify(this.S)||(b=null);if(!b){E(a.group);a=G("xml");b=G("block");b.setAttribute("type",this.wm);var c=this.ea(),d=c.y+56;b.setAttribute("x",c.x+28*(this.s?-1:1));b.setAttribute("y",d);c=this.xa();b.appendChild(c);c=G("field");c.setAttribute("name","NAME");d=this.uc();d||(d=Nj("",this),this.rh("",d));c.appendChild(document.createTextNode(d));b.appendChild(c);a.appendChild(b);Uc(a,
this.h);E(!1)}}else"delete"==a.type?(b=this.uc(),b=Uj(b,this.h),b||(E(a.group),this.m(!0),E(!1))):"change"==a.type&&"disabled"==a.element&&(b=this.uc(),(b=Uj(b,this.h))&&b.id==a.ga&&((b=Fc)&&console.log("Saw an existing group while responding to a definition change"),E(a.group),a.newValue?(this.Co=this.isEnabled(),this.Zb(!1)):this.Zb(this.Co),E(b)))},Xd:function(a){if(this.h.bb()){var b={enabled:!0};b.text=q.PROCEDURES_HIGHLIGHT_DEF;var c=this.uc(),d=this.h;b.ka=function(){var e=Uj(c,d);if(e){var f=
e.id;if(d.bb()){if(f=f?d.rc(f):null){var h=f.ea(),k=Gg(f),m=d.scale;f=(h.x+(d.s?-1:1)*k.width/2)*m;h=(h.y+k.height/2)*m;k=d.Qb();d.scroll(-(f-k.kb/2),-(h-k.jb/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.");e.select()}};a.push(b)}},wm:"procedures_defnoreturn"};
L.procedures_callreturn={D:function(){O(P(this,"TOPROW"),"","NAME");this.ej(!0);this.hb(q.PROCEDURES_HUE);this.wb=q.PROCEDURES_CALLRETURN_HELPURL;this.S=[];this.Ja=[];this.ye={};this.Id=null;this.Co=!0},uc:L.procedures_callnoreturn.uc,rh:L.procedures_callnoreturn.rh,Qo:L.procedures_callnoreturn.Qo,Bc:L.procedures_callnoreturn.Bc,xa:L.procedures_callnoreturn.xa,$a:L.procedures_callnoreturn.$a,ge:L.procedures_callnoreturn.ge,fe:L.procedures_callnoreturn.fe,onchange:L.procedures_callnoreturn.onchange,
Xd:L.procedures_callnoreturn.Xd,wm:"procedures_defreturn"};
L.procedures_ifreturn={D:function(){O(this.Fa(1,"CONDITION").yc("Boolean"),q.CONTROLS_IF_MSG_IF);O(this.Fa(1,"VALUE"),q.PROCEDURES_DEFRETURN_RETURN);this.Wc(!0);this.De(!0);this.Ce(!0);this.hb(q.PROCEDURES_HUE);this.ib(q.PROCEDURES_IFRETURN_TOOLTIP);this.wb=q.PROCEDURES_IFRETURN_HELPURL;this.ef=!0},xa:function(){var a=G("mutation");a.setAttribute("value",Number(this.ef));return a},$a:function(a){this.ef=1==a.getAttribute("value");this.ef||(this.fb("VALUE"),O(P(this,"VALUE"),q.PROCEDURES_DEFRETURN_RETURN))},
onchange:function(){if(this.h.Ta&&!this.h.Ta()){var a=!1,b=this;do{if(-1!=this.Ls.indexOf(b.type)){a=!0;break}b=Zh(b)}while(b);a?("procedures_defnoreturn"==b.type&&this.ef?(this.fb("VALUE"),O(P(this,"VALUE"),q.PROCEDURES_DEFRETURN_RETURN),this.ef=!1):"procedures_defreturn"!=b.type||this.ef||(this.fb("VALUE"),O(this.Fa(1,"VALUE"),q.PROCEDURES_DEFRETURN_RETURN),this.ef=!0),this.vh(null),this.Da||this.Zb(!0)):(this.vh(q.PROCEDURES_IFRETURN_WARNING),this.Da||ai(this)||this.Zb(!1))}},Ls:["procedures_defnoreturn",
"procedures_defreturn"]};tk([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,colour:"%{BKY_VARIABLES_HUE}",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,
colour:"%{BKY_VARIABLES_HUE}",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]);function ho(a){return function(){var b=a.h,c=ed(a,"VAR").Nc();ik(b,c)}}function io(a){return function(){var b=a.h,c=ed(a,"VAR").Nc();b.Zd(c.T());pj(b)}}
$f("contextMenu_variableSetterGetter",{Xd:function(a){if(!this.Da){if("variables_get"==this.type)var b="variables_set",c=q.VARIABLES_GET_CREATE_SET;else b="variables_get",c=q.VARIABLES_SET_CREATE_GET;var d={enabled:0<Hf(this.h)},e=ed(this,"VAR").Rb();d.text=c.replace("%1",e);c=G("field");c.setAttribute("name","VAR");c.appendChild(document.createTextNode(e));e=G("block");e.setAttribute("type",b);e.appendChild(c);d.ka=ni.ck(this,e);a.push(d)}else if("variables_get"==this.type||"variables_get_reporter"==
this.type)b={text:q.RENAME_VARIABLE,enabled:!0,ka:ho(this)},e=ed(this,"VAR").Rb(),d={text:q.DELETE_VARIABLE.replace("%1",e),enabled:!0,ka:io(this)},a.unshift(b),a.unshift(d)}});W.Ov={};W.controls_if=function(a){var b=0,c="";W.ac&&(c+=sm(W.ac,a));do{var d=X(W,a,"IF"+b,W.Za)||"false";var e=um(a,"DO"+b);W.sb&&(e=tm(sm(W.sb,a),W.Jb)+e);c+=(0<b?" else ":"")+"if ("+d+") {\n"+e+"}";++b}while(H(a,"IF"+b));if(H(a,"ELSE")||W.sb)e=um(a,"ELSE"),W.sb&&(e=tm(sm(W.sb,a),W.Jb)+e),c+=" else {\n"+e+"}";return c+"\n"};
W.logic_compare=function(a){var b={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[K(a,"OP")],c="=="==b||"!="==b?W.wp:W.Xs,d=X(W,a,"A",c)||"0";a=X(W,a,"B",c)||"0";return[d+" "+b+" "+a,c]};W.logic_operation=function(a){var b="AND"==K(a,"OP")?"&&":"||",c="&&"==b?W.Sl:W.Tl,d=X(W,a,"A",c);a=X(W,a,"B",c);if(d||a){var e="&&"==b?"true":"false";d||(d=e);a||(a=e)}else a=d="false";return[d+" "+b+" "+a,c]};W.logic_negate=function(a){var b=W.Rj;return["!"+(X(W,a,"BOOL",b)||"true"),b]};
W.logic_boolean=function(a){return["TRUE"==K(a,"BOOL")?"true":"false",W.Pj]};W.logic_ternary=function(a){var b=X(W,a,"IF",W.Qj)||"false",c=X(W,a,"THEN",W.Qj)||"null";a=X(W,a,"ELSE",W.Qj)||"null";return[b+" ? "+c+" : "+a,W.Qj]};W.Pv={};W.controls_repeat_ext=function(a){var b=ed(a,"TIMES")?String(Number(K(a,"TIMES"))):X(W,a,"TIMES",W.Kg)||"0",c=um(a,"DO");c=vm(c,a);a="";var d=Kj(W.Ea,"count","VARIABLE"),e=b;b.match(/^\w+$/)||uk(b)||(e=Kj(W.Ea,"repeat_end","VARIABLE"),a+="var "+e+" = "+b+";\n");return a+("for (var "+d+" = 0; "+d+" < "+e+"; "+d+"++) {\n"+c+"}\n")};W.controls_repeat=W.controls_repeat_ext;
W.controls_whileUntil=function(a){var b="UNTIL"==K(a,"MODE"),c=X(W,a,"BOOL",b?W.Rj:W.Za)||"false",d=um(a,"DO");d=vm(d,a);b&&(c="!"+c);return"while ("+c+") {\n"+d+"}\n"};
W.controls_for=function(a){var b=W.Ea.Gb(K(a,"VAR"),"VARIABLE"),c=X(W,a,"FROM",W.Kg)||"0",d=X(W,a,"TO",W.Kg)||"0",e=X(W,a,"BY",W.Kg)||"1",f=um(a,"DO");f=vm(f,a);if(uk(c)&&uk(d)&&uk(e)){var h=Number(c)<=Number(d);a="for ("+b+" = "+c+"; "+b+(h?" <= ":" >= ")+d+"; "+b;b=Math.abs(Number(e));a=(1==b?a+(h?"++":"--"):a+((h?" += ":" -= ")+b))+(") {\n"+f+"}\n")}else a="",h=c,c.match(/^\w+$/)||uk(c)||(h=Kj(W.Ea,b+"_start","VARIABLE"),a+="var "+h+" = "+c+";\n"),c=d,d.match(/^\w+$/)||uk(d)||(c=Kj(W.Ea,b+"_end",
"VARIABLE"),a+="var "+c+" = "+d+";\n"),d=Kj(W.Ea,b+"_inc","VARIABLE"),a+="var "+d+" = ",a=uk(e)?a+(Math.abs(e)+";\n"):a+("Math.abs("+e+");\n"),a=a+("if ("+h+" > "+c+") {\n")+(W.Jb+d+" = -"+d+";\n"),a+="}\n",a+="for ("+b+" = "+h+"; "+d+" >= 0 ? "+b+" <= "+c+" : "+b+" >= "+c+"; "+b+" += "+d+") {\n"+f+"}\n";return a};
W.controls_forEach=function(a){var b=W.Ea.Gb(K(a,"VAR"),"VARIABLE"),c=X(W,a,"LIST",W.Kg)||"[]",d=um(a,"DO");d=vm(d,a);a="";var e=c;c.match(/^\w+$/)||(e=Kj(W.Ea,b+"_list","VARIABLE"),a+="var "+e+" = "+c+";\n");c=Kj(W.Ea,b+"_index","VARIABLE");d=W.Jb+b+" = "+e+"["+c+"];\n"+d;return a+("for (var "+c+" in "+e+") {\n"+d+"}\n")};
W.controls_flow_statements=function(a){var b="";W.ac&&(b+=sm(W.ac,a));W.sb&&(b+=sm(W.sb,a));if(W.ac){var c=eo.pq(a);c&&!c.Ff&&(b+=sm(W.ac,c))}switch(K(a,"FLOW")){case "BREAK":return b+"break;\n";case "CONTINUE":return b+"continue;\n"}throw Error("Unknown flow statement.");};W.yu={};W.procedures_defreturn=function(a){var b=W.Ea.Gb(K(a,"NAME"),"PROCEDURE"),c="";W.ac&&(c+=sm(W.ac,a));W.sb&&(c+=sm(W.sb,a));c&&(c=tm(c,W.Jb));var d="";W.Lj&&(d=tm(sm(W.Lj,a),W.Jb));var e=um(a,"STACK"),f=X(W,a,"RETURN",W.Za)||"",h="";e&&f&&(h=c);f&&(f=W.Jb+"return "+f+";\n");for(var k=[],m=a.ge(),n=0;n<m.length;n++)k[n]=W.Ea.Gb(m[n],"VARIABLE");c="function "+b+"("+k.join(", ")+") {\n"+c+d+e+h+f+"}";c=W.xl(a,c);W.Ug["%"+b]=c;return null};W.procedures_defnoreturn=W.procedures_defreturn;
W.procedures_callreturn=function(a){for(var b=W.Ea.Gb(K(a,"NAME"),"PROCEDURE"),c=[],d=a.ge(),e=0;e<d.length;e++)c[e]=X(W,a,"ARG"+e,W.Za)||"null";return[b+"("+c.join(", ")+")",W.qb]};W.procedures_callnoreturn=function(a){return W.procedures_callreturn(a)[0]+";\n"};W.procedures_ifreturn=function(a){var b="if ("+(X(W,a,"CONDITION",W.Za)||"false")+") {\n";W.sb&&(b+=tm(sm(W.sb,a),W.Jb));a.ef?(a=X(W,a,"VALUE",W.Za)||"null",b+=W.Jb+"return "+a+";\n"):b+=W.Jb+"return;\n";return b+"}\n"};W.Xv={};W.variables_get=function(a){return[W.Ea.Gb(K(a,"VAR"),"VARIABLE"),W.Pj]};W.variables_set=function(a){var b=X(W,a,"VALUE",W.Kg)||"0";return W.Ea.Gb(K(a,"VAR"),"VARIABLE")+" = "+b+";\n"};for(var jo in ao)L.controls_if[jo]=ao[jo];L.controls_if.D=function(){this.wb=q.CONTROLS_IF_HELPURL;this.hb(q.LOGIC_HUE);O(this.Fa(1,"IF0").yc("Boolean"),"if (");O(P(this),") {");this.Fa(3,"DO0");O(P(this,"TAIL"),"}");this.Wc(!0);this.De(!0);this.Ce(!0);this.og(new eg(["controls_if_elseif","controls_if_else"]));bo.apply(this)};
L.controls_if.Bc=function(){H(this,"ELSE")&&(this.fb("ELSEMSG"),this.fb("ELSE"));for(var a=1;H(this,"IF"+a);)this.fb("IF"+a),this.fb("TAIL"+a),this.fb("DO"+a),a++;for(a=1;a<=this.dc;a++)O(this.Fa(1,"IF"+a).yc("Boolean"),"} else if ("),O(P(this,"TAIL"+a),") {"),this.Fa(3,"DO"+a);this.Lc&&(O(P(this,"ELSEMSG"),"} else {"),this.Fa(3,"ELSE"));fi(this,"TAIL",null)};
L.logic_compare.D=function(){bi(this,{message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["==","EQ"],["!=","NEQ"],["\u200f<","LT"],["\u200f<=","LTE"],["\u200f>","GT"],["\u200f>=","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]})};
L.logic_boolean.D=function(){bi(this,{message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["true","TRUE"],["false","FALSE"]]}],output:"Boolean",colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"})};
L.logic_operation.D=function(){bi(this,{message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["&&","AND"],["||","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]})};
L.controls_whileUntil.D=function(){bi(this,{message0:"while ( %1 ) { %2 %3 }",args0:[{type:"input_value",name:"BOOL",check:"Boolean"},{type:"input_dummy"},{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",tooltip:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}"})};
L.math_arithmetic.D=function(){bi(this,{message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["+","ADD"],["-","MINUS"],["*","MULTIPLY"],["/","DIVIDE"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]})};
L.math_change.D=function(){bi(this,{message0:"%1 += %2;",args0:[{type:"field_variable",name:"VAR",variable:"name"},{type:"input_value",name:"DELTA",check:"Number"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:"%{BKY_VARIABLES_HUE}",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]})};W.math_change=function(a){var b=X(W,a,"DELTA",W.Kf)||"0";return W.Ea.Gb(K(a,"VAR"),"VARIABLE")+" += "+b+";\n"};
L.math_random_float.D=function(){bi(this,{message0:"Math.random  (  )",output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"})};L.variables_set.D=function(){O(O(O(this.Fa(1,"VALUE"),"var"),new Qn("name"),"VAR"),"=");O(P(this),";");this.Wc(!0);this.De(!0);this.Ce(!0);this.hb(q.VARIABLES_HUE);this.ib(q.VARIABLES_SET_TOOLTIP);this.wb=q.VARIABLES_SET_HELPURL};
L.procedures_defnoreturn.D=function(){var a=new In("",Pj);O(O(O(O(O(P(this),"function"),a,"NAME"),"("),"","PARAMS"),") {");this.Md(!0);O(P(this),"}");this.og(new eg(["procedures_mutatorarg"]));q.PROCEDURES_DEFNORETURN_COMMENT&&this.Ld(q.PROCEDURES_DEFNORETURN_COMMENT);this.hb(q.PROCEDURES_HUE);this.ib(q.PROCEDURES_DEFNORETURN_TOOLTIP);this.wb=q.PROCEDURES_DEFNORETURN_HELPURL;this.S=[];this.Ja=[];this.Md(!0);this.md=null};
L.procedures_defreturn.D=function(){var a=new In("",Pj);O(O(O(O(O(P(this),"function"),a,"NAME"),"("),"","PARAMS"),") {");O(Xh(this.Fa(1,"RETURN"),1),"return");O(P(this),"}");this.og(new eg(["procedures_mutatorarg"]));q.PROCEDURES_DEFRETURN_COMMENT&&this.Ld(q.PROCEDURES_DEFRETURN_COMMENT);this.hb(q.PROCEDURES_HUE);this.ib(q.PROCEDURES_DEFRETURN_TOOLTIP);this.wb=q.PROCEDURES_DEFRETURN_HELPURL;this.S=[];this.Ja=[];this.Md(!0);this.md=null};q.PROCEDURES_BEFORE_PARAMS="";
L.procedures_callnoreturn.D=function(){O(O(P(this),"","NAME"),"(");O(P(this,"TAIL"),");");this.Wc(!0);this.De(!0);this.Ce(!0);this.hb(q.PROCEDURES_HUE);this.ib(q.PROCEDURES_CALLNORETURN_TOOLTIP);this.wb=q.PROCEDURES_CALLNORETURN_HELPURL;this.S=[];this.ye={}};L.procedures_callnoreturn.Bc=function(){var a;for(a=0;a<this.S.length;a++)if(!H(this,"ARG"+a)){new Rh(this.S[a]);var b=this.Fa(1,"ARG"+a);0<a&&O(b,",");b.D()}for(;H(this,"ARG"+a);)this.fb("ARG"+a),a++;fi(this,"TAIL",null)};
L.procedures_callreturn.D=function(){O(O(P(this),"","NAME"),"(");O(P(this,"TAIL"),")");this.Wc(!0);this.ej(!0);this.hb(q.PROCEDURES_HUE);this.ib(q.PROCEDURES_CALLRETURN_TOOLTIP);this.wb=q.PROCEDURES_CALLRETURN_HELPURL;this.S=[];this.ye={}};L.procedures_callreturn.Bc=L.procedures_callnoreturn.Bc;delete L.procedures_ifreturn;W.pond_scan=function(a){return["scan("+(X(W,a,"DEGREE",W.Za)||0)+")",W.qb]};W.pond_cannon=function(a){var b=X(W,a,"DEGREE",W.vp)||0;a=X(W,a,"RANGE",W.vp)||0;return"cannon("+b+", "+a+");\n"};W.pond_swim=function(a){return"swim("+(X(W,a,"DEGREE",W.Za)||0)+");\n"};W.pond_stop=function(){return"stop();\n"};W.pond_health=function(){return["health()",W.qb]};W.pond_speed=function(){return["speed()",W.qb]};W.pond_getX=function(){return["getX()",W.qb]};W.pond_getY=function(){return["getY()",W.qb]};
W.pond_log=function(a){return"log("+(X(W,a,"VALUE",W.Za)||"''")+");\n"};
L.pond_math_number={D:function(){bi(this,{message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]})},xa:function(){var a=document.createElement("mutation"),b=ed(this,"NUM").constructor===Un;a.setAttribute("angle_field",b);return a},$a:function(a){a="true"===a.getAttribute("angle_field");this.bp(a)},onchange:function(){if(this.h&&this.v.J&&
this.v.J.Te){var a=ed(this,"NUM");this.v.J.Te.includes("Angle")?a.constructor!==Un&&this.bp(!0):a.constructor!==Mn&&this.bp(!1)}},bp:function(a){B++;var b=this.B[0],c=ed(this,"NUM"),d=c.mb();a?(Uh(b,"NUM"),c=new Un(""),O(b,c,"NUM"),Be(c,d)):(Uh(b,"NUM"),O(b,new Mn(d),"NUM"));this.I&&this.P();B--}};
L.pond_math_single={D:function(){bi(this,{message0:"%1 (%2)",args0:[{type:"field_dropdown",name:"OP",options:[["Math.sqrt","ROOT"],["Math.abs","ABS"],["Math.sin_deg","SIN"],["Math.cos_deg","COS"],["Math.tan_deg","TAN"],["Math.asin_deg","ASIN"],["Math.acos_deg","ACOS"],["Math.atan_deg","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]})}};
W.pond_math_single=function(a){var b=X(W,a,"NUM",W.Za)||"0";return["Math."+{ROOT:"sqrt",ABS:"abs",SIN:"sin_deg",COS:"cos_deg",TAN:"tan_deg",ASIN:"asin_deg",ACOS:"acos_deg",ATAN:"atan_deg"}[K(a,"OP")]+"("+b+")",W.qb]};W.pond_math_number=W.math_number;L.pond_loc_x=L.pond_getX;W.pond_loc_x=W.pond_getX;L.pond_loc_y=L.pond_getY;W.pond_loc_y=W.pond_getY;L.pond_controls_if=L.controls_if;W.pond_controls_if=W.controls_if;L.pond_loops_while=L.controls_whileUntil;W.pond_loops_while=W.controls_whileUntil;
L.pond_math_arithmetic=L.math_arithmetic;W.pond_math_arithmetic=W.math_arithmetic;L.pond_math_change=L.math_change;W.pond_math_change=W.math_change;function ko(){var a={lang:Fl,Xt:Il},b=U("Games.pond",!0);b='\n<span id="title">\n  <a href="'+(a.Xt?"index.html":"./")+"?lang="+a.lang+'">'+U("Games.name",!0)+"</a> : "+b+"\n</span>\n";if(a.level){for(var c=" &nbsp ",d=1;d<=a.bu;d++){var e="?lang="+a.lang+"&level="+d;c+=" ";c=d===a.level?c+('<span class="level_number level_done" id="level'+d+'">'+d+"</span>"):d===a.bu?c+('<a class="level_number" id="level'+d+'" href="'+e+'">'+d+"</a>"):c+('<a class="level_dot" id="level'+d+'" href="'+e+'"></a>')}a=
c}else a="";return'\n\n<table width="100%" style="display:none;">\n  <tr>\n    <td>\n      <h1>\n        '+(b+"\n        "+a+'\n      </h1>\n    </td>\n    <td id="header_cta" class="farSide">\n      <select id="languageMenu"></select>\n      \n      \n      \n    </td>\n  </tr>\n</table>\n\n\n\n<div id="visualization">\n  <canvas id="scratch" width=400 height=400 style="display: none"></canvas>\n  <canvas id="display" width=400 height=400></canvas>\n</div>\n\n<table id="avatarStatTable">\n  <tbody>\n    <tr id="avatarStatRow1"></tr>\n    <tr id="avatarStatRow2"></tr>\n  </tbody>\n</table>\n\n<table width=400>\n  <tr>\n    <td style="width: 190px; text-align: center; vertical-align: top;">\n      <button id="docsButton" title="')+
(U("Pond.docsTooltip",!0)+'">\n        '+U("Pond.documentation",!0)+'\n      </button>\n    </td>\n    <td>\n      <button id="runButton" class="primary" title="'+U("Games.runTooltip",!0)+'">\n        <img src="common/1x1.gif" class="run icon21"> '+U("Games.runProgram",!0)+'\n      </button>\n      <button id="resetButton" class="primary" style="display: none" title="'+U("Games.resetTooltip",!0)+'">\n        <img src="common/1x1.gif" class="stop icon21"> '+U("Games.resetProgram",!0)+'\n      </button>\n    </td>\n  </tr>\n</table>\n\n<div id="dialogDocs">\n  <img src="common/1x1.gif" class="close icon21" id="closeDocs">\n  <iframe id="frameDocs"></iframe>\n</div>\n\n\n<div id="tabarea">\n  <div id="editorBar" class="tab-bar">\n    <div><select id="avatar-select"></select></div>\n    <div class="tab tab-selected">')+
U("Games.blocks",!0)+'</div>\n    <div class="tab">JavaScript</div>\n  </div>\n  <div class="tab-bar-clear"></div>\n  <div id="blockly"></div>\n  <div id="editor"></div>\n</div>\n\n\n<xml id="toolbox" xmlns="https://developers.google.com/blockly/xml">\n  <category name="'+(U("Games.pond",!0)+'">\n    <block type="pond_cannon">\n      <value name="DEGREE">\n        <shadow type="pond_math_number">\n          <mutation angle_field="true"></mutation>\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n      <value name="RANGE">\n        <shadow type="pond_math_number">\n          <mutation angle_field="false"></mutation>\n          <field name="NUM">70</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="pond_scan">\n      <value name="DEGREE">\n        <shadow type="pond_math_number">\n          <mutation angle_field="true"></mutation>\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="pond_swim">\n      <value name="DEGREE">\n        <shadow type="pond_math_number">\n          <mutation angle_field="true"></mutation>\n          <field name="NUM">0</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="pond_stop"></block>\n    <block type="pond_getX"></block>\n    <block type="pond_getY"></block>\n    <block type="pond_speed"></block>\n    <block type="pond_health"></block>\n    <block type="pond_log">\n      <value name="VALUE">\n        <shadow type="pond_math_number">\n          <mutation angle_field="false"></mutation>\n          <field name="NUM">123</field>\n        </shadow>\n      </value>\n    </block>\n  </category>\n  <category name="'+
U("Games.catLogic",!0)+'">\n    <block type="controls_if"></block>\n    <block type="logic_compare"></block>\n    <block type="logic_operation"></block>\n    <block type="logic_boolean"></block>\n  </category>\n  <category name="'+U("Games.catLoops",!0)+'">\n    <block type="controls_whileUntil"></block>\n  </category>\n  <category name="'+U("Games.catMath",!0)+'">\n    <block type="pond_math_number">\n      <mutation angle_field="false"></mutation>\n    </block>\n    <block type="math_arithmetic">\n      <value name="A">\n        <shadow type="math_number">\n          <field name="NUM">1</field>\n        </shadow>\n      </value>\n      <value name="B">\n        <shadow type="math_number">\n          <field name="NUM">1</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="pond_math_single">\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM">9</field>\n        </shadow>\n      </value>\n    </block>\n    <block type="math_random_float"></block>\n  </category>\n  <sep></sep>\n  <category name="'+
U("Games.catVariables",!0)+'" custom="VARIABLE"></category>\n  <category name="'+U("Games.catProcedures",!0)+'" custom="PROCEDURE"></category>\n</xml>\n\n\n\n<div id="dialogShadow" class="dialogAnimate"></div>\n<div id="dialogBorder"></div>\n<div id="dialog"></div>\n\n')};var Ul="pond-duck",lo=null,mo=!0,no=An=null;
function oo(){mo=!0;var a=T("avatar-select"),b=a.selectedIndex;if(An!==Z.ob[b]){Cn();An=Z.ob[b];a.style.backgroundColor=kn[An.Kl%kn.length];if(void 0!==An.Jp){dm&&dm.m();a={rtl:!1,trashcan:!0,readOnly:!An.gq,zoom:{controls:!0,wheel:!0}};(b=T("toolbox"))&&(a.toolbox=b);a.media="third-party/blockly/media/";a.oneBasedIndex=!1;dm=yj(a);Lf(dm,hm);a=Tc(An.Jp);Uc(a,dm);a=dm;a.tg.length=0;for(a=a.Ui.length=0;b=Ic[a];a++)b.Ab=!1;po(!1);qo(0)}void 0!==An.Lq&&(em.setValue(An.Lq,-1),po(!0),qo(1));em.setReadOnly(!An.gq);
mo=!1}}function qo(a){for(var b=0;b<lo.length;b++)a===b?lo[b].classList.add("tab-selected"):lo[b].classList.remove("tab-selected");b=["blockly","editor"];for(var c=0;c<b.length;c++)T(b[c]).style.visibility=c===a?"visible":"hidden";Td(!1);T("docsButton").disabled=!1;Kl=0===a?11:12;Bn&&(T("frameDocs").src="pond/docs.html?lang="+Fl+"&mode="+Kl);mo||fm||1!==a||(a=qm(),mo=!0,em.setValue(a,-1),mo=!1)}
function ro(){if(!mo){var a=fm?em.getValue():qm();fm?a.trim()||(dm.clear(),po(!1)):!dm.Sa(!1).length||confirm(U("Games.breakLink",!1))?po(!0):(mo=!0,setTimeout(function(){em.setValue(a,-1);mo=!1},0))}}function po(a){fm=a;var b=lo[0];a?b.classList.add("tab-disabled"):b.classList.remove("tab-disabled")}var so=document.createElement("script");so.type="text/javascript";so.src="pond/duck/default-ducks.js";document.head.appendChild(so);
(function(a){function b(){window.BlocklyGamesMsg?(window.BlocklyMsg&&(q=window.BlocklyMsg),a()):setTimeout(b,99)}window.addEventListener("load",b)})(function(){function a(){var t=e.offsetTop;f.style.top=t-window.pageYOffset+"px";f.style.left=Hl?"10px":"420px";f.style.width=window.innerWidth-440+"px";t=Math.max(0,t+f.offsetHeight-window.pageYOffset)+"px";for(var x=Hl?"10px":"420px",C=window.innerWidth-440+"px",Y=l(k),Q=Y.next();!Q.done;Q=Y.next())Q=Q.value,Q.style.top=t,Q.style.left=x,Q.style.width=
C}function b(t){return function(){c[t].classList.contains("tab-disabled")||qo(t)}}no=window.DUCKS;tk([{type:"pond_scan",message0:"%1(%2)",args0:["scan",{type:"input_value",name:"DEGREE",check:["Number","Angle"]}],inputsInline:!0,output:"Number",colour:290,tooltip:U("Pond.scanTooltip",!1)},{type:"pond_cannon",message0:"%1(%2, %3);",args0:["cannon",{type:"input_value",name:"DEGREE",check:["Number","Angle"]},{type:"input_value",name:"RANGE",check:"Number"}],inputsInline:!0,previousStatement:null,nextStatement:null,
colour:290,tooltip:U("Pond.cannonTooltip",!1)},{type:"pond_swim",message0:"%1(%2);",args0:["swim",{type:"input_value",name:"DEGREE",check:["Number","Angle"]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:290,tooltip:U("Pond.swimTooltip",!1)},{type:"pond_stop",message0:"%1(%2);",args0:["stop",""],previousStatement:null,nextStatement:null,colour:290,tooltip:U("Pond.stopTooltip",!1)},{type:"pond_health",message0:"%1(%2)",args0:["health",""],output:"Number",colour:290,tooltip:U("Pond.healthTooltip",
!1)},{type:"pond_speed",message0:"%1(%2)",args0:["speed",""],output:"Number",colour:290,tooltip:U("Pond.speedTooltip",!1)},{type:"pond_getX",message0:"%1(%2)",args0:["getX",""],output:"Number",colour:290,tooltip:U("Pond.locXTooltip",!1)},{type:"pond_getY",message0:"%1(%2)",args0:["getY",""],output:"Number",colour:290,tooltip:U("Pond.locYTooltip",!1)},{type:"pond_log",message0:"%1(%2);",args0:["log",{type:"input_value",name:"VALUE"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:290,
tooltip:U("Pond.logTooltip",!1)}]);document.body.innerHTML=ko();vn();var c=Array.prototype.slice.call(document.querySelectorAll("#editorBar>.tab"));lo=c;for(var d=0;d<c.length;d++)Vl(c[d],b(d));var e=T("visualization"),f=T("tabarea");d=T("blockly");var h=T("editor"),k=[d,h];window.addEventListener("scroll",function(){a(null);Cj(dm)});window.addEventListener("resize",a);a(null);om().on("change",ro);nm();wm("scan,cannon,drive,swim,stop,speed,damage,health,loc_x,getX,loc_y,getY,log");d=[new r(20,80),
new r(80,80),new r(20,20),new r(80,20)];h=T("avatar-select");for(var m=0;m<no.length;m++){var n=no[m];null===n.name&&(n.name=U("Pond.playerName",!1));var p=new Option(n.name,n.id);h.add(p);p=new $m(n.name,d[m],n.editable);void 0===n.blockly&&void 0===n.js&&(n.js=n.compiled);n.js&&(n.js=n.js.replace(/^\s*\n/,"").trimRight());an(p,n.blockly,n.js,n.compiled)}h.addEventListener("change",oo);Z.reset();nn();h&&oo()});
